"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[4e3],{94e3:function(r,e,o){o.r(e);var n=o(1413),t=o(74165),a=o(15861),i=o(29439),s=o(19536),c=o(66212),u=o(1550),l=o(24631),p=o(41727),d=o(15480),v=o(25298),m=o(24193),x=o(71263),f=o(73428),h=o(93405),Z=o(16957),_=o(5178),C=o(9019),b=o(47313),j=o(521),N=o(62563),P=o(75627),E=o(3463),g=(o(77453),o(30210)),k=o(68673),y=o(51111),w=o.n(y),I=(o(88282),o(75265)),F=o(46417);e.default=function(){var r=new g.Z,e=(0,k.Z)(),o=(0,b.useState)([]),y=(0,i.Z)(o,2),T=y[0],D=y[1],W=(0,b.useState)([]),A=(0,i.Z)(W,2),U=A[0],q=A[1],S=(0,b.useState)([]),Q=(0,i.Z)(S,2),R=Q[0],V=Q[1],M=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.paises();case 3:o=r.sent,D(o),r.next=9;break;case 7:r.prev=7,r.t0=r.catch(0);case 9:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(){return r.apply(this,arguments)}}(),B=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(o){var n;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!o){r.next=8;break}return r.next=4,e.ProvinciasPorPais(parseInt(o));case 4:n=r.sent,q(n),r.next=9;break;case 8:q([]);case 9:r.next=13;break;case 11:r.prev=11,r.t0=r.catch(0);case 13:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}(),L=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(o){var n;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!o){r.next=9;break}return r.next=4,e.CiudadesPorProvincia(parseInt(o));case 4:n=r.sent,G(),V(n),r.next=10;break;case 9:V([]);case 10:r.next=14;break;case 12:r.prev=12,r.t0=r.catch(0);case 14:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}();(0,b.useEffect)((function(){M()}),[]);var O=E.Ry().shape({prov_NombreCompania:E.Z_().trim().required(""),prov_NombreContacto:E.Z_().trim().required(""),prov_Telefono:E.Z_().trim().required("N\xfamero de tel\xe9fono incompleto").test("formato","N\xfamero de tel\xe9fono incompleto",(function(r){return!!/^\+504 \d{4}-\d{4}$/.test(r)})),prov_CodigoPostal:E.Z_().trim().required(""),Pais:E.Ry().required(""),provincia:E.Ry().required(""),Ciudad:E.Ry().required(""),prov_DireccionExacta:E.Z_().trim().required(""),prov_CorreoElectronico:E.Z_().trim().required("").test("formato","Correo Electr\xf3nico Incorrecto",(function(r){return!!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r)})),prov_Fax:E.Z_().trim()}),z=(0,P.cI)({defaultValues:{prov_NombreCompania:"",prov_NombreContacto:"",prov_Telefono:"",prov_CodigoPostal:"",Pais:null,provincia:null,Ciudad:null,prov_DireccionExacta:"",prov_CorreoElectronico:"",prov_Fax:""},mode:"all",resolver:(0,N.X)(O)}),H=z.handleSubmit,K=(z.register,z.reset,z.control),X=z.watch,$=z.formState,G=z.setValue,J=$.isValid,Y=($.dirtyFields,$.errors),rr=($.touchedFields,X()),er=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.crear(rr);case 3:"1"==(o=e.sent).data.data.messageStatus?(j.Z.push("/Proveedores/index"),(0,I.ys)("El registro se ha insertado exitosamente")):o.data.data.messageStatus.includes("UNIQUE")&&(0,I.d0)(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,I.bW)();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),or=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:J?er():(0,I.KV)();case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,F.jsx)("form",{onSubmit:H((function(r){})),children:(0,F.jsxs)(f.Z,{sx:{minWidth:275,margin:"40px"},children:[(0,F.jsx)(Z.Z,{component:"img",height:"200",image:"https://i.ibb.co/sVPNb5T/PROVEEDORES.png",alt:"Encabezado de la carta"}),(0,F.jsx)(h.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,F.jsxs)(C.ZP,{container:!0,spacing:3,children:[(0,F.jsx)(C.ZP,{item:!0,xs:12,style:{marginBottom:"30px"},children:(0,F.jsx)(s.Z,{style:{marginTop:"0px"},children:(0,F.jsx)(c.Z,{label:"Crear Proveedor"})})}),(0,F.jsx)(C.ZP,{item:!0,xs:6,children:(0,F.jsx)("div",{className:" mb-16",children:(0,F.jsx)(P.Qr,{render:function(r){var e=r.field;return(0,F.jsxs)(u.Z,{error:!!Y.prov_NombreCompania,fullWidth:!0,children:[(0,F.jsx)(_.Z,{children:"Nombre de la Compa\xf1\xeda:"}),(0,F.jsx)(l.Z,(0,n.Z)((0,n.Z)({},e),{},{error:!!Y.prov_NombreCompania,variant:"outlined",fullWidth:!0,inputprops:{startAdornment:(0,F.jsx)(p.Z,{position:"start"})}}))]})},name:"prov_NombreCompania",control:K})})}),(0,F.jsx)(C.ZP,{item:!0,xs:6,children:(0,F.jsx)("div",{className:" mb-16",children:(0,F.jsx)(P.Qr,{render:function(r){var e=r.field;return(0,F.jsxs)(u.Z,{error:!!Y.prov_NombreContacto,fullWidth:!0,children:[(0,F.jsx)(_.Z,{children:"Nombre del Contacto:"}),(0,F.jsx)(l.Z,(0,n.Z)((0,n.Z)({},e),{},{error:!!Y.prov_NombreContacto,variant:"outlined",fullWidth:!0,inputprops:{startAdornment:(0,F.jsx)(p.Z,{position:"start"})}}))]})},name:"prov_NombreContacto",control:K})})}),(0,F.jsx)(C.ZP,{item:!0,xs:6,children:(0,F.jsx)("div",{className:" mb-16",children:(0,F.jsx)(P.Qr,{render:function(r){var e=r.field;r.fieldState;return(0,F.jsx)(w(),{mask:"+504 9999-9999",value:rr.prov_Telefono,onChange:e.onChange,onBlur:e.onBlur,maskChar:" ",children:function(){return(0,F.jsxs)(u.Z,{error:!!Y.prov_Telefono,fullWidth:!0,children:[(0,F.jsx)(_.Z,{children:"Tel\xe9fono o Celular:"}),(0,F.jsx)(l.Z,(0,n.Z)((0,n.Z)({},e),{},{variant:"outlined",error:!!Y.prov_Telefono,fullWidth:!0,inputprops:{startAdornment:(0,F.jsx)(p.Z,{position:"start"})}})),(0,F.jsxs)(d.Z,{children:[Y.prov_Telefono?"Ingrese todo el n\xfamero de tel\xe9fono":""," "]})]})}})},name:"prov_Telefono",control:K})})}),(0,F.jsx)(C.ZP,{item:!0,xs:6,children:(0,F.jsx)("div",{className:" mb-16",children:(0,F.jsx)(P.Qr,{render:function(r){var e=r.field;return(0,F.jsxs)(u.Z,{error:!!Y.prov_CodigoPostal,fullWidth:!0,children:[(0,F.jsx)(_.Z,{children:"C\xf3digo Postal:"}),(0,F.jsx)(l.Z,(0,n.Z)((0,n.Z)({},e),{},{type:"number",error:!!Y.prov_CodigoPostal,variant:"outlined",fullWidth:!0,inputprops:{startAdornment:(0,F.jsx)(p.Z,{position:"start"})}}))]})},name:"prov_CodigoPostal",control:K})})}),(0,F.jsx)(C.ZP,{item:!0,xs:6,children:(0,F.jsx)("div",{className:" mb-16",children:(0,F.jsx)(P.Qr,{render:function(r){var e=r.field;return(0,F.jsxs)(u.Z,{error:!!Y.prov_CorreoElectronico,fullWidth:!0,children:[(0,F.jsx)(_.Z,{children:"Correo Electr\xf3nico:"}),(0,F.jsx)(l.Z,(0,n.Z)((0,n.Z)({},e),{},{error:!!Y.prov_CorreoElectronico,variant:"outlined",fullWidth:!0,inputprops:{startAdornment:(0,F.jsx)(p.Z,{position:"start"})}})),(0,F.jsxs)(d.Z,{children:[Y.prov_CorreoElectronico?"Ingres\xe9 Un Correo Electr\xf3nico Valido":""," "]})]})},name:"prov_CorreoElectronico",control:K})})}),(0,F.jsx)(C.ZP,{item:!0,xs:6,children:(0,F.jsx)("div",{className:" mb-16",children:(0,F.jsx)(P.Qr,{render:function(r){var e=r.field;return(0,F.jsxs)(u.Z,{error:!!Y.prov_Fax,fullWidth:!0,children:[(0,F.jsx)(_.Z,{children:"Fax:"}),(0,F.jsx)(l.Z,(0,n.Z)((0,n.Z)({type:"number"},e),{},{error:!!Y.prov_Fax,variant:"outlined",fullWidth:!0,inputprops:{startAdornment:(0,F.jsx)(p.Z,{position:"start"})}}))]})},name:"prov_Fax",control:K})})}),(0,F.jsx)(C.ZP,{item:!0,xs:6,children:(0,F.jsx)("div",{className:" mb-16",children:(0,F.jsx)(P.Qr,{name:"Pais",control:K,render:function(r){var e,o=r.field;return(0,F.jsxs)(u.Z,{error:!!Y.Pais,fullWidth:!0,children:[(0,F.jsx)(_.Z,{error:!!Y.Pais,children:"Pa\xeds:"}),(0,F.jsx)(v.Z,(0,n.Z)((0,n.Z)({disableClearable:!0},o),{},{disablePortal:!0,isOptionEqualToValue:function(r,e){return r.value===e.value},id:"Pais",options:T,value:null!==(e=rr.Pais)&&void 0!==e?e:null,onChange:function(){var r=(0,a.Z)((0,t.Z)().mark((function r(e,o){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:G("Pais",o),G("provincia",null),G("Ciudad",null),B(null===o||void 0===o?void 0:o.value),o||G("pvin_Id",[]);case 5:case"end":return r.stop()}}),r)})));return function(e,o){return r.apply(this,arguments)}}(),renderInput:function(r){return(0,F.jsx)(l.Z,(0,n.Z)((0,n.Z)({},r),{},{error:!!Y.Pais,InputLabelProps:{shrink:!0}}))}}))]})}})})}),(0,F.jsx)(C.ZP,{item:!0,xs:6,children:(0,F.jsx)("div",{className:" mb-16",children:(0,F.jsx)(P.Qr,{name:"provincia",control:K,render:function(r){var e,o=r.field;return(0,F.jsxs)(u.Z,{error:!!Y.provincia,fullWidth:!0,children:[(0,F.jsx)(_.Z,{error:!!Y.provincia,children:"Provincia:"}),(0,F.jsx)(v.Z,(0,n.Z)((0,n.Z)({disableClearable:!0},o),{},{disablePortal:!0,isOptionEqualToValue:function(r,e){return r.value===e.value},id:"provincia",options:U,value:null!==(e=rr.provincia)&&void 0!==e?e:null,onChange:function(){var r=(0,a.Z)((0,t.Z)().mark((function r(e,o){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:G("provincia",o),G("Ciudad",""),L(null===o||void 0===o?void 0:o.value);case 3:case"end":return r.stop()}}),r)})));return function(e,o){return r.apply(this,arguments)}}(),renderInput:function(r){return(0,F.jsx)(l.Z,(0,n.Z)((0,n.Z)({},r),{},{error:!!Y.provincia,InputLabelProps:{shrink:!0}}))}}))]})}})})}),(0,F.jsx)(C.ZP,{item:!0,xs:6,children:(0,F.jsx)("div",{className:" mb-16",children:(0,F.jsx)(P.Qr,{name:"Ciudad",control:K,render:function(r){var e,o=r.field;return(0,F.jsxs)(u.Z,{error:!!Y.Ciudad,fullWidth:!0,children:[(0,F.jsx)(_.Z,{error:!!Y.Ciudad,children:"Ciudad:"}),(0,F.jsx)(v.Z,(0,n.Z)((0,n.Z)({disableClearable:!0},o),{},{disablePortal:!0,isOptionEqualToValue:function(r,e){return r.value===e.value},id:"Ciudad",options:R,value:null!==(e=rr.Ciudad)&&void 0!==e?e:null,onChange:function(){var r=(0,a.Z)((0,t.Z)().mark((function r(e,o){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:G("Ciudad",o);case 1:case"end":return r.stop()}}),r)})));return function(e,o){return r.apply(this,arguments)}}(),renderInput:function(r){return(0,F.jsx)(l.Z,(0,n.Z)((0,n.Z)({},r),{},{error:!!Y.Ciudad,InputLabelProps:{shrink:!0}}))}}))]})}})})}),(0,F.jsx)(C.ZP,{item:!0,xs:12,children:(0,F.jsx)("div",{className:" mb-16",children:(0,F.jsx)(P.Qr,{render:function(r){var e=r.field;return(0,F.jsxs)(u.Z,{error:!!Y.prov_DireccionExacta,fullWidth:!0,children:[(0,F.jsx)(_.Z,{children:"Direcci\xf3n Exacta:"}),(0,F.jsx)(l.Z,(0,n.Z)((0,n.Z)({},e),{},{error:!!Y.prov_DireccionExacta,variant:"outlined",inputprops:{startAdornment:(0,F.jsx)(p.Z,{position:"start"})}}))]})},name:"prov_DireccionExacta",control:K})})}),(0,F.jsxs)(C.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,F.jsx)(m.Z,{startIcon:(0,F.jsx)(x.Z,{children:"checked"}),variant:"contained",color:"primary",type:"submit",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:or,children:"Guardar"}),(0,F.jsx)(m.Z,{startIcon:(0,F.jsx)(x.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:function(){j.Z.push("/Proveedores/Index")},children:"Cancelar"})]})]})})]})})}},30210:function(r,e,o){var n=o(74165),t=o(15861),a=o(31881),i=o.n(a),s=o(9098);e.Z=function(){var r={XApiKey:s.Z.extraerToken()},e=i().create({baseURL:"https://practicaacademia.somee.com/api/Proveedores/",headers:r}),o=JSON.parse(localStorage.getItem("user"));function a(){return(a=(0,t.Z)((0,n.Z)().mark((function r(){var o,t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.get("Listar");case 3:return o=r.sent,t=o.data.data.map((function(r,e){return{key:e+1,prov_Id:r.prov_Id,prov_NombreCompania:r.prov_NombreCompania,prov_NombreContacto:r.prov_NombreContacto,prov_Telefono:r.prov_Telefono,prov_CodigoPostal:r.prov_CodigoPostal,prov_Ciudad:r.prov_Ciudad,ciud_Nombre:r.ciud_Nombre,pvin_Id:r.pvin_Id,pvin_Nombre:r.pvin_Nombre,pais_Id:r.pais_Id,pais_Codigo:r.pais_Codigo,pais_Nombre:r.pais_Nombre,prov_DireccionExacta:r.prov_DireccionExacta,prov_CorreoElectronico:r.prov_CorreoElectronico,prov_Fax:r.prov_Fax,usua_UsuarioCreacion:r.usua_UsuarioCreacion,prov_FechaCreacion:r.prov_FechaCreacion,usuarioCreacionNombre:r.usuarioCreacionNombre,usua_UsuarioModificacion:r.usua_UsuarioModificacion,prov_FechaModificacion:r.prov_FechaModificacion,usuarioModificadorNombre:r.usuarioModificadorNombre,usua_UsuarioEliminacion:r.usua_UsuarioEliminacion,prov_FechaEliminacion:r.prov_FechaEliminacion,usuarioEliminacionNombre:r.usuarioEliminacionNombre,prov_Estado:r.prov_Estado}})),r.abrupt("return",t);case 8:r.prev=8,r.t0=r.catch(0);case 10:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}function c(){return(c=(0,t.Z)((0,n.Z)().mark((function r(){var o,t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.get("Listar");case 3:return o=r.sent,t=o.data.data.map((function(r,e){return{key:e+1,prov_NombreCompania:r.prov_NombreCompania,prov_NombreContacto:r.prov_NombreContacto,prov_Telefono:r.prov_Telefono}})),r.abrupt("return",t);case 8:r.prev=8,r.t0=r.catch(0);case 10:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}function u(){return(u=(0,t.Z)((0,n.Z)().mark((function r(t){var a,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a={prov_NombreCompania:t.prov_NombreCompania.trim(),prov_NombreContacto:t.prov_NombreContacto.trim(),prov_Telefono:t.prov_Telefono.trim(),prov_CodigoPostal:t.prov_CodigoPostal.trim(),prov_Ciudad:t.Ciudad.value,prov_DireccionExacta:t.prov_DireccionExacta.trim(),prov_CorreoElectronico:t.prov_CorreoElectronico.trim(),prov_Fax:t.prov_Fax.trim(),usua_UsuarioCreacion:o.uuid,prov_FechaCreacion:s.Z.formatFechaHora(new Date)},r.next=4,e.post("Insertar",a);case 4:return i=r.sent,r.abrupt("return",i);case 8:r.prev=8,r.t0=r.catch(0);case 10:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}function l(){return(l=(0,t.Z)((0,n.Z)().mark((function r(t){var a,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a={prov_Id:t.id,prov_NombreCompania:t.prov_NombreCompania.trim(),prov_NombreContacto:t.prov_NombreContacto.trim(),prov_Telefono:t.prov_Telefono.trim(),prov_CodigoPostal:t.prov_CodigoPostal.trim(),prov_Ciudad:t.Ciudad.value,prov_DireccionExacta:t.prov_DireccionExacta.trim(),prov_CorreoElectronico:t.prov_CorreoElectronico.trim(),prov_Fax:t.prov_Fax.trim(),usua_UsuarioModificacion:o.uuid,prov_FechaModificacion:s.Z.formatFechaHora(new Date)},r.next=4,e.post("Editar",a);case 4:return i=r.sent,r.abrupt("return",i);case 8:r.prev=8,r.t0=r.catch(0);case 10:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}function p(){return(p=(0,t.Z)((0,n.Z)().mark((function r(t){var a,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a={prov_Id:t.id,usua_UsuarioEliminacion:o.uuid,prov_FechaEliminacion:s.Z.formatFechaHora(new Date)},r.next=4,e.post("Eliminar",a);case 4:return i=r.sent,r.abrupt("return",i);case 8:r.prev=8,r.t0=r.catch(0);case 10:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}return{listar:function(){return a.apply(this,arguments)},crear:function(r){return u.apply(this,arguments)},editar:function(r){return l.apply(this,arguments)},eliminar:function(r){return p.apply(this,arguments)},ExportData:function(){return c.apply(this,arguments)}}}}}]);