"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[4866],{64866:function(e,t,r){r.r(t),r.d(t,{default:function(){return xe}});var n=r(74165),a=r(15861),o=r(4942),i=r(1413),l=r(29439),s=r(62563),c=r(57983),d=r(35898),u=r(24193),p=r(71263),x=r(82047),h=r(51405),f=r(73428),m=r(16957),Z=r(65033),g=r(93405),y=r(9019),j=r(61113),v=r(1550),b=r(88797),_=r(24631),C=r(41727),k=r(47131),w=r(9506),S=r(15103),D=r(94469),I=r(33604),N=r(96467),R=r(97762),E=r(4117),A=r(66212),F=r(19536),P=r(28155),B=r(47313),M=r(75627),T=r(58467),z=(r(88282),r(521)),L=r(89145),O=r(75265),H=r(3463),U=r(26057),W=r(280),J=r(66106),K=r(40894),q=r(93433),V=r(66244),X=r(78925),G=r(48737),Y=r(46417);var Q=function(e){var t=e.data,r=e.handleCloseExportar;return(0,Y.jsxs)(h.Z,{onClick:function(){!function(){var e=t.map((function(e){return[e.key,e.role_Descripcion,e.detalles]})),r=G.P6.aoa_to_sheet([["No.","Descripci\xf3n del rol","Pantallas"]].concat((0,q.Z)(e))),n=G.P6.book_new();G.P6.book_append_sheet(n,r,"Sheet1");var a=G.cW(n,{bookType:"xlsx",type:"array"}),o=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,X.saveAs)(o,"Roles.xlsx")}(),r()},style:{fontSize:"15px",marginTop:"5px",marginBottom:"5px"},children:[(0,Y.jsx)(V.Z,{style:{fontSize:"20px"}}),"\xa0\xa0Archivo Excel"]})},$=r(76278),ee=r(31881),te=r.n(ee),re=r(39284),ne=r.n(re),ae=r(11593),oe=r(9098);ne().vfs=ae.I.vfs;var ie=function(e){var t=e.data,r=e.handleCloseExportar,o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,a,o,i,l,s,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="A4",a=[40,60,40,60],"https://i.ibb.co/MPn5hrr/Captura.png",o=oe.Z.formatFechaHora(new Date),i=JSON.parse(localStorage.getItem("user")),e.prev=5,e.next=8,te().get("https://i.ibb.co/MPn5hrr/Captura.png",{responseType:"blob"});case 8:l=e.sent,s=l.data,(c=new FileReader).onload=function(){for(var e={content:[{image:c.result,margin:[-40,-40],width:600,height:45},{text:"Roles",style:"header",margin:[0,40,0,20]}],styles:{header:{fontSize:26,bold:!0,color:"black",alignment:"center",underline:!0},tableHeader:{fontSize:14,bold:!0,color:"black",alignment:"center",fillColor:"#E8D8FF"},subHeader:{fontSize:14,bold:!1,color:"black",alignment:"left"},footer:{fontSize:10,alignment:"center"}},pageBreakBefore:function(e,t,n,o){return e.y+e.height>r[1]-a[3]},defaultStyle:{fontSize:12},footer:function(e,t){return{columns:[{text:"Generado por: ".concat(i.data.displayName),style:"footer"},{text:"P\xe1gina ".concat(e.toString()," de ").concat(t),style:"footer"},{text:"Fecha: ".concat(o.toString().slice(0,10)),style:"footer"}],margin:[0,20]}}},n=0;n<t.length;n++){if(e.content.push({text:"No.: ".concat(t[n].key),margin:[0,0,0,5]},{text:"Descripci\xf3n del rol: ".concat(t[n].role_Descripcion),margin:[0,0,0,5]}),t[n].detalles){e.content.push({table:{widths:[250,250],body:[[{text:"No.",style:"tableHeader"},{text:"Descripci\xf3n de la pantalla",style:"tableHeader"}]]}});for(var l=0;l<t[n].detalles.length;l++)e.content.push({table:{widths:[250,250],body:[[t[n].detalles[l].key,t[n].detalles[l].pant_Nombre]]}})}else e.content.push({text:"- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -"});e.content.push({canvas:[{type:"line",x1:0,y1:0,x2:515,y2:0,lineWidth:10,lineColor:"#E1E1E1"}],margin:[0,35,0,35]})}ne().createPdf(e).getDataUrl((function(e){window.open().document.write('<iframe src="'.concat(e,'" width="100%" height="100%"></iframe>'))}))},c.readAsDataURL(s),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(5);case 17:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}();return(0,Y.jsx)("div",{children:(0,Y.jsxs)(h.Z,{onClick:function(){o(),r()},style:{fontSize:"15px",marginTop:"5px",marginBottom:"5px"},children:[(0,Y.jsx)($.Z,{style:{fontSize:"20px"}}),"\xa0\xa0Archivo PDF"]})})},le={id:"",role_Descripcion:""},se=H.Ry().shape({role_Id:H.Z_(),role_Descripcion:H.Z_().required("")}),ce={marginRight:"5px",verticalAlign:"middle",color:"#634a9e"},de={"&:hover":{backgroundColor:"coral"}},ue={verticalAlign:"middle",padding:"15px",textAlign:"left",borderBottom:"1px solid #ddd"},pe={verticalAlign:"middle",padding:"15px",textAlign:"left",borderBottom:"1px solid #ddd",backgroundColor:"#f2f2f2"};var xe=function(){var e=(0,U.Z)(),t=(0,B.useState)([]),r=(0,l.Z)(t,2),H=r[0],q=r[1],V=(0,B.useState)([]),X=(0,l.Z)(V,2),G=X[0],$=X[1],ee=(0,B.useState)({}),te=(0,l.Z)(ee,2),re=te[0],ne=te[1],ae=(0,B.useState)(""),oe=(0,l.Z)(ae,2),xe=oe[0],he=oe[1],fe=(0,B.useState)(!0),me=(0,l.Z)(fe,2),Ze=me[0],ge=me[1],ye=(0,B.useState)(!1),je=(0,l.Z)(ye,2),ve=je[0],be=je[1],_e=B.useState(10),Ce=(0,l.Z)(_e,2),ke=Ce[0],we=Ce[1],Se=(0,B.useState)(!1),De=(0,l.Z)(Se,2),Ie=De[0],Ne=De[1],Re=(0,T.s0)(),Ee=(0,B.useState)(null),Ae=(0,l.Z)(Ee,2),Fe=Ae[0],Pe=Ae[1],Be=function(e){$e((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,o.Z)({},e,null))}))},Me=function(){ge(!Ze),Ne(!Ie)},Te=(0,M.cI)({defaultRolesValues:le,mode:"all",resolver:(0,s.X)(se)}),ze=Te.watch,Le=Te.setValue,Oe=ze();(0,B.useEffect)((function(){Ke(),qe()}),[]);var He=(0,B.useState)([]),Ue=(0,l.Z)(He,2),We=Ue[0],Je=Ue[1],Ke=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Je([]),$([]),t.next=5,e.ListadoRoles();case 5:r=t.sent,$(r),r.length>0?Je(r):Je(null),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Je(null);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),qe=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=q,t.next=4,e.ExportData();case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=10;break;case 8:t.prev=8,t.t2=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),Ve=function(){be(!ve)},Xe=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.EliminarRoles(Oe);case 3:"1"==(r=t.sent).data.data.messageStatus?((0,O.xO)("El registro se ha eliminado exitosamente"),Ke(),Ve()):"0"==r.data.data.messageStatus&&(Ve(),(0,O.tb)()),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),Ge=(0,B.useState)({}),Ye=(0,l.Z)(Ge,2),Qe=Ye[0],$e=Ye[1],et=[{title:"No.",dataIndex:"key",key:"key",sorter:function(e,t){return e.role_Id-t.role_Id}},{title:"Descripci\xf3n del rol",dataIndex:"role_Descripcion",key:"role_Descripcion",sorter:function(e,t){return e.role_Descripcion.localeCompare(t.role_Descripcion)}},{title:"Acciones",key:"operation",render:function(e){return(0,Y.jsx)("div",{children:(0,Y.jsxs)(d.Z,{direction:"row",spacing:1,children:[(0,Y.jsx)(u.Z,{"aria-controls":"menu-".concat(e.role_Id),"aria-haspopup":"true",onClick:function(t){return r=t,n=e.role_Id,void $e((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,o.Z)({},n,r.currentTarget))}));var r,n},variant:"contained",style:{borderRadius:"10px",backgroundColor:"#634A9E",color:"white"},startIcon:(0,Y.jsx)(p.Z,{children:"menu"}),children:"Opciones"}),(0,Y.jsxs)(x.Z,{role_Id:"menu-".concat(e.role_Id),anchorEl:Qe[e.role_Id],keepMounted:!0,open:Boolean(Qe[e.role_Id]),onClose:function(){return Be(e.role_Id)},children:[(0,Y.jsxs)(h.Z,{onClick:function(){return function(e,t,r){var n={role:e,nombre:t,pantallas:r};z.Z.push("Roles/Editar",n)}(e.role_Id,e.role_Descripcion,e.detalles)},children:[(0,Y.jsx)(p.Z,{children:"edit"}),"\u3164Editar"]}),(0,Y.jsxs)(h.Z,{onClick:function(){return ne(t=e),Me(),void Be(t.role_Id);var t},children:[(0,Y.jsx)(p.Z,{children:"visibility"}),"\u3164Detalles"]}),(0,Y.jsxs)(h.Z,{onClick:function(){return Le("id",(t=e).role_Id),Ve(),void Be(t.role_Id);var t},children:[(0,Y.jsx)(p.Z,{children:"delete"}),"\u3164Eliminar"]})]})]})},e.role_Id)}}],tt={filename:"Roles",fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,useBom:!0,useKeysAsHeaders:!1,headers:[{label:"No."},{label:"Descripci\xf3n del rol"},{label:"Pantallas"}].map((function(e){return e.label}))},rt=new K.ExportToCsv(tt),nt={columnTitle:"Desplegar detalle",expandedRowKeys:[Fe],expandedRowRender:function(e){return(0,Y.jsx)(P.Z,{columns:at,dataSource:e.detalles,pagination:!1})},rowExpandable:function(e){return"Not Expandable"!==e.name},onExpand:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pe(t?r.key:null);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},at=[{title:"No.",dataIndex:"key",key:"key",sorter:function(e,t){return e.pant_Id-t.pant_Id}},{title:"Descripci\xf3n de la pantalla",dataIndex:"pant_Nombre",key:"pant_Nombre",sorter:function(e,t){return e.pant_Nombre.localeCompare(t.pant_Nombre)}}],ot=["key","role_Descripcion","pant_Nombre","ropa_Id"],it=G.filter((function(e){if(""===xe)return!0;for(var t=0,r=Object.entries(e);t<r.length;t++){var n=(0,l.Z)(r[t],2),a=n[0],o=n[1];if(ot.includes(a)){var i="number"===typeof o?o.toString():o.toString().toLowerCase(),s="number"===typeof xe?xe.toString():xe.toLowerCase();if(i.includes(s))return!0}}return!1})).slice().reverse(),lt=function(){$e((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,o.Z)({},"menu-exportar",null))}))};return(0,Y.jsxs)(f.Z,{sx:{minWidth:275,margin:"40px"},children:[(0,Y.jsx)(m.Z,{component:"img",height:"200",image:"https://i.ibb.co/gMjB52g/ROLES.png",alt:"Encabezado de la carta"}),(0,Y.jsx)(Z.Z,{in:Ze,children:(0,Y.jsx)(g.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,Y.jsxs)(y.ZP,{container:!0,spacing:1,children:[(0,Y.jsx)(y.ZP,{item:!0,xs:12,sm:12,md:6,display:"flex",sx:{justifyContent:{xs:"center",sm:"center",md:"start"}},children:(0,Y.jsxs)(d.Z,{direction:"row",spacing:1,children:[(0,Y.jsx)(u.Z,{startIcon:(0,Y.jsx)(p.Z,{children:"add"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(e){Re("/Roles/Crear")},children:"Nuevo"}),(0,Y.jsxs)(u.Z,{startIcon:(0,Y.jsx)(p.Z,{children:"upload"}),onClick:function(e){return t=e,r="menu-exportar",void $e((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,o.Z)({},r,t.currentTarget))}));var t,r},sx:{backgroundColor:"#dcc25a",color:"white","&:hover":{backgroundColor:"#dcc25a"}},style:{borderRadius:"10px"},children:[(0,Y.jsx)(j.Z,{children:"Exportar"}),(0,Y.jsx)(J.Z,{})]}),(0,Y.jsx)("div",{children:(0,Y.jsxs)(x.Z,{id:"menu-exportar",anchorEl:Qe["menu-exportar"],open:Boolean(Qe["menu-exportar"]),onClose:function(){return lt()},keepMounted:!0,children:[(0,Y.jsxs)(h.Z,{onClick:function(){!function(){try{rt.generateCsv(H)}catch(e){}}(),lt()},style:{fontSize:"15px",marginTop:"5px",marginBottom:"5px"},children:[(0,Y.jsx)(W.Z,{style:{fontSize:"20px"}}),"\xa0\xa0Archivo CSV"]}),(0,Y.jsx)(ie,{data:G,handleCloseExportar:lt}),(0,Y.jsx)(Q,{data:H,handleCloseExportar:lt})]})},"menu-exportar")]})}),(0,Y.jsxs)(y.ZP,{item:!0,xs:12,sm:6,md:3,display:"flex",sx:{justifyContent:{xs:"center",sm:"end",md:"end"}},children:[(0,Y.jsx)("label",{className:"mt-8",children:"Filas por p\xe1gina:"}),(0,Y.jsx)(v.Z,{sx:{minWidth:50},size:"small",children:(0,Y.jsxs)(b.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:ke,onChange:function(e){we(e.target.value)},children:[(0,Y.jsx)(h.Z,{value:10,children:"10"}),(0,Y.jsx)(h.Z,{value:20,children:"20"}),(0,Y.jsx)(h.Z,{value:30,children:"30"})]})})]}),(0,Y.jsx)(y.ZP,{item:!0,xs:12,sm:6,md:3,display:"flex",sx:{justifyContent:{xs:"center",sm:"start",md:"center"}},children:(0,Y.jsx)(_.Z,{style:{borderRadius:"10px"},placeholder:"Buscar",value:xe,onChange:function(e){he(e.target.value)},size:"small",variant:"outlined",InputProps:{startAdornment:(0,Y.jsx)(C.Z,{position:"start",children:(0,Y.jsx)(k.Z,{edge:"start",children:(0,Y.jsx)(c.Z,{})})})}})})]})})}),(0,Y.jsx)(Z.Z,{in:Ze,children:(0,Y.jsx)("div",{className:"center",style:{width:"95%",margin:"auto"},children:(0,Y.jsx)(P.Z,{columns:et,expandable:nt,locale:{triggerDesc:"Ordenar descendente",triggerAsc:"Ordenar ascendente",cancelSort:"Cancelar",emptyText:(0,L.Z)(We)},dataSource:it,size:"small",scroll:{x:!0},pagination:{pageSize:ke,className:"custom-pagination"}})})}),(0,Y.jsx)(Z.Z,{in:Ie,children:(0,Y.jsx)(g.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,Y.jsxs)(y.ZP,{container:!0,spacing:3,children:[(0,Y.jsx)(y.ZP,{item:!0,xs:12,style:{marginBottom:"30px"},children:(0,Y.jsx)(F.Z,{style:{marginTop:"0px",marginBottom:"10px"},children:(0,Y.jsx)(A.Z,{label:"Detalles del Rol"})})}),(0,Y.jsx)(y.ZP,{item:!0,xs:12,style:(0,o.Z)({marginBottom:"25px",marginLeft:"30px",display:"flex",justifyContent:"center"},"marginBottom","40px"),children:(0,Y.jsxs)(w.Z,{sx:{display:"flex",flexDirection:"row"},children:[(0,Y.jsx)(w.Z,{sx:{flex:1,textAlign:"center",marginRight:"80px"},children:(0,Y.jsxs)(S.Z,{htmlFor:"id",children:[(0,Y.jsx)(j.Z,{sx:{fontWeight:"bold",color:"#000000"},children:"Id del Rol:"}),(0,Y.jsx)(j.Z,{children:re.role_Id})]})}),(0,Y.jsx)(w.Z,{sx:{flex:1,textAlign:"center",marginLeft:"80px"},children:(0,Y.jsxs)(S.Z,{htmlFor:"descripcion",children:[(0,Y.jsx)(j.Z,{sx:{fontWeight:"bold",color:"#000000"},children:"Descripci\xf3n del rol:"}),(0,Y.jsx)(j.Z,{children:re.role_Descripcion})]})})]})}),(0,Y.jsx)(y.ZP,{container:!0,justifyContent:"center",style:(0,o.Z)({marginBottom:"25px",marginLeft:"30px"},"marginBottom","40px"),children:(0,Y.jsx)(y.ZP,{item:!0,xs:12,children:(0,Y.jsx)(w.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,Y.jsx)(w.Z,{sx:{flex:1},children:(0,Y.jsxs)(S.Z,{htmlFor:"pantallas",children:[(0,Y.jsx)(F.Z,{style:{marginTop:"0px",marginBottom:"10px",borderColor:"#aa8caf"},children:(0,Y.jsx)(A.Z,{color:"default",variant:"outlined",label:"Pantallas asignadas"})}),(0,Y.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",textAlign:"left"},children:re.detalles?re.detalles.map((function(e,t){return(0,Y.jsxs)("div",{style:{margin:"0 30px"},children:["\u2714 ",e.pant_Nombre]},t)})):(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(j.Z,{display:"flex",justifyContent:"center",variant:"subtitle1",align:"center"}),(0,Y.jsx)(j.Z,{display:"flex",justifyContent:"center",variant:"subtitle1",align:"center",children:"No se han asignado pantallas hasta el momento."}),(0,Y.jsx)(j.Z,{display:"flex",justifyContent:"center",variant:"subtitle1",align:"center"})]})})]})})})})}),(0,Y.jsx)(y.ZP,{item:!0,xs:12,children:(0,Y.jsxs)("table",{id:"detallesTabla",style:{width:"100%",borderCollapse:"collapse"},children:[(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{children:[(0,Y.jsxs)("th",{style:pe,children:[(0,Y.jsx)(p.Z,{style:ce,children:"edit"}),"Accion"]}),(0,Y.jsxs)("th",{style:pe,children:[(0,Y.jsx)(p.Z,{style:ce,children:"person"}),"Usuario"]}),(0,Y.jsxs)("th",{style:pe,children:[(0,Y.jsx)(p.Z,{style:ce,children:"date_range"}),"Fecha y hora"]})]})}),(0,Y.jsxs)("tbody",{children:[(0,Y.jsxs)("tr",{style:de,children:[(0,Y.jsx)("td",{style:ue,children:(0,Y.jsx)("strong",{children:"Creaci\xf3n"})}),(0,Y.jsx)("td",{style:ue,children:re.usuarioCreacionNombre}),(0,Y.jsx)("td",{style:ue,children:re.role_FechaCreacion?new Date(re.role_FechaCreacion).toLocaleString():""})]}),(0,Y.jsxs)("tr",{style:de,children:[(0,Y.jsx)("td",{style:ue,children:(0,Y.jsx)("strong",{children:"Modificaci\xf3n"})}),(0,Y.jsx)("td",{style:ue,children:re.usuarioModificadorNombre}),(0,Y.jsx)("td",{style:ue,children:re.role_FechaModificacion?new Date(re.role_FechaModificacion).toLocaleString():""})]})]})]})}),(0,Y.jsx)(y.ZP,{item:!0,xs:12,children:(0,Y.jsxs)("div",{className:"card-footer",children:[(0,Y.jsx)(u.Z,{variant:"contained",style:{position:"fixed",top:"76%",right:"5%"},onClick:function(){ge(!Ze),Ne(!Ie)},startIcon:(0,Y.jsx)(p.Z,{children:"arrow_back"}),children:"Regresar"}),(0,Y.jsx)("br",{})]})})]})})}),(0,Y.jsxs)(D.Z,{open:ve,fullWidth:"md",onClose:Ve,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,Y.jsx)(I.Z,{id:"alert-dialog-title",children:"Confirmaci\xf3n de Eliminaci\xf3n"}),(0,Y.jsx)(N.Z,{children:(0,Y.jsx)(R.Z,{id:"alert-dialog-description",children:"\xbfEst\xe1 seguro(a) que desea eliminar este registro?"})}),(0,Y.jsx)(E.Z,{children:(0,Y.jsxs)(y.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,Y.jsx)(u.Z,{startIcon:(0,Y.jsx)(p.Z,{children:"checked"}),variant:"contained",color:"error",style:{borderRadius:"10px",marginRight:"10px"},onClick:Xe,children:"Eliminar"}),(0,Y.jsx)(u.Z,{startIcon:(0,Y.jsx)(p.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:Ve,children:"Cancelar"})]})})]})]})}},26057:function(e,t,r){var n=r(74165),a=r(15861),o=r(31881),i=r.n(o),l=r(9098);t.Z=function(){var e={XApiKey:l.Z.extraerToken()},t=i().create({baseURL:"https://practicaacademia.somee.com/api/Roles/",headers:e}),r=JSON.parse(localStorage.getItem("user"));function o(){return(o=(0,a.Z)((0,n.Z)().mark((function e(){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("Listar?role_Aduana="+r.esAduana.toString());case 3:return a=e.sent,o=a.data.data.map((function(e,t){var r=JSON.parse(e.detalles),n=null;return r&&(n=r.map((function(e,t){return{key:t+1,pant_Id:e.pant_Id,pant_Nombre:e.pant_Nombre}}))),{key:t+1,role_Id:e.role_Id,role_Descripcion:e.role_Descripcion,aduanero:e.aduanero,detalles:n,usuarioCreacionNombre:e.usuarioCreacionNombre,role_FechaCreacion:e.role_FechaCreacion,usuarioModificadorNombre:e.usuarioModificadorNombre,role_FechaModificacion:e.role_FechaModificacion}})),e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function s(){return(s=(0,a.Z)((0,n.Z)().mark((function e(){var a,o,i,l,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("Listar?role_Aduana="+r.esAduana.toString());case 3:for(a=e.sent,o=a.data.data.map((function(e,t){var r=JSON.parse(e.detalles),n=null;return r&&(n=r.map((function(e,r){return{key:r+1,rolKey:t+1,pant_Nombre:e.pant_Nombre}}))),{key:t+1,role_Descripcion:e.role_Descripcion,detalles:n}})),i=[],l=0;l<o.length;l++){if(o[l].detalles)for(s=0;s<o[l].detalles.length;s++)o[l].key==o[l].detalles[s].rolKey&&(i[l]+=" {No.: ".concat(s+1,", Descripci\xf3n de la pantalla: ").concat(o[l].detalles[s].pant_Nombre,"} "));else i.push("");o[l].detalles=i[l].toString().replace("undefined","")}return e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function c(){return(c=(0,a.Z)((0,n.Z)().mark((function e(a,o){var i,s,c,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={pantallas:o.map((function(e){return{pant_Id:e.pant_Id}}))},s=JSON.stringify(i),c={role_Descripcion:a.role_Descripcion.trim(),role_Aduana:r.esAduana,pant_Ids:s,usua_UsuarioCreacion:r.uuid,role_FechaCreacion:l.Z.formatFechaHora(new Date)},e.next=6,t.post("Insertar",c);case 6:return d=e.sent,e.abrupt("return",d);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function d(){return(d=(0,a.Z)((0,n.Z)().mark((function e(a,o,i){var s,c,d,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={pantallas:i.map((function(e){return{pant_Id:e.pant_Id}}))},c=JSON.stringify(s),d={role_Id:a,role_Descripcion:o.role_Descripcion.trim(),role_Aduana:r.esAduana,pant_Ids:c,usua_UsuarioModificacion:r.uuid,role_FechaModificacion:l.Z.formatFechaHora(new Date)},e.next=6,t.post("Editar",d);case 6:return u=e.sent,e.abrupt("return",u);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function u(){return(u=(0,a.Z)((0,n.Z)().mark((function e(a){var o,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={role_Id:a.id,usua_UsuarioEliminacion:r.uuid,role_FechaEliminacion:l.Z.formatFechaHora(new Date)},e.next=4,t.post("Eliminar",o);case 4:return i=e.sent,e.abrupt("return",i);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return{CrearRoles:function(e,t){return c.apply(this,arguments)},EditarRoles:function(e,t,r){return d.apply(this,arguments)},ListadoRoles:function(){return o.apply(this,arguments)},EliminarRoles:function(e){return u.apply(this,arguments)},ExportData:function(){return s.apply(this,arguments)}}}},89145:function(e,t,r){r(47313);var n=r(85281),a=r(53191),o=r(46417);t.Z=function(e){var t=(0,o.jsxs)(a.Z,{container:!0,spacing:2,display:"flex",justifyContent:"center",alignContent:"center",marginY:"10px",children:[(0,o.jsx)(a.Z,{item:!0,xs:12,children:(0,o.jsx)(n.Z,{style:{color:"#634a9e"}})}),(0,o.jsx)(a.Z,{item:!0,xs:12,children:"Cargando..."})]});return null==e||e.length>0?null:t}},97762:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(63366),a=r(87462),o=r(47313),i=r(21921),l=r(88564),s=r(77342),c=r(61113),d=r(32298);function u(e){return(0,d.Z)("MuiDialogContentText",e)}(0,r(77430).Z)("MuiDialogContentText",["root"]);var p=r(46417),x=["children"],h=(0,l.ZP)(c.Z,{shouldForwardProp:function(e){return(0,l.FO)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),f=o.forwardRef((function(e,t){var r=(0,s.Z)({props:e,name:"MuiDialogContentText"}),o=(0,n.Z)(r,x),l=function(e){var t=e.classes,r=(0,i.Z)({root:["root"]},u,t);return(0,a.Z)({},t,r)}(o);return(0,p.jsx)(h,(0,a.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o},r,{classes:l}))}))},33604:function(e,t,r){var n=r(87462),a=r(63366),o=r(47313),i=r(83061),l=r(21921),s=r(61113),c=r(88564),d=r(77342),u=r(93174),p=r(63909),x=r(46417),h=["className","id"],f=(0,c.ZP)(s.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),m=o.forwardRef((function(e,t){var r=(0,d.Z)({props:e,name:"MuiDialogTitle"}),s=r.className,c=r.id,m=(0,a.Z)(r,h),Z=r,g=function(e){var t=e.classes;return(0,l.Z)({root:["root"]},u.a,t)}(Z),y=o.useContext(p.Z).titleId,j=void 0===y?c:y;return(0,x.jsx)(f,(0,n.Z)({component:"h2",className:(0,i.default)(g.root,s),ownerState:Z,ref:t,variant:"h6",id:j},m))}));t.Z=m}}]);