"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[513],{64818:function(e,r,a){var t=a(4942),n=a(74165),o=a(15861),i=a(31881),s=a.n(i),l=a(9098);a(70816);r.Z=function(){var e={XApiKey:l.Z.extraerToken()},r=s().create({baseURL:"https://practicaacademia.somee.com/api/ReporteModuloDia/",headers:e}),a=s().create({baseURL:"https://practicaacademia.somee.com/api/ReporteModuloDiaDetalle/",headers:e}),i=s().create({baseURL:"https://practicaacademia.somee.com/api/OrdeEnsaAcabEtiq/",headers:e}),c=JSON.parse(localStorage.getItem("user"));function d(){return(d=(0,o.Z)((0,n.Z)().mark((function e(r){var a,t,o,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.get("Listar");case 3:for(a=e.sent,t=[],o=0;o<a.data.data.length;o++)a.data.data[o].proc_Id==r&&t.push(a.data.data[o]);return s=t.map((function(e,r){return{proc_Id:e.proc_Id,ensa_Id:e.ensa_Id,value:e.code_Id,label:"".concat(e.empl_NombreCompleto," - Codigo ").concat(e.orco_Codigo," - Estilo ").concat(e.esti_Descripcion)}})),e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function u(){return(u=(0,o.Z)((0,n.Z)().mark((function e(){var a,t,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.get("Listar");case 3:return a=e.sent,t=a.data.data.flat(),o=t.map((function(e,r){var a=null;e.detalles&&(a=JSON.parse(e.detalles).map((function(e,r){return{key:r+1,proc_Id:e.proc_Id,orco_Codigo:e.orco_Codigo,proc_Descripcion:e.proc_Descripcion,orco_Id:e.orco_Id,esti_Descripcion:e.esti_Descripcion,rdet_TotalDia:e.rdet_TotalDia,rdet_TotalDanado:e.rdet_TotalDanado,CantidadBuenEstado:parseInt(e.rdet_TotalDia)-e.rdet_TotalDanado,colr_Nombre:e.colr_Nombre,Sexo:e.Sexo,clie_Nombre_Contacto:e.clie_Nombre_Contacto}})));return{key:r+1,remo_Id:e.remo_Id,modu_Id:e.modu_Id,ensa_Id:e.ensa_Id,orco_Codigo:e.orco_Codigo,proc_Id:parseInt(e.usua_UsuarioModifica),modu_Nombre:e.modu_Nombre,empleado:e.empleado,remo_Fecha:e.remo_Fecha,remo_TotalDia:e.remo_TotalDia,remo_TotalDanado:e.remo_TotalDanado,CantidadBuenEstado:parseInt(e.remo_TotalDia)-parseInt(e.remo_TotalDanado),detalles:a,usua_UsuarioCrea:e.usua_UsuarioCrea,remo_FechaCreacion:e.remo_FechaCreacion,usua_UsuarioModifica:e.usua_UsuarioModificacion,remo_FechaModificacion:e.remo_FechaModificacion,remo_Finalizado:e.remo_Finalizado}})),e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=(0,o.Z)((0,n.Z)().mark((function e(a,t){var o,i,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.get("ListarPorFecha?FechaInicio=".concat(a?a.toDateString():"","&FechaFin=").concat(t?t.toDateString():""));case 3:return o=e.sent,i=o.data.data.flat(),s=i.map((function(e,r){var a=null;e.detalles&&(a=JSON.parse(e.detalles).map((function(e,r){return{key:r+1,proc_Id:e.proc_Id,orco_Codigo:e.orco_Codigo,proc_Descripcion:e.proc_Descripcion,orco_Id:e.orco_Id,esti_Descripcion:e.esti_Descripcion,rdet_TotalDia:e.rdet_TotalDia,rdet_TotalDanado:e.rdet_TotalDanado,CantidadBuenEstado:parseInt(e.rdet_TotalDia)-e.rdet_TotalDanado,colr_Nombre:e.colr_Nombre,Sexo:e.Sexo,clie_Nombre_Contacto:e.clie_Nombre_Contacto}})));return{key:r+1,remo_Id:e.remo_Id,modu_Id:e.modu_Id,empleado:e.empleado,modu_Nombre:e.modu_Nombre,remo_Fecha:e.remo_Fecha,remo_TotalDia:e.remo_TotalDia,remo_TotalDanado:e.remo_TotalDanado,CantidadBuenEstado:parseInt(e.remo_TotalDia)-parseInt(e.remo_TotalDanado)<0?0:parseInt(e.remo_TotalDia)-parseInt(e.remo_TotalDanado),detalles:a,usua_UsuarioCrea:e.usua_UsuarioCrea,remo_FechaCreacion:e.remo_FechaCreacion,usua_UsuarioModifica:e.usua_UsuarioModifica,remo_FechaModificacion:e.remo_FechaModificacion,remo_Finalizado:e.remo_Finalizado}})),e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function h(){return(h=(0,o.Z)((0,n.Z)().mark((function e(a){var o,i,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={modu_Id:a.modu_Id},(0,t.Z)(o,"modu_Id",a.modulo.value),(0,t.Z)(o,"remo_Fecha",a.remo_Fecha),(0,t.Z)(o,"remo_TotalDia",0),(0,t.Z)(o,"remo_TotalDanado",0),(0,t.Z)(o,"usua_UsuarioCreacion",c.uuid),(0,t.Z)(o,"remo_FechaCreacion",l.Z.formatFechaHora(new Date)),i=o,e.next=4,r.post("Insertar",i);case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m(){return(m=(0,o.Z)((0,n.Z)().mark((function e(a){var t,o,i,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Date(a.remo_Fecha),o=t.toISOString(),i={remo_Id:a.remo_Id,modu_Id:a.modulo.value,remo_Fecha:o,remo_TotalDia:1,remo_TotalDanado:1,usua_UsuarioModificacion:c.uuid,remo_FechaModificacion:l.Z.formatFechaHora(new Date)},e.next=6,r.post("Editar",i);case 6:return s=e.sent,e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function x(){return(x=(0,o.Z)((0,n.Z)().mark((function e(a){var t,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={remo_Id:a[0].remo_Id},e.next=4,r.post("Finalizar",t);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function f(){return(f=(0,o.Z)((0,n.Z)().mark((function e(r){var t,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.get("Listar/"+r);case 3:return t=e.sent,o=t.data.data.map((function(e,r){return{key:r+1,rdet_Id:parseInt(e.rdet_Id),remo_Id:parseInt(e.remo_Id),orco_Codigo:e.orco_Codigo,code_CantidadPrenda:parseInt(e.code_CantidadPrenda),rdet_TotalDia:parseInt(e.rdet_TotalDia),rdet_TotalDanado:parseInt(e.rdet_TotalDanado),CantidadBuenEstado:parseInt(e.rdet_TotalDia)-parseInt(e.rdet_TotalDanado)<0?0:parseInt(e.rdet_TotalDia)-parseInt(e.rdet_TotalDanado),code_Id:parseInt(e.code_Id),ensa_Id:parseInt(e.ensa_Id),proc_Id:parseInt(e.proc_Id),sexo:e.sexo,colr_Nombre:e.colr_Nombre,clie_Nombre_Contacto:e.clie_Nombre_Contacto,clie_RTN:e.clie_RTN,orco_Id:parseInt(e.orco_Id),esti_Descripcion:e.esti_Descripcion,usua_UsuarioCrea:e.usua_UsuarioCrea}})),e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function _(){return(_=(0,o.Z)((0,n.Z)().mark((function e(r){var t,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={remo_Id:parseInt(r.remo_Id),code_Id:parseInt(r.OrdenCompraDetalle.value),ensa_Id:parseInt(r.OrdenCompraDetalle.ensa_Id),rdet_TotalDia:parseInt(r.rdet_TotalDiaDetalle),rdet_TotalDanado:parseInt(r.rdet_TotalDanadoDetalle),usua_UsuarioCreacion:c.uuid},e.next=4,a.post("Insertar",t);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Z(){return(Z=(0,o.Z)((0,n.Z)().mark((function e(r){var t,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={rdet_Id:r.rdet_Id,remo_Id:r.remo_Id,code_Id:parseInt(r.OrdenCompraDetalle.value),ensa_Id:parseInt(r.OrdenCompraDetalle.ensa_Id),rdet_TotalDia:r.rdet_TotalDiaDetalle,rdet_TotalDanado:r.rdet_TotalDanadoDetalle,usua_UsuarioModificacion:c.uuid},e.next=4,a.post("Editar",t);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(){return(v=(0,o.Z)((0,n.Z)().mark((function e(r){var t,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={rdet_Id:r.rdet_Id},e.next=4,a.post("Eliminar",t);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return{listar:function(){return u.apply(this,arguments)},crear:function(e){return h.apply(this,arguments)},editar:function(e){return m.apply(this,arguments)},crearDetalle:function(e){return _.apply(this,arguments)},listarProceso:function(e){return d.apply(this,arguments)},listarDetalles:function(e){return f.apply(this,arguments)},EditarDetalle:function(e){return Z.apply(this,arguments)},EliminarDetalle:function(e){return v.apply(this,arguments)},Finalizar:function(e){return x.apply(this,arguments)},listarRangos:function(e,r){return p.apply(this,arguments)}}}},70513:function(e,r,a){a.r(r);var t=a(4942),n=a(74165),o=a(15861),i=a(29439),s=a(1413),l=a(45987),c=a(73428),d=a(58467),u=a(521),p=a(35898),h=a(24193),m=a(71263),x=a(82047),f=a(51405),_=a(66212),Z=a(1550),v=a(25298),I=a(24631),g=a(88797),D=a(94469),b=a(33604),C=a(96467),j=a(97762),y=a(4117),T=a(93405),k=a(47313),w=a(16957),S=a(9019),F=a(61113),E=a(75908),N=a(9506),P=a(65280),R=a(33141),O=a(19860),U=a(12547),B=a(5178),A=a(22324),M=a(45998),V=a(62563),z=a(75627),L=a(3463),W=a(87785),q=a(28155),Q=(a(77453),a(89145)),K=a(64818),H=a(68673),J=(a(88282),a(75265)),X=a(46417),G=["children","value","index"];function Y(e){var r=e.children,a=e.value,t=e.index,n=(0,l.Z)(e,G);return(0,X.jsx)("div",(0,s.Z)((0,s.Z)({role:"tabpanel",hidden:a!==t,id:"full-width-tabpanel-".concat(t),"aria-labelledby":"full-width-tab-".concat(t)},n),{},{children:a===t&&(0,X.jsx)(N.Z,{sx:{p:3},children:(0,X.jsx)(F.Z,{children:r})})}))}function $(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}r.default=function(){var e=L.Ry().shape({remo_Id:L.Z_(),modulo:L.Ry().required(""),remo_Fecha:L.hT().nullable().required("").max(new Date(2100,0,1),"No puede ingresar fechas futuras").min(new Date(1900,0,1),"Ingrese una fecha mayor a 01/01/1900")}),r={rdet_TotalDiaDetalle:"",rdet_TotalDanadoDetalle:"",OrdenCompraDetalle:null,ensa_Id:null},a=L.Ry().shape({rdet_TotalDiaDetalle:L.Rx().required("").min(1,"Ingrese una cantidad total valida").max(999999,"Ingrese una cantidad total valida"),rdet_TotalDanadoDetalle:L.Rx().required("").min(0,"Ingrese una cantidad total valida").max(L.iH("rdet_TotalDiaDetalle"),"No puedes tener una cantidad mayor a la total"),OrdenCompraDetalle:L.Ry().required("")}),l=(0,H.Z)(),F=(0,d.TH)().state,G=(0,d.s0)(),ee=(0,O.Z)(),re=(0,k.useState)(""),ae=(0,i.Z)(re,2),te=ae[0],ne=ae[1],oe=k.useState(0),ie=(0,i.Z)(oe,2),se=ie[0],le=ie[1],ce=k.useState(0),de=(0,i.Z)(ce,2),ue=de[0],pe=de[1],he=k.useState(10),me=(0,i.Z)(he,2),xe=me[0],fe=me[1],_e=(0,k.useState)(!1),Ze=(0,i.Z)(_e,2),ve=Ze[0],Ie=Ze[1],ge=(0,k.useState)(!1),De=(0,i.Z)(ge,2),be=De[0],Ce=De[1],je=(0,K.Z)(),ye=(0,k.useState)([]),Te=(0,i.Z)(ye,2),ke=Te[0],we=Te[1],Se=(0,k.useState)([]),Fe=(0,i.Z)(Se,2),Ee=Fe[0],Ne=Fe[1],Pe=(0,k.useState)([]),Re=(0,i.Z)(Pe,2),Oe=Re[0],Ue=Re[1],Be=(0,k.useState)([]),Ae=(0,i.Z)(Be,2),Me=Ae[0],Ve=Ae[1],ze=(0,k.useState)(""),Le=(0,i.Z)(ze,2),We=(Le[0],Le[1],(0,k.useState)({})),qe=(0,i.Z)(We,2),Qe=qe[0],Ke=qe[1],He=(0,k.useState)(!1),Je=(0,i.Z)(He,2),Xe=Je[0],Ge=Je[1],Ye=(0,k.useState)(!1),$e=(0,i.Z)(Ye,2),er=$e[0],rr=$e[1];function ar(){return(ar=(0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ne,e.next=3,l.Modulos();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tr=(0,z.cI)({defaultReporteModuloDiasValues:{remo_Id:"",modulo:null,remo_Fecha:""},mode:"all",resolver:(0,V.X)(e)}),nr=tr.handleSubmit,or=(tr.register,tr.reset,tr.control),ir=tr.watch,sr=tr.formState,lr=tr.setValue,cr=tr.trigger,dr=(0,z.cI)({defaultValues:r,mode:"all",resolver:(0,V.X)(a)}),ur=dr.handleSubmit,pr=(dr.register,dr.reset),hr=dr.control,mr=dr.watch,xr=dr.formState,fr=dr.setValue,_r=(dr.trigger,xr.isValid),Zr=(xr.dirtyFieldsDetalle,xr.errors),vr=sr.isValid,Ir=(sr.dirtyFields,sr.errors),gr=ir(),Dr=mr(),br=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.crear(gr);case 3:r=e.sent,parseInt(r.data.data.messageStatus)>0?((0,J.xO)("El registro se ha insertado exitosamente"),pe(parseInt(r.data.data.messageStatus)),lr("remo_Id",parseInt(r.data.data.messageStatus)),Wr(2),ne(""),rr(!0),kr(gr.modulo.proc_Id)):r.data.data.messageStatus.includes("UNIQUE")&&(0,J.KV)("El registro ya existe"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,J.bW)();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Cr=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.editar(gr);case 3:"1"==(r=e.sent).data.data.messageStatus?((0,J.xO)("El registro se ha insertado exitosamente"),pe(gr.remo_Id),lr("remo_Id",ue),kr(gr.modulo.proc_Id),Wr(2),ne(""),rr(!0)):r.data.data.messageStatus.includes("UNIQUE")&&(0,J.KV)("El registro ya existe"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,setTimeout((function(){cr()}),500),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})));return function(){return e.apply(this,arguments)}}(),jr=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var a,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.listarDetalles(r);case 3:a=e.sent,t=Array.isArray(a)?a:[],we(t),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),yr=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{kr(F.proc_Id),pe(F.remo_Id),lr("remo_Id",F.remo_Id,{shouldTouch:!0,shouldValidate:!0}),lr("modulo",{proc_Id:F.proc_Id,value:F.modu_Id,label:F.modu_Nombre},{shouldTouch:!0,shouldValidate:!0}),lr("remo_Fecha",F.remo_Fecha,{shouldTouch:!0,shouldValidate:!0}),rr(!0),Wr(1),jr(parseInt(F.remo_Id))}catch(r){}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Tr(){return(Tr=(0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ue,e.next=3,l.Procesos();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kr(e){return wr.apply(this,arguments)}function wr(){return(wr=(0,o.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Ve,e.next=4,je.listarProceso(r);case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=10;break;case 8:e.prev=8,e.t2=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}(0,k.useEffect)((function(){!function(){ar.apply(this,arguments)}(),function(){Tr.apply(this,arguments)}(),null!==F&&(yr(),setTimeout((function(){}),1e3))}),[]);var Sr=(0,k.useState)(!0),Fr=(0,i.Z)(Sr,2),Er=(Fr[0],Fr[1]),Nr=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(a){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.crearDetalle(a);case 3:"1"==(t=e.sent).data.data.messageStatus?((0,J.xO)("El registro se ha insertado exitosamente"),jr(a.remo_Id),ne(""),pr(r),Er(!1)):t.data.data.messageStatus.includes("UNIQUE")&&(0,J.KV)("El registro ya existe"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),Pr=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(a){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.EditarDetalle(a);case 3:"1"==(t=e.sent).data.data.messageStatus?((0,J.xO)("El registro se ha insertado exitosamente"),jr(a.remo_Id),ne(""),pr(r),Ge(!1)):t.data.data.messageStatus.includes("UNIQUE"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:Ar(a.rdet_Id);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),Rr=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.EliminarDetalle(Dr);case 3:"1"==e.sent.data.data.messageStatus?(Br(),(0,J.xO)("El registro ha sido eliminado exitosamente"),jr(ue),pr(r),ne("")):Br(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Br();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Or=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.Finalizar(ke);case 3:"1"==e.sent.data.data.messageStatus?((0,J.om)("Exito, El Reporte ha sido finalizado"),u.Z.push("ReporteModulo")):(0,J.bW)(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,J.bW)();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ur=function(){Ie(!ve)},Br=function(){Ce(!be)},Ar=function(e){Ke((function(r){return(0,s.Z)((0,s.Z)({},r),{},(0,t.Z)({},e,null))}))},Mr=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var a,t,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ar(r.rdet_Id),e.prev=1,a=Oe.find((function(e){return e.value===parseInt(r.proc_Id)})),e.next=5,new Promise((function(e,a){je.listarProceso(parseInt(r.proc_Id)).then((function(r){return e(r)})).catch((function(e){return a(e)}))}));case 5:t=e.sent,o=t.find((function(e){return e.proc_Id===parseInt(r.proc_Id)})),fr("OrdenCompra",a,{shouldTouch:!0,shouldValidate:!0}),fr("OrdenCompraDetalle",o,{shouldTouch:!0,shouldValidate:!0}),fr("rdet_TotalDiaDetalle",r.rdet_TotalDia,{shouldTouch:!0,shouldValidate:!0}),fr("rdet_TotalDanadoDetalle",r.rdet_TotalDanado,{shouldTouch:!0,shouldValidate:!0}),fr("rdet_Id",r.rdet_Id,{shouldTouch:!0,shouldValidate:!0}),Ge(!0),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(1);case 17:return e.prev=17,setTimeout((function(){}),1e3),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,15,17,20]])})));return function(r){return e.apply(this,arguments)}}(),Vr=[{title:"No",dataIndex:"key",key:"key",sorter:function(e,r){return e.key-r.key}},{title:"Prenda",dataIndex:"esti_Descripcion",key:"esti_Descripcion",sorter:function(e,r){return e.esti_Descripcion.localeCompare(r.esti_Descripcion)}},{title:"Cantidad Terminada",dataIndex:"rdet_TotalDia",key:"rdet_TotalDia",sorter:function(e,r){return e.rdet_TotalDia-r.rdet_TotalDia}},{title:"Cantidad Da\xf1ada",dataIndex:"rdet_TotalDanado",key:"rdet_TotalDanado",sorter:function(e,r){return e.rdet_TotalDanado-r.rdet_TotalDanado}},{title:"Cantidad Total",dataIndex:"CantidadBuenEstado",key:"CantidadBuenEstado",sorter:function(e,r){return e.CantidadBuenEstado-r.CantidadBuenEstado}},{title:"Acciones",key:"operation",render:function(e){return(0,X.jsx)("div",{children:(0,X.jsxs)(p.Z,{direction:"row",spacing:1,children:[(0,X.jsx)(h.Z,{"aria-controls":"menu-".concat(e.rdet_Id),"aria-haspopup":"true",onClick:function(r){return a=r,n=e.rdet_Id,void Ke((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,t.Z)({},n,a.currentTarget))}));var a,n},variant:"contained",style:{borderRadius:"10px",backgroundColor:"#634A9E",color:"white"},startIcon:(0,X.jsx)(m.Z,{children:"menu"}),children:"Opciones"}),(0,X.jsxs)(x.Z,{id:"menu-".concat(e.rdet_Id),anchorEl:Qe[e.rdet_Id],keepMounted:!0,open:Boolean(Qe[e.rdet_Id]),onClose:function(){return Ar(e.rdet_Id)},children:[(0,X.jsxs)(f.Z,{onClick:function(){return Mr(e)},children:[(0,X.jsx)(m.Z,{children:"edit"}),"\u3164Editar"]}),(0,X.jsxs)(f.Z,{onClick:function(){return function(e){try{fr("rdet_Id",e.rdet_Id),Br(),Ar(e.rdet_Id)}catch(r){}}(e)},children:[(0,X.jsx)(m.Z,{children:"delete"}),"\u3164Eliminar"]})]})]})},e.rdet_Id)}}],zr=["key","esti_Descripcion","rdet_TotalDia","rdet_TotalDanado"],Lr=ke.filter((function(e){if(""===te)return!0;for(var r=0,a=Object.entries(e);r<a.length;r++){var t=(0,i.Z)(a[r],2),n=t[0],o=t[1];if(zr.includes(n)){var s="number"===typeof o?o.toString():o.toString().toLowerCase(),l="number"===typeof te?te.toString():te.toLowerCase();if(s.includes(l))return!0}}return!1})),Wr=function(e,r){r&&r.preventDefault(),1===e&&(Hr({tab1:!1,tab2:!yr}),le(0)),2===e&&(Hr({tab1:!1,tab2:!1}),le(1)),3===e&&(Hr({tab2:!1,tab1:!1}),le(0))},qr=(0,k.useState)({tab1:!0,tab2:!0}),Qr=(0,i.Z)(qr,2),Kr=Qr[0],Hr=Qr[1];return(0,X.jsxs)(c.Z,{sx:{minWidth:275,margin:"40px"},children:[(0,X.jsx)(w.Z,{component:"img",height:"200",image:"https://i.ibb.co/DfZ8SL7/REPORTEs-M-DULO.png",alt:"Encabezado de la carta"}),(0,X.jsx)(T.Z,{sx:{textAlign:"center"}}),(0,X.jsxs)(N.Z,{sx:{bgcolor:"background.paper",width:"100%"},children:[(0,X.jsx)(E.Z,{position:"static",children:(0,X.jsxs)(R.Z,{value:se,onChange:function(e,r){le(r)},indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",sx:{backgroundColor:"#e5e1fa",color:M.black},children:[(0,X.jsx)(P.Z,(0,s.Z)({label:"Datos del d\xeda"},$(0))),(0,X.jsx)(P.Z,(0,s.Z)((0,s.Z)({label:"Pedido de produccion detalles"},$(1)),{},{disabled:Kr.tab1}))]})}),(0,X.jsxs)(U.ZP,{axis:"rtl"===ee.direction?"x-reverse":"x",index:se,onChangeIndex:function(e){le(e)},children:[(0,X.jsx)(Y,{value:se,index:0,dir:ee.direction,children:(0,X.jsxs)("form",{onSubmit:nr((function(e){})),children:[(0,X.jsxs)(S.ZP,{container:!0,spacing:2,children:[(0,X.jsx)(S.ZP,{item:!0,xs:12,children:(0,X.jsx)(W.Z,{children:(0,X.jsx)(_.Z,{label:"Informaci\xf3n general"})})}),(0,X.jsx)(S.ZP,{item:!0,xs:6,children:(0,X.jsxs)(Z.Z,{fullWidth:!0,children:[(0,X.jsx)(B.Z,{error:!!Ir.modulo,children:"M\xf3dulo:"}),(0,X.jsx)(z.Qr,{render:function(e){var r,a=e.field;return(0,X.jsx)(v.Z,(0,s.Z)((0,s.Z)({},a),{},{disablePortal:!0,isOptionEqualToValue:function(e,r){return e.value===r.value},id:"modulo",options:Ee,value:null!==(r=gr.modulo)&&void 0!==r?r:null,onChange:function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{lr("modulo",a),a||lr("modu_Id",[])}catch(r){}case 1:case"end":return e.stop()}}),e)})));return function(r,a){return e.apply(this,arguments)}}(),renderInput:function(e){return(0,X.jsx)(I.Z,(0,s.Z)((0,s.Z)({},e),{},{error:!!Ir.modulo,InputLabelProps:{shrink:!0}}))},clearIcon:null}))},name:"modulo",control:or})]})}),(0,X.jsx)(S.ZP,{item:!0,xs:6,children:(0,X.jsx)(z.Qr,{name:"remo_Fecha",control:or,defaultValue:null,render:function(e){var r=e.field;return(0,X.jsxs)(Z.Z,{error:!!Ir.remo_Fecha,fullWidth:!0,children:[(0,X.jsx)(B.Z,{children:"Fecha:"}),(0,X.jsx)(A.M,{onChange:function(e){return r.onChange(e)},value:r.value,required:!0,renderInput:function(e){var a,t;return(0,X.jsx)(I.Z,(0,s.Z)((0,s.Z)({className:"w-full"},e),{},{onBlur:r.onBlur,error:!!Ir.remo_Fecha,helperText:null!==Ir&&void 0!==Ir&&null!==(a=Ir.remo_Fecha)&&void 0!==a&&a.message.includes("Invalid Date")?"La fecha ingresada no es valida":null===Ir||void 0===Ir||null===(t=Ir.remo_Fecha)||void 0===t?void 0:t.message}))},className:"w-full"})]})}})}),(0,X.jsx)(S.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"}})]}),(0,X.jsxs)(S.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right",marginTop:"10px"},children:[(0,X.jsx)(h.Z,{type:"submit",startIcon:(0,X.jsx)(m.Z,{children:"checked"}),variant:"contained",color:"primary",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(e){vr?er?Cr():br():(0,J.KV)("Completa todos los campos")},children:"Guardar"}),(0,X.jsx)(h.Z,{startIcon:(0,X.jsx)(m.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:function(){G("/ReporteModulo/Index")},children:"Cancelar"})]})]})}),(0,X.jsxs)(Y,{value:se,index:1,dir:ee.direction,children:[(0,X.jsxs)("form",{onSubmit:ur((function(e){!function(e){try{var r=(0,s.Z)({},e);r.remo_Id=parseInt(ue),""!==r.OrdenCompra&&""!==r.OrdenCompraDetalle&&""!==r.rdet_TotalDiaDetalle&&""!==r.rdet_TotalDanadoDetalle&&(Xe?Pr(r):Nr(r))}catch(a){}}(e)})),children:[(0,X.jsxs)(S.ZP,{container:!0,spacing:2,children:[(0,X.jsx)(S.ZP,{item:!0,xs:12,children:(0,X.jsx)(W.Z,{children:(0,X.jsx)(_.Z,{label:"Informaci\xf3n detallada"})})}),(0,X.jsx)(S.ZP,{item:!0,xs:6,children:(0,X.jsxs)(Z.Z,{fullWidth:!0,children:[(0,X.jsx)(B.Z,{error:!!Zr.OrdenCompraDetalle,children:"\xd3rden de Proceso:"}),(0,X.jsx)(z.Qr,{render:function(e){var r,a=e.field;return(0,X.jsx)(v.Z,(0,s.Z)((0,s.Z)({},a),{},{id:"OrdenCompraDetalle",defaultValue:a.value,isOptionEqualToValue:function(e,r){return e.value===(null===r||void 0===r?void 0:r.value)},options:Me,value:null!==(r=Dr.OrdenCompraDetalle)&&void 0!==r?r:null,onChange:function(e,r){try{fr("OrdenCompraDetalle",r),fr("ensa_Id",r.ensa_Id)}catch(a){}},renderInput:function(e){return(0,X.jsx)(I.Z,(0,s.Z)((0,s.Z)({placeholder:"Seleccione una orden"},e),{},{error:!!Zr.OrdenCompraDetalle,InputLabelProps:{shrink:!0}}))},clearIcon:null}))},name:"OrdenCompraDetalle",control:hr})]})}),(0,X.jsx)(S.ZP,{item:!0,xs:6}),(0,X.jsx)(S.ZP,{item:!0,xs:6,children:(0,X.jsx)(z.Qr,{render:function(e){var r,a,t=e.field;return(0,X.jsxs)(Z.Z,{error:!!Zr.rdet_TotalDiaDetalle,fullWidth:!0,children:[(0,X.jsx)(B.Z,{component:"legend",children:"Cantidad Terminada:"}),(0,X.jsx)(I.Z,(0,s.Z)((0,s.Z)({},t),{},{variant:"outlined",defaultValue:t.value,error:!!Zr.rdet_TotalDiaDetalle,placeholder:"Cantidad Terminada",fullWidth:!0,helperText:null!==Zr&&void 0!==Zr&&null!==(r=Zr.rdet_TotalDiaDetalle)&&void 0!==r&&r.message.includes("NaN")?null:null===Zr||void 0===Zr||null===(a=Zr.rdet_TotalDiaDetalle)||void 0===a?void 0:a.message,type:"number",inputProps:{onInput:function(e){e.preventDefault();var r=parseInt(e.target.value);isNaN(r)||t.onChange(Math.max(0,r))}}}))]})},name:"rdet_TotalDiaDetalle",control:hr})}),(0,X.jsx)(S.ZP,{item:!0,xs:6,children:(0,X.jsx)(z.Qr,{render:function(e){var r,a,t=e.field;return(0,X.jsxs)(Z.Z,{error:!!Zr.rdet_TotalDanadoDetalle,fullWidth:!0,children:[(0,X.jsx)(B.Z,{component:"legend",children:"Cantidad Da\xf1ada:"}),(0,X.jsx)(I.Z,(0,s.Z)((0,s.Z)({},t),{},{variant:"outlined",helperText:null!==Zr&&void 0!==Zr&&null!==(r=Zr.rdet_TotalDanadoDetalle)&&void 0!==r&&r.message.includes("NaN")?null:null===Zr||void 0===Zr||null===(a=Zr.rdet_TotalDanadoDetalle)||void 0===a?void 0:a.message,defaultValue:t.value,error:!!Zr.rdet_TotalDanadoDetalle,placeholder:"Cantidad Da\xf1ada",fullWidth:!0,type:"number",inputProps:{min:"0",onInput:function(e){e.preventDefault();var r=parseInt(e.target.value);isNaN(r)||t.onChange(Math.max(0,r))}}}))]})},name:"rdet_TotalDanadoDetalle",control:hr})}),(0,X.jsx)(S.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"}})]}),(0,X.jsx)(S.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right",marginTop:"10px"},children:(0,X.jsx)(h.Z,{type:"submit",startIcon:(0,X.jsx)(m.Z,{children:"add"}),variant:"contained",color:"primary",style:{borderRadius:"10px",marginRight:"10px",marginTop:"15px"},sx:{backgroundColor:"#d1af3c",color:"white","&:hover":{backgroundColor:"#B99B36"}},onClick:function(e){!function(){try{_r||(0,J.KV)("Completa todos los campos")}catch(Ir){}}()},children:"Agregar Detalle"})})]}),(0,X.jsx)(S.ZP,{item:!0,xs:12,children:(0,X.jsx)(W.Z,{children:(0,X.jsx)(_.Z,{label:"Detalles Agregados"})})}),(0,X.jsxs)(S.ZP,{item:!0,xs:12,children:[(0,X.jsx)(T.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,X.jsxs)(p.Z,{direction:"row",spacing:1,children:[(0,X.jsx)("label",{className:"mt-8",children:"Filas por p\xe1gina:"}),(0,X.jsx)(Z.Z,{sx:{minWidth:50},size:"small",children:(0,X.jsxs)(g.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:xe,onChange:function(e){fe(e.target.value)},children:[(0,X.jsx)(f.Z,{value:5,children:"5"}),(0,X.jsx)(f.Z,{value:10,children:"10"}),(0,X.jsx)(f.Z,{value:15,children:"15"})]})})]})}),(0,X.jsx)("div",{className:"center",style:{width:"95%",margin:"auto"},children:(0,X.jsx)(q.Z,{columns:Vr,dataSource:Lr,size:"small",locale:{triggerDesc:"Ordenar descendente",triggerAsc:"Ordenar ascendente",cancelSort:"Cancelar",emptyText:(0,Q.Z)()},pagination:{pageSize:xe,showSizeChanger:!1,className:"custom-pagination"}})})]}),(0,X.jsxs)(S.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right",marginTop:"10px"},children:[(0,X.jsx)(h.Z,{startIcon:(0,X.jsx)(m.Z,{children:"checked"}),variant:"contained",color:"primary",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(e){Ur()},children:"Finalizar"}),(0,X.jsx)(h.Z,{startIcon:(0,X.jsx)(m.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:function(e){G("/ReporteModulo/Index")},children:"Cancelar"})]}),(0,X.jsxs)(D.Z,{open:be,fullWidth:"md",onClose:Br,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,X.jsx)(b.Z,{id:"alert-dialog-title",children:"Confirmaci\xf3n de Eliminacio"}),(0,X.jsx)(C.Z,{children:(0,X.jsx)(j.Z,{id:"alert-dialog-description",children:"\xbfEst\xe1 seguro(a) que desea eliminar este registro?"})}),(0,X.jsx)(y.Z,{children:(0,X.jsxs)(S.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,X.jsx)(h.Z,{startIcon:(0,X.jsx)(m.Z,{children:"checked"}),variant:"contained",color:"error",style:{borderRadius:"10px",marginRight:"10px"},onClick:Rr,children:"Eliminar"}),(0,X.jsx)(h.Z,{startIcon:(0,X.jsx)(m.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:Br,children:"Cancelar"})]})})]}),(0,X.jsxs)(D.Z,{open:ve,fullWidth:"md",onClose:Ur,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,X.jsx)(b.Z,{id:"alert-dialog-title",children:"Confirmaci\xf3n de Finalizaci\xf3n"}),(0,X.jsxs)(C.Z,{children:[(0,X.jsx)(j.Z,{id:"alert-dialog-description",children:"\xbfEst\xe1 seguro(a) que desea finalizar este registro?"}),(0,X.jsx)(j.Z,{id:"alert-dialog-description",children:"Le recordamos que una vez que el pedido sea finalizado, no ser\xe1 posible realizar modificaciones en el mismo."})]}),(0,X.jsx)(y.Z,{children:(0,X.jsxs)(S.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,X.jsx)(h.Z,{startIcon:(0,X.jsx)(m.Z,{children:"checked"}),variant:"contained",color:"secondary",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:Or,children:"Finalizar"}),(0,X.jsx)(h.Z,{startIcon:(0,X.jsx)(m.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:Ur,children:"Cancelar"})]})})]})]})]})]})]})}},89145:function(e,r,a){a(47313);var t=a(85281),n=a(53191),o=a(46417);r.Z=function(e){var r=(0,o.jsxs)(n.Z,{container:!0,spacing:2,display:"flex",justifyContent:"center",alignContent:"center",marginY:"10px",children:[(0,o.jsx)(n.Z,{item:!0,xs:12,children:(0,o.jsx)(t.Z,{style:{color:"#634a9e"}})}),(0,o.jsx)(n.Z,{item:!0,xs:12,children:"Cargando..."})]});return null==e||e.length>0?null:r}}}]);