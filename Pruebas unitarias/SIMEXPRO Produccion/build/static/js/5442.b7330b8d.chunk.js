"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[5442],{5442:function(e,t,r){r.r(t),r.d(t,{default:function(){return ce}});var n=r(4942),a=r(1413),i=r(74165),s=r(15861),c=r(29439),o=r(35898),l=r(24193),u=r(71263),d=r(82047),p=r(51405),x=r(73428),h=r(16957),m=r(65033),f=r(93405),Z=r(9019),g=r(61113),b=r(1550),j=r(88797),y=r(24631),v=r(41727),_=r(47131),C=r(19536),k=r(66212),I=r(5178),w=r(25298),S=r(9506),D=r(15103),P=r(57983),E=r(60159),N=r(47313),M=r(62563),R=r(75627),A=r(3463),F=r(28155),T=(r(77453),r(89145)),B=r(88477),U=r(86050),L=r(68673),z=r(280),W=r(66106),O=r(40894),H=(r(88282),r(75265)),V=r(93433),q=r(66244),Q=r(78925),K=r(48737),G=r(46417);var J=function(e){var t=e.data,r=e.handleCloseExportar;return(0,G.jsxs)(p.Z,{onClick:function(){!function(){var e=t.map((function(e){return[e.key,e.mate_Descripcion,e.subc_Descripcion]})),r=K.P6.aoa_to_sheet([["No.","Nombre del Material","Nombre de la Subcategoria"]].concat((0,V.Z)(e))),n=K.P6.book_new();K.P6.book_append_sheet(n,r,"Sheet1");var a=K.cW(n,{bookType:"xlsx",type:"array"}),i=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,Q.saveAs)(i,"Materiales.xlsx")}(),r()},style:{fontSize:"15px",marginTop:"5px",marginBottom:"5px"},children:[(0,G.jsx)(q.Z,{style:{fontSize:"20px"}}),"\xa0\xa0Archivo Excel"]})},X=r(76278),Y=r(31881),$=r.n(Y),ee=r(39284),te=r.n(ee),re=r(11593),ne=r(9098);te().vfs=re.I.vfs;var ae=function(e){var t=e.data,r=e.handleCloseExportar,n=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var r,n,a,s,c,o,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="A4",n=[40,60,40,60],"https://i.ibb.co/MPn5hrr/Captura.png",a=ne.Z.formatFechaHora(new Date),s=JSON.parse(localStorage.getItem("user")),e.prev=5,e.next=8,$().get("https://i.ibb.co/MPn5hrr/Captura.png",{responseType:"blob"});case 8:c=e.sent,o=c.data,(l=new FileReader).onload=function(){var e={content:[{image:l.result,margin:[-40,-40],width:600,height:45},{text:"Materiales",style:"header",margin:[0,40,0,20]}],styles:{header:{fontSize:26,bold:!0,color:"black",alignment:"center",underline:!0},tableHeader:{fontSize:14,bold:!0,color:"black",alignment:"center",fillColor:"#E8D8FF"},footer:{fontSize:10,alignment:"center"}},pageBreakBefore:function(e,t,a,i){return e.y+e.height>r[1]-n[3]},defaultStyle:{fontSize:12},footer:function(e,t){return{columns:[{text:"Generado por: ".concat(s.data.displayName),style:"footer"},{text:"P\xe1gina ".concat(e.toString()," de ").concat(t),style:"footer"},{text:"Fecha: ".concat(a.toString().slice(0,10)),style:"footer"}],margin:[0,20]}}};e.content.push({table:{widths:["auto","*","*"],body:[[{text:"No.",style:"tableHeader"},{text:"Nombre del Material",style:"tableHeader"},{text:"Nombre de la Subcategoria",style:"tableHeader"}]].concat((0,V.Z)(t.map((function(e){return[e.key,e.mate_Descripcion,e.subc_Descripcion]})))),alignment:"center"}}),te().createPdf(e).getDataUrl((function(e){window.open().document.write('<iframe src="'.concat(e,'" width="100%" height="100%"></iframe>'))}))},l.readAsDataURL(o),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(5);case 17:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}();return(0,G.jsx)("div",{children:(0,G.jsxs)(p.Z,{onClick:function(){n(),r()},style:{fontSize:"15px",marginTop:"5px",marginBottom:"5px"},children:[(0,G.jsx)(X.Z,{style:{fontSize:"20px"}}),"\xa0\xa0Archivo PDF"]})})},ie={id:"",mate_Descripcion:"",categorias:null,subcategoria:null},se=A.Ry().shape({id:A.Z_(),categorias:A.Ry().required(""),subcategoria:A.Ry().required(""),mate_Descripcion:A.Z_().trim().required("")});var ce=function(){var e=(0,N.useState)([]),t=(0,c.Z)(e,2),r=t[0],A=t[1],V=(0,N.useState)(0),q=(0,c.Z)(V,2),Q=q[0],K=q[1],X=(0,L.Z)(),Y=(0,U.Z)(),$=(0,N.useRef)(null),ee=(0,N.useState)(""),te=(0,c.Z)(ee,2),re=te[0],ne=te[1],ce=(0,N.useState)(!0),oe=(0,c.Z)(ce,2),le=oe[0],ue=oe[1],de=(0,N.useState)(!1),pe=(0,c.Z)(de,2),xe=pe[0],he=pe[1],me=(0,N.useState)(!1),fe=(0,c.Z)(me,2),Ze=fe[0],ge=fe[1],be=(0,N.useState)(!1),je=(0,c.Z)(be,2),ye=je[0],ve=je[1],_e=(0,N.useState)(!1),Ce=(0,c.Z)(_e,2),ke=(Ce[0],Ce[1],(0,N.useState)(!1)),Ie=(0,c.Z)(ke,2),we=Ie[0],Se=Ie[1],De=N.useState(10),Pe=(0,c.Z)(De,2),Ee=Pe[0],Ne=Pe[1],Me=(0,N.useState)({}),Re=(0,c.Z)(Me,2),Ae=Re[0],Fe=Re[1],Te=(0,N.useState)([]),Be=(0,c.Z)(Te,2),Ue=Be[0],Le=Be[1],ze=(0,N.useState)([]),We=(0,c.Z)(ze,2),Oe=We[0],He=We[1],Ve=(0,N.useState)([]),qe=(0,c.Z)(Ve,2),Qe=(qe[0],qe[1]),Ke=(0,N.useState)("https://thumbs.dreamstime.com/b/carrete-del-hilo-36758026.jpg"),Ge=(0,c.Z)(Ke,2),Je=Ge[0],Xe=Ge[1],Ye=(0,N.useState)([]),$e=(0,c.Z)(Ye,2),et=$e[0],tt=$e[1],rt=(0,N.useState)({}),nt=(0,c.Z)(rt,2),at=nt[0],it=nt[1],st=(0,N.useState)([]),ct=(0,c.Z)(st,2),ot=ct[0],lt=ct[1],ut=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,lt([]),Le([]),e.next=5,Y.listar();case 5:return t=e.sent,Le(t),t.length>0?lt(t):lt(null),e.t0=A,e.next=11,Y.ExportData();case 11:e.t1=e.sent,(0,e.t0)(e.t1),e.next=18;break;case 15:e.prev=15,e.t2=e.catch(0),lt(null);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();(0,N.useEffect)((function(){!function(){jt.apply(this,arguments)}(),ut()}),[]);var dt=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.crear(At,Je);case 3:"1"==(t=e.sent).data.data.messageStatus?((0,H.xO)("El registro se ha insertado exitosamente"),ut(),xt(),St(ie),Xe("")):t.data.data.messageStatus.includes("UNIQUE")&&(0,H.d0)("El registro ya existe"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,H.bW)("Error inesperado");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.editar(At,Q,Je);case 3:"1"===(t=e.sent).data.data.messageStatus?((0,H.xO)("El registro se ha editado exitosamente"),ut(),bt(),St(ie)):t.data.data.messageStatus.includes("UNIQUE")&&(0,H.KV)("El registro ya existe"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,H.bW)("Error inesperado");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),xt=function(){ue(!le),he(!xe),St(ie),Xe("https://thumbs.dreamstime.com/b/carrete-del-hilo-36758026.jpg")},ht=function(e){Fe((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,n.Z)({},e,null))}))},mt=function(e){var t=e.target.files[0];if(t&&t.type.startsWith("image/")){var r=new FileReader;r.readAsDataURL(t),r.onload=function(){Xe(r.result)}}else(0,H.KV)("Archivo incorrecto")},ft=[{title:"No.",dataIndex:"key",key:"key",sorter:function(e,t){return e.key-t.key}},{title:"Nombre del Material",dataIndex:"mate_Descripcion",key:"mate_Descripcion",sorter:function(e,t){return e.mate_Descripcion.localeCompare(t.mate_Descripcion)}},{title:"Nombre de la Subcategoria",dataIndex:"subc_Descripcion",key:"subc_Descripcion",sorter:function(e,t){return e.subc_Descripcion.localeCompare(t.subc_Descripcion)}},{title:"Acciones",key:"operation",render:function(e){return(0,G.jsx)("div",{children:(0,G.jsxs)(o.Z,{direction:"row",spacing:1,children:[(0,G.jsx)(l.Z,{"aria-controls":"menu-".concat(e.mate_Id),"aria-haspopup":"true",onClick:function(t){return r=t,i=e.mate_Id,void Fe((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},i,r.currentTarget))}));var r,i},variant:"contained",style:{borderRadius:"10px",backgroundColor:"#634A9E",color:"white"},startIcon:(0,G.jsx)(u.Z,{children:"menu"}),children:"Opciones"}),(0,G.jsxs)(d.Z,{id:"menu-".concat(e.mate_Id),anchorEl:Ae[e.mate_Id],keepMounted:!0,open:Boolean(Ae[e.mate_Id]),onClose:function(){return ht(e.mate_Id)},children:[(0,G.jsxs)(p.Z,{onClick:function(){return _t(e)},children:[(0,G.jsx)(u.Z,{children:"edit"}),"\u3164Editar"]}),(0,G.jsxs)(p.Z,{onClick:function(){return it(t=e),Xe(t.mate_Imagen),setTimeout((function(){ue(!le),ve(!ye)}),"500"),void ht(t.mate_Id);var t},children:[(0,G.jsx)(u.Z,{children:"visibility"}),"\u3164Detalles"]})]})]})},e.mate_Id)}}],Zt={filename:"Materiales",fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,useBom:!0,useKeysAsHeaders:!1,headers:[{label:"No."},{label:"Nombre del Material"},{label:"Nombre de la Subcategoria"}].map((function(e){return e.label}))},gt=new O.ExportToCsv(Zt),bt=function(){ue(!le),ge(!Ze),St(ie)};function jt(){return(jt=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=He,e.next=3,X.Categorias();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=Qe,e.next=8,X.Colores();case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)((0,i.Z)().mark((function e(t){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.SubCategoriasPorCategoria(t);case 3:r=e.sent,tt(r),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var _t=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xe(t.mate_Imagen),ht(t.mate_Id),ue(!le),ge(!Ze),St(ie),Se(!0),Nt("id",t.mate_Id),Nt("mate_Descripcion",t.mate_Descripcion),Nt("colores",{value:t.colr_Id,label:t.colr_Nombre}),yt(t.cate_Id),Nt("categorias",{value:t.cate_Id,label:t.cate_Descripcion}),yt(t.subc_Id),Nt("subcategoria",{value:t.subc_Id,label:t.subc_Descripcion}),K(t.mate_Id),setTimeout((function(){ue(!le),ge(!Ze)}),"250"),ht(t.mate_Id);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct=["key","mate_Descripcion","subc_Descripcion"],kt=Ue.filter((function(e){if(""===re)return!0;for(var t=0,r=Object.entries(e);t<r.length;t++){var n=(0,c.Z)(r[t],2),a=n[0],i=n[1];if(Ct.includes(a)){var s="number"===typeof i?i.toString():i.toString().toLowerCase(),o="number"===typeof re?re.toString():re.toLowerCase();if(s.includes(o))return!0}}return!1})).reverse(),It=(0,R.cI)({defaultMaterialesValues:ie,mode:"all",resolver:(0,M.X)(se)}),wt=It.handleSubmit,St=(It.register,It.reset),Dt=It.control,Pt=It.watch,Et=It.formState,Nt=It.setValue,Mt=Et.isValid,Rt=(Et.dirtyFields,Et.errors),At=Pt(),Ft=function(){Mt?we?pt():dt():(0,H.KV)("Completa todos los campos")},Tt=function(){Fe((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},"menu-exportar",null))}))};return(0,G.jsxs)(x.Z,{sx:{minWidth:275,margin:"40px"},children:[(0,G.jsx)(h.Z,{component:"img",height:"200",image:"https://i.ibb.co/cL2c1Zs/MATERIALES.png",alt:"Encabezado de la carta"}),(0,G.jsxs)(m.Z,{in:le,children:[(0,G.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:["   ",(0,G.jsxs)(Z.ZP,{container:!0,spacing:1,children:[(0,G.jsx)(Z.ZP,{item:!0,xs:12,sm:12,md:6,display:"flex",sx:{justifyContent:{xs:"center",sm:"center",md:"start"}},children:(0,G.jsxs)(o.Z,{direction:"row",spacing:1,children:[(0,G.jsx)(l.Z,{startIcon:(0,G.jsx)(u.Z,{children:"add"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(){xt(),Se(!1)},children:"Nuevo"}),(0,G.jsxs)(l.Z,{startIcon:(0,G.jsx)(u.Z,{children:"upload"}),onClick:function(e){return t=e,r="menu-exportar",void Fe((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},r,t.currentTarget))}));var t,r},sx:{backgroundColor:"#dcc25a",color:"white","&:hover":{backgroundColor:"#dcc25a"}},style:{borderRadius:"10px"},children:[(0,G.jsx)(g.Z,{children:"Exportar"}),(0,G.jsx)(W.Z,{})]}),(0,G.jsx)("div",{children:(0,G.jsxs)(d.Z,{id:"menu-exportar",anchorEl:Ae["menu-exportar"],open:Boolean(Ae["menu-exportar"]),onClose:function(){return Tt()},keepMounted:!0,children:[(0,G.jsxs)(p.Z,{onClick:function(){!function(){try{gt.generateCsv(r)}catch(e){}}(),Tt()},style:{fontSize:"15px",marginTop:"5px",marginBottom:"5px"},children:[(0,G.jsx)(z.Z,{style:{fontSize:"20px"}}),"\xa0\xa0Archivo CSV"]}),(0,G.jsx)(ae,{data:r,handleCloseExportar:Tt}),(0,G.jsx)(J,{data:r,handleCloseExportar:Tt})]})},"menu-exportar")]})}),(0,G.jsxs)(Z.ZP,{item:!0,xs:12,sm:6,md:3,display:"flex",sx:{justifyContent:{xs:"center",sm:"end",md:"end"}},children:[(0,G.jsx)("label",{className:"mt-8",children:"Filas por p\xe1gina:"}),(0,G.jsx)(b.Z,{sx:{minWidth:50},size:"small",children:(0,G.jsxs)(j.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:Ee,onChange:function(e){Ne(e.target.value)},children:[(0,G.jsx)(p.Z,{value:10,children:"10"}),(0,G.jsx)(p.Z,{value:25,children:"25"}),(0,G.jsx)(p.Z,{value:50,children:"50"})]})})]}),(0,G.jsxs)(Z.ZP,{item:!0,xs:12,sm:6,md:3,display:"flex",sx:{justifyContent:{xs:"center",sm:"start",md:"center"}},children:[(0,G.jsx)(y.Z,{style:{borderRadius:"10px"},placeholder:"Buscar",value:re,onChange:function(e){ne(e.target.value)},size:"small",variant:"outlined",InputProps:{startAdornment:(0,G.jsx)(v.Z,{position:"start",children:(0,G.jsx)(_.Z,{edge:"start",children:(0,G.jsx)(P.Z,{})})})}}),"      "]})]})]}),(0,G.jsx)("div",{className:"center",style:{width:"95%",margin:"auto"},children:(0,G.jsx)(F.Z,{columns:ft,dataSource:kt,scroll:{x:!0},size:"small",locale:{triggerDesc:"Ordenar descendente",triggerAsc:"Ordenar ascendente",cancelSort:"Cancelar",emptyText:(0,T.Z)(ot)},pagination:{pageSize:Ee,showSizeChanger:!1,className:"custom-pagination"}})})]}),(0,G.jsx)("form",{onSubmit:wt((function(e){})),children:(0,G.jsx)(m.Z,{in:xe,children:(0,G.jsx)(f.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,G.jsxs)(Z.ZP,{container:!0,spacing:3,children:[(0,G.jsx)(Z.ZP,{item:!0,xs:12,children:(0,G.jsx)(C.Z,{style:{marginTop:"0px",marginBottom:"0px"},children:(0,G.jsx)(k.Z,{label:"Agregar Material"})})}),(0,G.jsx)(Z.ZP,{item:!0,xs:12,md:4,children:(0,G.jsxs)("div",{className:"little-profilePhynomo text-center",style:{marginTop:"30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[(0,G.jsx)("div",{className:"pro-img",style:{marginTop:"0",width:"200px",height:"200px",overflow:"hidden",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",borderRadius:"50%"},children:null==Je?(0,G.jsx)("img",{src:"https://i.ibb.co/RTnx082/kisspng-computer-icons-user-clip-art-user-5abf13db298934-2968784715224718991702.jpg",alt:"user"}):(0,G.jsx)(E.Z,{width:200,style:{marginTop:"0",width:"200px",height:"200px",overflow:"hidden",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",borderRadius:"50%"},error:!!Rt.image,src:Je})}),(0,G.jsx)("br",{}),(0,G.jsx)(l.Z,{startIcon:(0,G.jsx)(u.Z,{children:"image"}),variant:"contained",color:"primary",style:{borderRadius:"5px",marginRight:"5px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(){return $.current.click()},children:"Seleccionar imagen"}),(0,G.jsx)("input",{type:"file",accept:"image/*",ref:$,style:{display:"none"},onChange:mt})]})}),(0,G.jsx)(Z.ZP,{item:!0,xs:12,md:8,children:(0,G.jsxs)(Z.ZP,{container:!0,spacing:3,children:[(0,G.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,G.jsx)("div",{className:"mb-16",children:(0,G.jsxs)(b.Z,{fullWidth:!0,children:[(0,G.jsx)(I.Z,{error:!!Rt.categorias,children:"Categor\xedas:"}),(0,G.jsx)(R.Qr,{render:function(e){var t,r=e.field;return(0,G.jsx)(w.Z,(0,a.Z)((0,a.Z)({},r),{},{id:"categorias",disableClearable:!0,isOptionEqualToValue:function(e,t){return e.value===(null===t||void 0===t?void 0:t.value)},options:Oe,value:null!==(t=At.categorias)&&void 0!==t?t:null,onChange:function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nt("categorias",r),Nt("subcategoria",null),yt(null===r||void 0===r?void 0:r.value),r||Nt("subc_Id",[]);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),renderInput:function(e){return(0,G.jsx)(y.Z,(0,a.Z)((0,a.Z)({},e),{},{error:!!Rt.categorias,InputLabelProps:{shrink:!0}}))}}))},name:"categorias",control:Dt})]})})}),(0,G.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,G.jsx)("div",{className:"mb-16",children:(0,G.jsxs)(b.Z,{fullWidth:!0,children:[(0,G.jsx)(I.Z,{error:!!Rt.subcategoria,children:"Subcategor\xedas:"}),(0,G.jsx)(R.Qr,{render:function(e){var t,r=e.field;return(0,G.jsx)(w.Z,(0,a.Z)((0,a.Z)({},r),{},{id:"subcategoria",isOptionEqualToValue:function(e,t){return e.value===(null===t||void 0===t?void 0:t.value)},options:et,value:null!==(t=At.subcategoria)&&void 0!==t?t:null,onChange:function(e,t){Nt("subcategoria",t)},renderInput:function(e){return(0,G.jsx)(y.Z,(0,a.Z)((0,a.Z)({},e),{},{error:!!Rt.subcategoria,InputLabelProps:{shrink:!0}}))}}))},name:"subcategorias",control:Dt})]})})}),(0,G.jsx)(Z.ZP,{item:!0,xs:12,children:(0,G.jsx)("div",{className:"mb-16",children:(0,G.jsxs)(b.Z,{fullWidth:!0,children:[(0,G.jsx)(I.Z,{error:!!Rt.mate_Descripcion,id:"group-label",children:"Descripci\xf3n Material:"}),(0,G.jsx)(R.Qr,{render:function(e){var t=e.field;return(0,G.jsx)(y.Z,(0,a.Z)((0,a.Z)({},t),{},{id:"outlined",inputProps:{maxLength:150},error:!!Rt.mate_Descripcion}))},name:"mate_Descripcion",control:Dt})]})})})]})}),(0,G.jsxs)(Z.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,G.jsx)(l.Z,{startIcon:(0,G.jsx)(u.Z,{children:"check"}),variant:"contained",color:"primary",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:Ft,type:"submit",children:"Guardar"}),(0,G.jsx)(l.Z,{startIcon:(0,G.jsx)(u.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:xt,children:"Cancelar"})]})]})})})}),(0,G.jsx)(m.Z,{in:Ze,children:(0,G.jsx)(f.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,G.jsxs)(Z.ZP,{container:!0,spacing:3,children:[(0,G.jsx)(Z.ZP,{item:!0,xs:12,children:(0,G.jsx)(C.Z,{style:{marginTop:"0px",marginBottom:"0px"},children:(0,G.jsx)(k.Z,{label:"Editar Materiales"})})}),(0,G.jsx)(Z.ZP,{item:!0,xs:8,md:4,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:(0,G.jsxs)("div",{className:"little-profilePhynomo text-center",children:[(0,G.jsx)("div",{style:{marginTop:"0",width:"200px",height:"200px",overflow:"hidden",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",borderRadius:"50%"},children:null==Je?(0,G.jsx)("img",{src:"https://i.ibb.co/RTnx082/kisspng-computer-icons-user-clip-art-user-5abf13db298934-2968784715224718991702.jpg",alt:"user"}):(0,G.jsx)(E.Z,{width:200,style:{marginTop:"0",width:"200px",height:"200px",overflow:"hidden",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",borderRadius:"50%"},src:Je})}),(0,G.jsx)("br",{}),(0,G.jsx)(l.Z,{startIcon:(0,G.jsx)(u.Z,{children:"image"}),variant:"contained",color:"primary",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(){return $.current.click()},children:"Seleccionar imagen"}),(0,G.jsx)("input",{type:"file",accept:"image/*",ref:$,style:{display:"none"},onChange:mt})]})}),(0,G.jsx)(Z.ZP,{item:!0,xs:8,style:{marginTop:"30px"},children:(0,G.jsxs)(Z.ZP,{container:!0,spacing:3,children:[(0,G.jsxs)(Z.ZP,{item:!0,xs:12,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,G.jsx)(Z.ZP,{item:!0,xs:6,style:{marginRight:"5px"},children:(0,G.jsx)("div",{className:" mb-16",children:(0,G.jsxs)(b.Z,{fullWidth:!0,children:[(0,G.jsx)(I.Z,{error:!!Rt.categorias,children:"Categor\xeda"}),(0,G.jsx)(R.Qr,{render:function(e){var t,r=e.field;return(0,G.jsx)(w.Z,(0,a.Z)((0,a.Z)({},r),{},{disablePortal:!0,isOptionEqualToValue:function(e,t){return e.value===t.value},disableClearable:!0,options:Oe,value:null!==(t=At.categorias)&&void 0!==t?t:null,onChange:function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nt("categorias",r),Nt("subcategoria",null),yt(null===r||void 0===r?void 0:r.value),r||Nt("subc_Id",[]);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),renderInput:function(e){return(0,G.jsx)(y.Z,(0,a.Z)((0,a.Z)({},e),{},{error:!!Rt.categorias,InputLabelProps:{shrink:!0}}))}}))},name:"categorias",control:Dt})]})})}),(0,G.jsx)(Z.ZP,{item:!0,xs:6,children:(0,G.jsx)("div",{className:" mb-16",children:(0,G.jsxs)(b.Z,{fullWidth:!0,children:[(0,G.jsx)(I.Z,{error:!!Rt.subcategoria,children:"Subcategor\xeda"}),(0,G.jsx)(R.Qr,{render:function(e){var t,r=e.field;return(0,G.jsx)(w.Z,(0,a.Z)((0,a.Z)({},r),{},{id:"subcategoria",isOptionEqualToValue:function(e,t){return e.value===(null===t||void 0===t?void 0:t.value)},options:et,value:null!==(t=At.subcategoria)&&void 0!==t?t:null,onChange:function(e,t){Nt("subcategoria",t)},renderInput:function(e){return(0,G.jsx)(y.Z,(0,a.Z)((0,a.Z)({},e),{},{error:!!Rt.subcategoria,InputLabelProps:{shrink:!0}}))}}))},name:"subcategorias",control:Dt})]})})})]}),(0,G.jsx)(Z.ZP,{item:!0,xs:12,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,G.jsx)(Z.ZP,{item:!0,xs:12,style:{marginRight:"5px"},children:(0,G.jsx)("div",{className:" mb-16",children:(0,G.jsxs)(b.Z,{fullWidth:!0,children:[(0,G.jsx)(I.Z,{error:!!Rt.mate_Descripcion,children:"Descripci\xf3n Material"}),(0,G.jsx)(R.Qr,{render:function(e){var t=e.field;return(0,G.jsx)(y.Z,(0,a.Z)((0,a.Z)({},t),{},{fullWidth:!0,error:!!Rt.mate_Descripcion,InputLabelProps:{shrink:!0}}))},name:"mate_Descripcion",control:Dt})]})})})})]})}),(0,G.jsxs)(Z.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,G.jsx)(l.Z,{startIcon:(0,G.jsx)(u.Z,{children:"check"}),variant:"contained",color:"primary",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},type:"submit",onClick:Ft,children:"Guardar"}),(0,G.jsx)(l.Z,{startIcon:(0,G.jsx)(u.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:bt,children:"Cancelar"})]})]})})}),(0,G.jsx)(m.Z,{in:ye,children:(0,G.jsx)(f.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-center"},children:(0,G.jsxs)(Z.ZP,{container:!0,spacing:3,children:[(0,G.jsx)(Z.ZP,{item:!0,xs:12,style:{marginBottom:"30px"},children:(0,G.jsx)(C.Z,{style:{marginTop:"0px",marginBottom:"10px"},children:(0,G.jsx)(k.Z,{label:"Detalles del Material"})})}),(0,G.jsx)("br",{}),(0,G.jsx)(Z.ZP,{item:!0,xs:4}),(0,G.jsx)(Z.ZP,{item:!0,xs:8,children:(0,G.jsx)(E.Z,{width:300,style:{marginTop:"0",width:"400px",height:"300px",overflow:"hidden",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",borderRadius:"50%"},src:Je})}),(0,G.jsxs)(Z.ZP,{container:!0,spacing:2,style:{display:"flex",justifyContent:"center",marginBottom:"40px"},children:[(0,G.jsx)(S.Z,{sx:{flex:1,textAlign:"center"},children:(0,G.jsxs)(D.Z,{htmlFor:"id",children:[(0,G.jsx)(g.Z,{sx:{fontWeight:"bold",color:"#000000"},children:"Id del Material:"}),(0,G.jsx)(g.Z,{children:at.mate_Id})]})}),(0,G.jsx)(S.Z,{sx:{flex:1,textAlign:"center"},children:(0,G.jsxs)(D.Z,{htmlFor:"descripcion",children:[(0,G.jsx)(g.Z,{sx:{fontWeight:"bold",color:"#000000"},children:"Nombre del Material:"}),(0,G.jsx)(g.Z,{children:at.mate_Descripcion})]})})]}),(0,G.jsx)(Z.ZP,{container:!0,spacing:2,style:{display:"flex",justifyContent:"center",marginBottom:"40px"},children:(0,G.jsx)(S.Z,{sx:{flex:1,textAlign:"center"},children:(0,G.jsxs)(D.Z,{htmlFor:"descripcion",children:[(0,G.jsx)(g.Z,{sx:{fontWeight:"bold",color:"#000000"},children:"Subcategoria:"}),(0,G.jsx)(g.Z,{children:at.subc_Descripcion})]})})}),(0,G.jsx)(Z.ZP,{item:!0,xs:12,children:(0,G.jsxs)("table",{id:"detallesTabla",style:{width:"100%",borderCollapse:"collapse"},children:[(0,G.jsx)("thead",{children:(0,G.jsxs)("tr",{children:[(0,G.jsxs)("th",{style:B.Z.tableHeaderStyle,children:[(0,G.jsx)(u.Z,{style:B.Z.iconStyle,children:"edit"}),"Accion"]}),(0,G.jsxs)("th",{style:B.Z.tableHeaderStyle,children:[(0,G.jsx)(u.Z,{style:B.Z.iconStyle,children:"person"}),"Usuario"]}),(0,G.jsxs)("th",{style:B.Z.tableHeaderStyle,children:[(0,G.jsx)(u.Z,{style:B.Z.iconStyle,children:"date_range"}),"Fecha y hora"]})]})}),(0,G.jsxs)("tbody",{children:[(0,G.jsxs)("tr",{style:B.Z.tableRowStyle,children:[(0,G.jsx)("td",{style:B.Z.tableCellStyle,children:(0,G.jsx)("strong",{children:"Creaci\xf3n"})}),(0,G.jsx)("td",{style:B.Z.tableCellStyle,children:at.usuarioCreacionNombre}),(0,G.jsx)("td",{style:B.Z.tableCellStyle,children:at.mate_FechaCreacion?new Date(at.mate_FechaCreacion).toLocaleString():""})]}),(0,G.jsxs)("tr",{style:B.Z.tableRowStyle,children:[(0,G.jsx)("td",{style:B.Z.tableCellStyle,children:(0,G.jsx)("strong",{children:"Modificaci\xf3n"})}),(0,G.jsx)("td",{style:B.Z.tableCellStyle,children:at.usuarioModificaNombre}),(0,G.jsx)("td",{style:B.Z.tableCellStyle,children:at.mate_FechaModificacion?new Date(at.mate_FechaModificacion).toLocaleString():""})]})]})]})}),(0,G.jsx)("br",{}),(0,G.jsx)(Z.ZP,{item:!0,xs:12,children:(0,G.jsxs)("div",{className:"card-footer",children:[(0,G.jsx)(l.Z,{variant:"contained",style:{position:"fixed",top:"76%",right:"5%"},onClick:function(){ue(!le),ve(!ye)},startIcon:(0,G.jsx)(u.Z,{children:"arrow_back"}),children:"Regresar"}),(0,G.jsx)("br",{})]})})]})})})]})}},86050:function(e,t,r){var n=r(74165),a=r(15861),i=r(31881),s=r.n(i),c=r(9098);t.Z=function(){var e={XApiKey:c.Z.extraerToken()},t=s().create({baseURL:"https://practicaacademia.somee.com/api/Materiales/",headers:e}),r=JSON.parse(localStorage.getItem("user"));function i(){return(i=(0,a.Z)((0,n.Z)().mark((function e(){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("Listar");case 3:return r=e.sent,a=r.data.data.map((function(e,t){return{key:t+1,mate_Id:e.mate_Id,mate_Descripcion:e.mate_Descripcion,subc_Id:e.subc_Id,cate_Id:e.cate_Id,colr_Id:e.colr_Id,colr_Nombre:e.colr_Nombre,cate_Descripcion:e.cate_Descripcion,subc_Descripcion:e.subc_Descripcion,mate_Imagen:e.mate_Imagen,usua_UsuarioCreacion:e.usua_UsuarioCreacion,mate_FechaCreacion:e.mate_FechaCreacion,usuarioCreacionNombre:e.usuarioCreacionNombre,usua_UsuarioModificacion:e.usua_UsuarioModificacion,mate_FechaModificacion:e.mate_FechaModificacion,usuarioModificaNombre:e.usuarioModificaNombre,mate_Estado:e.mate_Estado}})),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function o(){return(o=(0,a.Z)((0,n.Z)().mark((function e(){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("Listar");case 3:return r=e.sent,a=r.data.data.map((function(e,t){return{key:t+1,mate_Descripcion:e.mate_Descripcion,subc_Descripcion:e.subc_Descripcion}})),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function l(){return(l=(0,a.Z)((0,n.Z)().mark((function e(a,i){var s,o,l,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("https://thumbs.dreamstime.com/b/carrete-del-hilo-36758026.jpg",s="","https://thumbs.dreamstime.com/b/carrete-del-hilo-36758026.jpg"==i){e.next=9;break}return e.next=5,p(i);case 5:o=e.sent,s=o.data.url.toString(),e.next=10;break;case 9:s=i;case 10:return e.prev=10,l={mate_Descripcion:a.mate_Descripcion.trim(),subc_Id:a.subcategoria.value,mate_Imagen:s,colr_Id:2,usua_UsuarioCreacion:r.uuid,mate_FechaCreacion:c.Z.formatFechaHora(new Date)},e.next=14,t.post("Insertar",l);case 14:return u=e.sent,e.abrupt("return",u);case 18:e.prev=18,e.t0=e.catch(10);case 20:case"end":return e.stop()}}),e,null,[[10,18]])})))).apply(this,arguments)}function u(){return(u=(0,a.Z)((0,n.Z)().mark((function e(a,i,s){var o,l,u,d,x,h,m,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("Listar");case 2:return o=e.sent,l=o.data.data.map((function(e,t){return{key:t+1,mate_Id:e.mate_Id,mate_Descripcion:e.mate_Descripcion,subc_Id:e.subc_Id,cate_Id:e.cate_Id,colr_Id:2,cate_Descripcion:e.cate_Descripcion,subc_Descripcion:e.subc_Descripcion,mate_Imagen:e.mate_Imagen,usua_UsuarioCreacion:e.usua_UsuarioCreacion,mate_FechaCreacion:e.mate_FechaCreacion,usuarioCreacionNombre:e.usuarioCreacionNombre,usua_UsuarioModificacion:e.usua_UsuarioModificacion,mate_FechaModificacion:e.mate_FechaModificacion,usuarioModificaNombre:e.usuarioModificaNombre,mate_Estado:e.mate_Estado}})),u=l,e.next=7,u.find((function(e){return e.mate_Id===i}));case 7:if(d=e.sent,x="",d.mate_Imagen!==s){e.next=13;break}x=s,e.next=17;break;case 13:return e.next=15,p(s);case 15:h=e.sent,x=h.data.url.toString();case 17:return e.prev=17,m={mate_Id:a.id,mate_Descripcion:a.mate_Descripcion.trim(),subc_id:a.subcategoria.value,mate_Imagen:x,colr_Id:a.colores.value,usua_UsuarioModificacion:r.uuid,mate_FechaModificacion:c.Z.formatFechaHora(new Date)},e.next=21,t.post("Editar",m);case 21:return f=e.sent,e.abrupt("return",f);case 25:e.prev=25,e.t0=e.catch(17);case 27:case"end":return e.stop()}}),e,null,[[17,25]])})))).apply(this,arguments)}function d(){return(d=(0,a.Z)((0,n.Z)().mark((function e(a){var i,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={mate_Id:a.id,usua_UsuarioEliminacion:r.uuid,mate_FechaEliminacion:formatFechaHora(new Date)},e.next=4,t.post("Eliminar",i);case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function p(e){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,i,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"7e4e4920016a49b1dfc06d5af4e9ffc3",r=t.split(",")[1],a="https://api.imgbb.com/1/upload?key=".concat("7e4e4920016a49b1dfc06d5af4e9ffc3"),(i=new FormData).append("image",r),e.prev=5,e.next=8,fetch(a,{method:"POST",body:i});case 8:if((s=e.sent).ok){e.next=11;break}throw new Error("Error al enviar la imagen");case 11:return e.next=13,s.json();case 13:return e.abrupt("return",e.sent);case 16:e.prev=16,e.t0=e.catch(5);case 18:case"end":return e.stop()}}),e,null,[[5,16]])})))).apply(this,arguments)}return{listar:function(){return i.apply(this,arguments)},crear:function(e,t){return l.apply(this,arguments)},editar:function(e,t,r){return u.apply(this,arguments)},eliminar:function(e){return d.apply(this,arguments)},SubirImagen:p,ExportData:function(){return o.apply(this,arguments)}}}},89145:function(e,t,r){r(47313);var n=r(85281),a=r(53191),i=r(46417);t.Z=function(e){var t=(0,i.jsxs)(a.Z,{container:!0,spacing:2,display:"flex",justifyContent:"center",alignContent:"center",marginY:"10px",children:[(0,i.jsx)(a.Z,{item:!0,xs:12,children:(0,i.jsx)(n.Z,{style:{color:"#634a9e"}})}),(0,i.jsx)(a.Z,{item:!0,xs:12,children:"Cargando..."})]});return null==e||e.length>0?null:t}}}]);