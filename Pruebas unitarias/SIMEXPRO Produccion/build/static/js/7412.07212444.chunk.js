"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[7412],{53996:function(e,t,n){n.d(t,{Z:function(){return N}});var r=n(30168),a=n(4942),i=n(1413),o=n(45987),l=n(92550),s=n(88564),d=n(83061),c=n(47313),u=n(38566),p=n(46417);var x=function(e){return(0,p.jsx)("div",{className:(0,d.default)("FusePageSimple-header",e.className),children:(0,p.jsx)("div",{className:"container",children:e.header&&e.header})})},h=n(29439),f=n(46923),m=n(57451),g=n(60211),b=n(22408),v=n(19860),Z=n(36063),j=n(62201);var y=function(e){var t=(0,v.Z)(),n=(0,b.v9)((0,j.lK)(t.palette.primary.main));return(0,p.jsxs)(l.Z,{enable:e.innerScroll,children:[e.header&&(0,p.jsx)(Z.Z,{theme:n,children:(0,p.jsx)("div",{className:(0,d.default)("FusePageSimple-sidebarHeader",e.variant),children:e.header})}),e.content&&(0,p.jsx)("div",{className:"FusePageSimple-sidebarContent",children:e.content})]})},C=(0,c.forwardRef)((function(e,t){var n=e.open,r=e.position,a=e.variant,o=(e.rootRef,(0,c.useState)(n)),l=(0,h.Z)(o,2),s=l[0],u=l[1];(0,c.useImperativeHandle)(t,(function(){return{toggleSidebar:x}}));var x=(0,c.useCallback)((function(e){u(e)}),[]);return(0,c.useEffect)((function(){x(n)}),[x,n]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(m.Z,{lgUp:"permanent"===a,children:(0,p.jsx)(g.Z,{variant:"temporary",anchor:r,open:s,onOpen:function(e){},onClose:function(){return null===e||void 0===e?void 0:e.onClose()},disableSwipeToOpen:!0,classes:{root:(0,d.default)("FusePageSimple-sidebarWrapper",a),paper:(0,d.default)("FusePageSimple-sidebar",a,"left"===r?"FusePageSimple-leftSidebar":"FusePageSimple-rightSidebar")},ModalProps:{keepMounted:!0},BackdropProps:{classes:{root:"FusePageSimple-backdrop"}},style:{position:"absolute"},children:(0,p.jsx)(y,(0,i.Z)({},e))})}),"permanent"===a&&(0,p.jsx)(m.Z,{lgDown:!0,children:(0,p.jsx)(f.ZP,{variant:"permanent",anchor:r,className:(0,d.default)("FusePageSimple-sidebarWrapper",a,s?"opened":"closed","left"===r?"FusePageSimple-leftSidebar":"FusePageSimple-rightSidebar"),open:s,onClose:null===e||void 0===e?void 0:e.onClose,classes:{paper:(0,d.default)("FusePageSimple-sidebar border-0",a)},children:(0,p.jsx)(y,(0,i.Z)({},e))})})]})}));C.defaultProps={open:!0};var k,P=C,w=["theme"],_=(0,s.ZP)("div")((function(e){var t=e.theme,n=(0,o.Z)(e,w);return{display:"flex",flexDirection:"column",minWidth:0,minHeight:"100%",position:"relative",flex:"1 1 auto",width:"100%",height:"auto",backgroundColor:t.palette.background.default,"&.FusePageSimple-scroll-content":{height:"100%"},"& .FusePageSimple-wrapper":(0,i.Z)({display:"flex",flexDirection:"row",flex:"1 1 auto",zIndex:2,minWidth:0,height:"100%",backgroundColor:t.palette.background.default},"content"===n.scroll&&{position:"absolute",top:0,bottom:0,right:0,left:0,overflow:"hidden"}),"& .FusePageSimple-header":{display:"flex",flex:"0 0 auto",backgroundSize:"cover"},"& .FusePageSimple-topBg":{position:"absolute",left:0,right:0,top:0,height:S,pointerEvents:"none"},"& .FusePageSimple-contentWrapper":{display:"flex",flexDirection:"column",width:"100%",flex:"1 1 auto",overflow:"hidden",zIndex:9999},"& .FusePageSimple-toolbar":{height:I,minHeight:I,display:"flex",alignItems:"center"},"& .FusePageSimple-content":{display:"flex",flex:"1 1 auto",alignItems:"start",minHeight:0,overflowY:"auto"},"& .FusePageSimple-sidebarWrapper":{overflow:"hidden",backgroundColor:"transparent",position:"absolute","&.permanent":(0,a.Z)({},t.breakpoints.up("lg"),{position:"relative",marginLeft:0,marginRight:0,transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),"&.closed":{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),"&.FusePageSimple-leftSidebar":{marginLeft:-n.leftsidebarwidth},"&.FusePageSimple-rightSidebar":{marginRight:-n.rightsidebarwidth}}})},"& .FusePageSimple-sidebar":{position:"absolute",backgroundColor:t.palette.background.paper,color:t.palette.text.primary,"&.permanent":(0,a.Z)({},t.breakpoints.up("lg"),{position:"relative"}),maxWidth:"100%",height:"100%"},"& .FusePageSimple-leftSidebar":(0,a.Z)({width:n.leftsidebarwidth},t.breakpoints.up("lg"),{borderRight:"1px solid ".concat(t.palette.divider),borderLeft:0}),"& .FusePageSimple-rightSidebar":(0,a.Z)({width:n.rightsidebarwidth},t.breakpoints.up("lg"),{borderLeft:"1px solid ".concat(t.palette.divider),borderRight:0}),"& .FusePageSimple-sidebarHeader":{height:S,minHeight:S,backgroundColor:t.palette.primary.dark,color:t.palette.primary.contrastText},"& .FusePageSimple-sidebarHeaderInnerSidebar":{backgroundColor:"transparent",color:"inherit",height:"auto",minHeight:"auto"},"& .FusePageSimple-sidebarContent":{display:"flex",flexDirection:"column",minHeight:"100%"},"& .FusePageSimple-backdrop":{position:"absolute"}}})),S=120,I=64,D=(0,c.forwardRef)((function(e,t){var n=(0,c.useRef)(null),r=(0,c.useRef)(null),a=(0,c.useRef)(null);return(0,c.useImperativeHandle)(t,(function(){return{rootRef:a,toggleLeftSidebar:function(e){n.current.toggleSidebar(e)},toggleRightSidebar:function(e){r.current.toggleSidebar(e)}}})),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{styles:function(t){return(0,i.Z)((0,i.Z)({},"page"!==e.scroll&&{"#fuse-toolbar":{position:"static"},"#fuse-footer":{position:"static"}}),"page"===e.scroll&&{"#fuse-toolbar":{position:"sticky",top:0},"#fuse-footer":{position:"sticky",bottom:0}})}}),(0,p.jsx)(_,{className:(0,d.default)("FusePageSimple-root","FusePageSimple-scroll-".concat(e.scroll),e.className),ref:a,scroll:e.scroll,leftsidebarwidth:e.leftSidebarWidth,rightsidebarwidth:e.rightSidebarWidth,children:(0,p.jsx)("div",{className:"flex flex-auto flex-col z-10 h-full",children:(0,p.jsxs)("div",{className:"FusePageSimple-wrapper",children:[e.leftSidebarContent&&(0,p.jsx)(P,{position:"left",content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",ref:n,rootRef:a,open:e.leftSidebarOpen,onClose:e.leftSidebarOnClose}),(0,p.jsxs)("div",{className:"FusePageSimple-contentWrapper",children:[e.header&&(0,p.jsx)(x,{header:e.header}),e.content&&(0,p.jsx)(l.Z,{enable:"content"===e.scroll,className:(0,d.default)("FusePageSimple-content container"),children:e.content})]}),e.rightSidebarContent&&(0,p.jsx)(P,{position:"right",content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",ref:r,rootRef:a,open:e.rightSidebarOpen,onClose:e.rightSidebarOnClose})]})})})]})}));D.defaultProps={classes:{},scroll:"page",leftSidebarOpen:!1,rightSidebarOpen:!1,rightSidebarWidth:240,leftSidebarWidth:240};var N=(0,c.memo)((0,s.ZP)(D)(k||(k=(0,r.Z)([""]))))},7412:function(e,t,n){n.r(t),n.d(t,{default:function(){return Bt}});var r,a=n(4942),i=n(1413),o=n(45987),l=n(29439),s=n(81485),d=n(18397),c=n(68105),u=n(95004),p=n(53996),x=n(38768),h=n(58970),f=n(33973),m=n(9506),g=n(61113),b=n(88564),v=n(19860),Z=n(23132),j=n(83061),y=n(47313),C=n(22408),k=n(44758),P=n(15743),w=n(3805),_=n(74165),S=n(15861),I=n(80827),D=n(31881),N=n.n(D),F=n(9098),L=n(68673),A=((0,L.Z)(),{XApiKey:F.Z.extraerToken()}),O=N().create({baseURL:"https://practicaacademia.somee.com/api/Procesos/",headers:A}),R=(0,I.hg)("calendarApp/labels/getLabels",(0,S.Z)((0,_.Z)().mark((function e(){var t,n;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("Listar");case 2:return t=e.sent,n=t.data.data,e.abrupt("return",n.map((function(e){return{id:e.proc_Id,title:e.proc_Descripcion,color:e.proc_CodigoHtml}})));case 5:case"end":return e.stop()}}),e)})))),E=(0,I.hg)("calendarApp/labels/addLabel",function(){var e=(0,S.Z)((0,_.Z)().mark((function e(t,n){var r,a;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,e.next=3,N().post("/api/calendar/labels",t);case 3:return r=e.sent,e.next=6,r.data;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),T=(0,I.hg)("calendarApp/labels/updateLabel",function(){var e=(0,S.Z)((0,_.Z)().mark((function e(t,n){var r,a;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,e.next=3,N().put("/api/calendar/labels/".concat(t.id),t);case 3:return r=e.sent,e.next=6,r.data;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),W=(0,I.hg)("calendarApp/labels/removeLabel",function(){var e=(0,S.Z)((0,_.Z)().mark((function e(t,n){var r,a;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,e.next=3,N().delete("/api/calendar/labels/".concat(t));case 3:return r=e.sent,e.next=6,r.data;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),z=(0,I.HF)({}),B=z.getSelectors((function(e){return e.calendarApp.labels})),M=B.selectAll,V=(B.selectIds,B.selectById),H=(0,I.oM)({name:"calendarApp/labels",initialState:z.getInitialState({selectedLabels:[],labelsDialogOpen:!1}),reducers:{toggleSelectedLabels:function(e,t){e.selectedLabels=h.Z.xor(e.selectedLabels,[t.payload])},openLabelsDialog:function(e,t){e.labelsDialogOpen=!0},closeLabelsDialog:function(e,t){e.labelsDialogOpen=!1}},extraReducers:(r={},(0,a.Z)(r,R.fulfilled,(function(e,t){z.setAll(e,t.payload),e.selectedLabels=t.payload.map((function(e){return e.id}))})),(0,a.Z)(r,E.fulfilled,z.addOne),(0,a.Z)(r,T.fulfilled,z.upsertOne),(0,a.Z)(r,W.fulfilled,z.removeOne),r)}),U=function(e){return e.calendarApp.labels.selectedLabels},Q=function(e){return e.calendarApp.labels.ids[0]},q=function(e){return e.calendarApp.labels.labelsDialogOpen},G=H.actions,X=G.toggleSelectedLabels,Y=(G.openLabelsDialog,G.closeLabelsDialog),J=H.reducer,K=n(46417);var $=function(){var e=(0,C.v9)(M),t=(0,C.v9)(U),n=(0,C.I0)();return(0,K.jsxs)("div",{className:"flex flex-col flex-auto min-h-full p-12",children:[(0,K.jsx)("br",{}),(0,K.jsx)(w.E.span,{initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"pb-24 text-3xl font-extrabold tracking-tight",children:"PLANIFICACI\xd3N DE ORDEN"}),(0,K.jsxs)("div",{className:"group flex items-center mt-8 space-x-8 h-24 w-full",children:[(0,K.jsx)(k.Z,{color:"default",className:"p-0",checked:t.length>0,onChange:function(){t.length>0?t.forEach((function(e){n(X(e))})):e.forEach((function(e){n(X(e.id))}))}}),(0,K.jsx)(g.Z,{className:"flex flex-1 leading-none",children:t.length>0?"Deseleccionar todo":"Seleccionar todo"})]}),e.map((function(e){return(0,K.jsxs)("div",{className:"group flex items-center mt-8 space-x-8 h-24 w-full",children:[(0,K.jsx)(k.Z,{color:"default",className:"p-0",checked:t.includes(e.id),onChange:function(){n(X(e.id))}}),(0,K.jsx)(P.Z,{className:"w-12 h-12 shrink-0 rounded-full",sx:{backgroundColor:e.color}}),(0,K.jsx)(g.Z,{className:"flex flex-1 leading-none",children:e.title})]},e.id)}))]})},ee=n(22197),te=n(47131),ne=n(49709),re=n(65033),ae=n(24631),ie=n(22324),oe=n(62201),le=n(24193),se=n(82047),de=n(51405),ce=n(83213),ue={dayGridMonth:{title:"Mes",icon:"view_module"},timeGridWeek:{title:"Semana",icon:"view_week"},timeGridDay:{title:"D\xeda",icon:"view_agenda"}};var pe,xe,he=function(e){var t,n=e.className,r=e.calendarApi,a=e.currentDate,i=y.useState(null),o=(0,l.Z)(i,2),s=o[0],d=o[1],c=Boolean(s),u=function(){d(null)};return(0,K.jsxs)("div",{className:n,children:[(0,K.jsx)(le.Z,{sx:{minWidth:120},className:"rounded-6 justify-between",id:"view-select-button","aria-controls":"view-select-menu","aria-haspopup":"true","aria-expanded":c?"true":void 0,onClick:function(e){d(e.currentTarget)},variant:"outlined",endIcon:(0,K.jsx)(ee.Z,{size:16,children:"heroicons-outline:chevron-down"}),children:null===(t=ue[null===a||void 0===a?void 0:a.view.type])||void 0===t?void 0:t.title}),(0,K.jsx)(se.Z,{id:"view-select-menu",anchorEl:s,open:c,onClose:u,MenuListProps:{"aria-labelledby":"view-select-button"},children:Object.entries(ue).map((function(e){var t=(0,l.Z)(e,2),n=t[0],a=t[1];return(0,K.jsx)(de.Z,{onClick:function(){r().changeView(n),u()},children:(0,K.jsx)(ce.Z,{primary:a.title})},n)}))})]})},fe=n(35323),me=n(35919),ge=JSON.parse(localStorage.getItem("user")),be={XApiKey:F.Z.extraerToken()},ve=N().create({baseURL:"https://practicaacademia.somee.com/api/AsignacionesOrden/",headers:be}),Ze=N().create({baseURL:"https://practicaacademia.somee.com/api/Lotes/",headers:be}),je=N().create({baseURL:"https://practicaacademia.somee.com/api/AsignacionesOrdenDetalle/",headers:be}),ye=(0,I.hg)("calendarApp/events/getEvents",(0,S.Z)((0,_.Z)().mark((function e(){var t,n;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.get("/Listar");case 2:return t=e.sent,n=t.data.data,xe=n.map((function(e){var t=JSON.parse(e.detalles),n=null;return t&&(n=t.map((function(e,t){var n;return{key:t+1,lote_Id:e.lote[0].lote_Id,lote_CodigoLote:null===(n=e.lote[0])||void 0===n?void 0:n.lote_CodigoLote,adet_Cantidad:e.adet_Cantidad,materialnombre:e.lote[0].mate[0].mate_Descripcion,colornombre:e.lote[0].mate[0].colors[0].colr_Nombre}}))),{id:e.asor_Id,title:"".concat(e.clie_Nombre_O_Razon_Social," PO: ").concat(e.orco_Codigo," C\xf3digo \xedtem: ").concat(e.asor_OrdenDetId),allDay:!0,start:e.asor_FechaInicio,end:e.asor_FechaLimite,extendedProps:{detallePO:{orco:e.orco_Codigo,code:e.asor_OrdenDetId},descripcionDetalle:"Cantidad de \xedtems: ".concat(e.cantidad_Items,"\nFecha de emisi\xf3n: ").concat(new Date(e.orco_FechaEmision).toLocaleString().split(",")[0],"\nFecha l\xedmite: ").concat(new Date(e.orco_FechaLimite).toLocaleString().split(",")[0]),estilo:e.esti_Descripcion,talla:e.tall_Nombre,color:e.colr_Nombre,fechalimite:e.asor_FechaLimite,proceso:e.proc_Id,empleadoencargado:{value:e.empl_Id,label:e.empl_NombreCompleto},cantidad:e.asor_Cantidad,UsuarioCreacion:e.usuarioCreacionNombre,FechaCreacion:e.asor_FechaCreacion,UsuarioModificacion:e.usuarioModificacionNombre,FechaModificacion:e.asor_FechaModificacion,detalles:n,label:e.proc_Id}}})),e.abrupt("return",xe);case 6:case"end":return e.stop()}}),e)})))),Ce=(0,I.hg)("calendarApp/events/addEvent",function(){var e=(0,S.Z)((0,_.Z)().mark((function e(t,n){var r,a,i,o;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,e.prev=1,r=null,t.extendedProps.detalles.length>0&&t.extendedProps.detalles[0].lote_Id>0&&(a={detalles:t.extendedProps.detalles.map((function(e){return{lote_Id:e.lote_Id,adet_Cantidad:e.adet_Cantidad}}))},r=JSON.stringify(a)),i={asor_OrdenDetId:t.extendedProps.detallePO.code,asor_FechaInicio:t.start,asor_FechaLimite:t.end,asor_Cantidad:t.extendedProps.cantidad,proc_Id:t.extendedProps.label,empl_Id:t.extendedProps.empleadoencargado.value,detalles:r,usua_UsuarioCreacion:ge.uuid,asor_FechaCreacion:F.Z.formatFechaHora(new Date)},e.next=7,ve.post("Insertar",i);case 7:return o=e.sent,t.id=o.data.data.messageStatus,e.abrupt("return",t);case 12:e.prev=12,e.t0=e.catch(1);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()),ke=(0,I.hg)("calendarApp/events/updateEvent",function(){var e=(0,S.Z)((0,_.Z)().mark((function e(t,n){var r,a,o,l;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,e.prev=1,null!=t.end&&void 0!=t.end||(t.end=t.start),r=(0,i.Z)((0,i.Z)({},t),{},{extendedProps:(0,i.Z)((0,i.Z)({},t.extendedProps),{},{fechalimite:t.end})}),a={asor_Id:t.id,asor_OrdenDetId:t.extendedProps.detallePO.code,asor_FechaInicio:t.start,asor_FechaLimite:t.end,asor_Cantidad:t.extendedProps.cantidad,proc_Id:t.extendedProps.label,empl_Id:t.extendedProps.empleadoencargado.value,usua_UsuarioModificacion:ge.uuid,asor_FechaCreacion:F.Z.formatFechaHora(new Date)},e.next=7,ve.post("Editar",a);case 7:if("1"!==e.sent.data.data.messageStatus){e.next=18;break}return e.next=11,N().put("/api/calendar/events/".concat(r.id),r);case 11:return o=e.sent,e.next=14,o.data;case 14:return l=e.sent,e.abrupt("return",l);case 18:return e.abrupt("return",!1);case 19:e.next=24;break;case 21:return e.prev=21,e.t0=e.catch(1),e.abrupt("return",e.t0);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t,n){return e.apply(this,arguments)}}()),Pe=(0,I.hg)("calendarApp/events/removeEvent",function(){var e=(0,S.Z)((0,_.Z)().mark((function e(t,n){var r,a,i;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,e.prev=1,r={asor_Id:t},e.next=5,ve.post("Eliminar",r);case 5:if("1"!==e.sent.data.data.messageStatus){e.next=16;break}return e.next=9,N().delete("/api/calendar/events/".concat(t));case 9:return a=e.sent,e.next=12,a.data;case 12:return i=e.sent,e.abrupt("return",i);case 16:return e.abrupt("return",!1);case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(1),e.abrupt("return",e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t,n){return e.apply(this,arguments)}}()),we=function(){var e=(0,S.Z)((0,_.Z)().mark((function e(t){var n,r;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.get("Find?id=".concat(t));case 2:return n=e.sent,r=n.data.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=(0,S.Z)((0,_.Z)().mark((function e(t){var n,r;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze.get("LotesMateriales?lote_CodigoLote=".concat(t));case 2:return n=e.sent,r=n.data.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=(0,S.Z)((0,_.Z)().mark((function e(t,n){var r,a,i;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={asor_Id:n,lote_Id:t.lote_Id,adet_Cantidad:t.adet_Cantidad,usua_UsuarioCreacion:ge.uuid,adet_FechaCreacion:F.Z.formatFechaHora(new Date)},e.next=4,je.post("Insertar",r);case 4:return a=e.sent,i=a.data.data,e.abrupt("return",i);case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,S.Z)((0,_.Z)().mark((function e(t,n,r){var a,i,o;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={asor_Id:n,lote_Id:0,adet_Cantidad:t.adet_Cantidad,detalles:JSON.stringify(r),usua_UsuarioModificacion:ge.uuid,adet_FechaModificacion:F.Z.formatFechaHora(new Date)},e.next=4,je.post("Editar",a);case 4:return i=e.sent,o=i.data.data,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),De=function(){var e=(0,S.Z)((0,_.Z)().mark((function e(t,n){var r,a,i;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={lote_Id:t,adet_Cantidad:n},e.next=4,je.post("Eliminar",r);case 4:return a=e.sent,i=a.data.data,e.abrupt("return",i);case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Ne=(0,I.HF)({}),Fe=Ne.getSelectors((function(e){return e.calendarApp.events})),Le=Fe.selectAll,Ae=(Fe.selectIds,Fe.selectById,(0,I.oM)({name:"calendarApp/events",initialState:Ne.getInitialState({eventDialog:{type:"new",props:{open:!1,anchorPosition:{top:200,left:400}},data:null}}),reducers:{openNewEventDialog:{prepare:function(e){var t=e.start,n=e.end,r=e.jsEvent;return{payload:{type:"new",props:{open:!0,anchorPosition:{top:r.pageY,left:r.pageX}},data:{start:(0,me.Z)(new Date(t)),end:(0,me.Z)(new Date(n))}}}},reducer:function(e,t){e.eventDialog=t.payload}},openEditEventDialog:{prepare:function(e){var t=e.jsEvent,n=e.event,r=n.id,a=n.title,i=(n.label,n.allDay,n.start),o=n.end,l=n.extendedProps;return{payload:{type:"edit",props:{open:!0,anchorPosition:{top:t.pageY,left:t.pageX}},data:{id:r,title:a,start:i,end:o,extendedProps:l}}}},reducer:function(e,t){e.eventDialog=t.payload}},closeNewEventDialog:function(e,t){e.eventDialog={type:"new",props:{open:!1,anchorPosition:{top:200,left:400}},data:null}},closeEditEventDialog:function(e,t){e.eventDialog={type:"edit",props:{open:!1,anchorPosition:{top:200,left:400}},data:null}}},extraReducers:(pe={},(0,a.Z)(pe,ye.fulfilled,Ne.setAll),(0,a.Z)(pe,Ce.fulfilled,Ne.addOne),(0,a.Z)(pe,ke.fulfilled,Ne.upsertOne),(0,a.Z)(pe,Pe.fulfilled,Ne.removeOne),pe)})),Oe=Ae.actions,Re=Oe.openNewEventDialog,Ee=Oe.closeNewEventDialog,Te=Oe.openEditEventDialog,We=Oe.closeEditEventDialog,ze=(0,fe.P1)([U,Le],(function(e,t){return t.filter((function(t){return e.includes(t.extendedProps.label)}))})),Be=function(e){return e.calendarApp.events.eventDialog},Me=Ae.reducer;var Ve=function(e){var t=e.calendarRef,n=e.currentDate,r=e.onToggleLeftSidebar,a=(0,C.v9)(oe.rg),o=function(){var e;return null===(e=t.current)||void 0===e?void 0:e.getApi()},s=(0,C.I0)(),d=(0,y.useState)(!1),c=(0,l.Z)(d,2),u=c[0],p=c[1];return(0,K.jsxs)("div",{className:"flex flex-col md:flex-row w-full p-12 justify-between z-10 container",children:[(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row items-center",children:[(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)(te.Z,{onClick:function(e){return r()},"aria-label":"open left sidebar",size:"small",children:(0,K.jsx)(ee.Z,{children:"heroicons-outline:menu"})}),(0,K.jsx)(g.Z,{className:"text-2xl font-semibold tracking-tight whitespace-nowrap mx-16",children:null===n||void 0===n?void 0:n.view.title})]}),(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)(ne.Z,{title:"Previous",children:(0,K.jsx)(te.Z,{"aria-label":"Previous",onClick:function(){return o().prev()},children:(0,K.jsx)(ee.Z,{size:20,children:"ltr"===a.direction?"heroicons-solid:chevron-left":"heroicons-solid:chevron-right"})})}),(0,K.jsx)(ne.Z,{title:"Next",children:(0,K.jsx)(te.Z,{"aria-label":"Next",onClick:function(){return o().next()},children:(0,K.jsx)(ee.Z,{size:20,children:"ltr"===a.direction?"heroicons-solid:chevron-right":"heroicons-solid:chevron-left"})})}),(0,K.jsx)(ne.Z,{title:"Escoja una fecha",children:(0,K.jsx)("div",{children:(0,K.jsx)(w.E.div,{initial:{scale:0},animate:{scale:1,transition:{delay:.3}},children:(0,K.jsx)(te.Z,{"aria-label":"today",onClick:function(){p(!0)},size:"large",children:(0,K.jsx)(ee.Z,{children:"heroicons-outline:calendar"})})})})}),(0,K.jsx)(re.Z,{in:!1,children:(0,K.jsx)(ie.M,{label:"Escoja una fecha",onChange:function(e){return o().gotoDate(e)},open:u,onClose:function(){p(!1)},renderInput:function(e){return(0,K.jsx)(ae.Z,(0,i.Z)({},e))}})})]})]}),(0,K.jsxs)(w.E.div,{className:"flex items-center justify-center",initial:{opacity:0},animate:{opacity:1,transition:{delay:.3}},children:[(0,K.jsx)(te.Z,{className:"mx-8","aria-label":"add",onClick:function(e){return s(Re({jsEvent:e,start:new Date,end:new Date}))},children:(0,K.jsx)(ee.Z,{children:"heroicons-outline:plus-circle"})}),(0,K.jsx)(he,{currentDate:n,calendarApi:o})]})]})},He=n(63445),Ue=n(62563),Qe=n(25002),qe=n(9019),Ge=n(1550),Xe=n(25298),Ye=n(41727),Je=n(71263),Ke=n(94469),$e=n(33604),et=n(96467),tt=n(97762),nt=n(4117),rt=n(19536),at=n(66212),it=n(15103),ot=n(521),lt=n(71528),st=n(75627),dt=n(31387),ct=(n(88282),n(77453),n(88477)),ut=n(75265),pt=n(3463),xt=n(88797),ht=n(58467),ft=((0,L.Z)(),(0,y.forwardRef)((function(e,t){var n=e.value,r=e.onChange,a=e.className,i=(0,C.v9)(M),o=((0,C.v9)((function(e){return V(e,n)})),(0,ht.TH)().state);return(0,K.jsxs)(Ge.Z,{fullWidth:!0,className:a,children:[(0,K.jsx)(it.Z,{id:"select-label",children:"Procesos"}),(0,K.jsx)(xt.Z,{labelId:"select-label",id:"label-select",value:n,label:"Procesos",onChange:function(e){r(e.target.value)},ref:t,classes:{select:"flex items-center space-x-12"},style:{width:"350px"},children:null==o?i.map((function(e){return(0,K.jsxs)(de.Z,{value:e.id,className:"space-x-12",children:[(0,K.jsx)(m.Z,{className:"w-12 h-12 shrink-0 rounded-full",sx:{backgroundColor:e.color}}),(0,K.jsx)("span",{children:e.title})]},e.id)})):o.map((function(e){return(0,K.jsxs)(de.Z,{value:e.value,className:"space-x-12",children:[(0,K.jsx)(m.Z,{className:"w-12 h-12 shrink-0 rounded-full",sx:{backgroundColor:e.color}}),(0,K.jsx)("span",{children:e.label})]},e.value)}))})]})}))),mt=function(e){return h.Z.defaults(e||{},{title:"",allDay:!0,start:new Date,end:new Date,extendedProps:{detallePO:{orco:"",code:""},descripcionDetalle:"",estilo:"",talla:"",color:"",fechalimite:new Date,empleadoencargado:"",empl_Id:"",cantidad:0,detalles:[{key:"",adet_Id:"",lote_Id:"",lote_CodigoLote:"",lote_Objeto:"",adet_Cantidad:"",materialnombre:"",colornombre:""}],UsuarioCreacion:"",FechaCreacion:"",UsuarioModificacion:"",FechaModificacion:"",label:""}})},gt=n(93433),bt=n(35898),vt=n(5178),Zt=n(28155),jt=n(89145),yt=function(e){var t=e.props,n=t.VisibilidadTabla,r=(t.mostrarIndex,t.mostrarAdd,t.open),o=(t.setOpen,t.handleOpen,t.detalles),s=t.updateDetalles,d=t.Lotes,c=(t.eventDialog,mt().extendedProps.detalles[0]),u=pt.Ry().shape({lote_CodigoLote:pt.Z_().required(""),adet_Cantidad:pt.Rx().required("").min(1,"Ingrese una cantidad v\xe1lida").max(1e6,"Ingrese una cantidad v\xe1lida")}),p=(0,y.useState)(""),x=(0,l.Z)(p,2),h=x[0],f=(x[1],(0,y.useState)([])),m=(0,l.Z)(f,2),g=m[0],b=m[1],v=(0,y.useState)({}),Z=(0,l.Z)(v,2),j=Z[0],C=Z[1],k=["key","id"],P=y.useState(5),w=(0,l.Z)(P,2),I=w[0],D=(w[1],(0,y.useState)(!1)),N=(0,l.Z)(D,2),F=N[0],L=N[1],A=(0,y.useState)(!1),O=(0,l.Z)(A,2),R=O[0],E=O[1],T=(0,y.useState)(0),W=(0,l.Z)(T,2),z=W[0],B=W[1],M={lote_viejo:"",lote_nuevo:""},V=function(){L(!F)},H=function(e){C((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,a.Z)({},e,null))}))},U=[{title:"No.",dataIndex:"key",key:"key",sorter:function(e,t){return e.key-t.key}},{title:"C\xf3digo",dataIndex:"lote_CodigoLote",key:"lote_CodigoLote",sorter:function(e,t){return e.lote_CodigoLote.localeCompare(t.lote_CodigoLote)}},{title:"Material",dataIndex:"materialnombre",key:"materialnombre",sorter:function(e,t){return e.materialnombre.localeCompare(t.materialnombre)}},{title:"Color",dataIndex:"colornombre",key:"colornombre",sorter:function(e,t){var n;return null===(n=e.colornombre)||void 0===n?void 0:n.localeCompare(t.colornombre)}},{title:"Cantidad",dataIndex:"adet_Cantidad",key:"adet_Cantidad",sorter:function(e,t){return e.adet_Cantidads.localeCompare(t.adet_Cantidads)}},{title:"Acciones",key:"operation",render:function(e){return(0,K.jsx)("div",{children:(0,K.jsxs)(bt.Z,{direction:"row",spacing:1,children:[(0,K.jsx)(le.Z,{"aria-controls":"menu-".concat(e.key),"aria-haspopup":"true",onClick:function(t){return n=t,r=e.key,void C((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},r,n.currentTarget))}));var n,r},variant:"contained",style:{borderRadius:"10px",backgroundColor:"#634A9E",color:"white"},startIcon:(0,K.jsx)(Je.Z,{children:"menu"}),children:"Opciones"}),(0,K.jsxs)(se.Z,{id:"menu-".concat(e.key),anchorEl:j[e.key],keepMounted:!0,open:Boolean(j[e.key]),onClose:function(){return H(e.key)},children:[(0,K.jsxs)(de.Z,{onClick:function(){return Q(e)},children:[(0,K.jsx)(Je.Z,{children:"edit"}),"\u3164Editar"]}),(0,K.jsxs)(de.Z,{onClick:function(){return q(e)},children:[(0,K.jsx)(Je.Z,{children:"delete"}),"\xa0\xa0Eliminar"]})]})]})},e.key)}}],Q=function(e){n(),E(!0),ne("key",e.key),ne("lote_CodigoLote",e.lote_CodigoLote),ne("lote_Id",e.lote_Id),ne("lote_Objeto",d.find((function(t){return t.value===e.lote_CodigoLote}))),ne("adet_Cantidad",e.adet_Cantidad),ne("colornombre",e.colornombre),ne("materialnombre",e.materialnombre),H(e.key),B(e.lote_Id)},q=function(e){ne("key",e.key),ne("lote_Id",e.lote_Id),V(),H(e.key)};(0,y.useEffect)((function(){b(o)}),[r]);var G=function(){s(g),t.setOpen(!1),J(c)},X=(0,st.cI)({defaultValues:c,mode:"onChange",resolver:(0,Ue.X)(u)}),Y=X.handleSubmit,J=X.reset,$=X.formState,ee=X.watch,te=X.control,ne=X.setValue,ie=(X.getValues,X.trigger),oe=$.isValid,ce=($.dirtyFields,$.errors),ue=ee(),pe=null===g||void 0===g?void 0:g.filter((function(e){if(""===h)return!0;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=(0,l.Z)(n[t],2),a=r[0],i=r[1];if(k.includes(a)){var o="number"===typeof i?i.toString():i.toString().toLowerCase(),s="number"===typeof h?h.toString():h.toLowerCase();if(o.includes(s))return!0}}return!1}));function xe(){ie(),oe&&(R?fe():he(),n(),J(c))}var he=function(){var e=(0,S.Z)((0,_.Z)().mark((function e(){var n,r;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(n=g.findIndex((function(e){return e.lote_CodigoLote===ue.lote_CodigoLote})))?((r=(0,gt.Z)(g))[n]=(0,i.Z)((0,i.Z)({},r[n]),{},{adet_Cantidad:parseInt(r[n].adet_Cantidad)+parseInt(ue.adet_Cantidad)}),b(r)):(ue.key=g.length+1,b([].concat((0,gt.Z)(g),[ue]))),"edit"!==t.eventDialog.type){e.next=7;break}return e.next=5,Se(ue,t.eventDialog.data.id);case 5:e.sent;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=(0,S.Z)((0,_.Z)().mark((function e(){var n,r,a;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.findIndex((function(e){return e.lote_CodigoLote===ue.lote_CodigoLote})),r=(0,gt.Z)(g),-1===n||ue.key-1===n){e.next=16;break}for(r[n]=(0,i.Z)((0,i.Z)({},r[n]),{},{adet_Cantidad:parseInt(r[n].adet_Cantidad)+parseInt(ue.adet_Cantidad)}),r.splice(ue.key-1,1),a=ue.key-1;a<r.length;a++)r[a]=(0,i.Z)((0,i.Z)({},r[a]),{},{key:a+1});if("edit"!==t.eventDialog.type){e.next=14;break}return M={lote_viejo:r[n].lote_Id,lote_nuevo:r[n].lote_Id},e.next=10,Ie(r[n],t.eventDialog.data.id,M);case 10:return e.sent,e.next=13,De(z,t.eventDialog.data.id);case 13:e.sent;case 14:e.next=23;break;case 16:if(r[ue.key-1]=(0,i.Z)((0,i.Z)({},r[ue.key-1]),{},{key:ue.key,lote_Id:ue.lote_Id,materialnombre:ue.materialnombre,colornombre:ue.colornombre,lote_CodigoLote:ue.lote_CodigoLote,adet_Cantidad:ue.adet_Cantidad}),"edit"!==t.eventDialog.type){e.next=23;break}return M={lote_viejo:z,lote_nuevo:ue.lote_Id},e.next=21,Ie(ue,t.eventDialog.data.id,M);case 21:e.sent;case 23:b(r);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=(0,S.Z)((0,_.Z)().mark((function e(){var n,r,a;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=(0,gt.Z)(g),r=ue.key-1,n.splice(r,1),a=r;a<n.length;a++)n[a]=(0,i.Z)((0,i.Z)({},n[a]),{},{key:a+1});if("edit"!==t.eventDialog.type){e.next=8;break}return e.next=7,De(ue.lote_Id,t.eventDialog.data.id);case 7:e.sent;case 8:b(n),V(),J(c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=(0,S.Z)((0,_.Z)().mark((function e(t){var n,r;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ne("lote_Objeto",t),ne("lote_CodigoLote",t.value),!(n=t.value)){e.next=13;break}return e.next=7,_e(n);case 7:r=e.sent,ne("lote_Id",r[0].lote_Id),ne("materialnombre",r[0].mate_Descripcion),ne("colornombre",r[0].colr_Nombre),e.next=16;break;case 13:ne("lote_Id",""),ne("materialnombre",""),ne("colornombre","");case 16:e.next=24;break;case 18:e.prev=18,e.t0=e.catch(0),ne("lote_CodigoLote",""),ne("lote_Id",""),ne("materialnombre",""),ne("colornombre","");case 24:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();return(0,K.jsxs)("div",{children:[(0,K.jsx)(dt.Ix,{}),(0,K.jsxs)(Ke.Z,{open:"edit"===t.open,fullWidth:!0,onClose:G,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",maxWidth:"md",children:[(0,K.jsxs)(re.Z,{in:t.mostrarIndex,children:[(0,K.jsx)("br",{}),(0,K.jsx)($e.Z,{id:"alert-dialog-title",style:{backgroundImage:"url(https://i.ibb.co/sy9YsCk/ASIGNAR-LOTES.png)",backgroundSize:"cover",height:"130px",backgroundPosition:"center",color:"white",textAlign:"center"}}),(0,K.jsxs)(et.Z,{children:[(0,K.jsxs)(bt.Z,{direction:"row",spacing:1,sx:{justifyContent:"space-between"},className:"mt-24",children:[(0,K.jsx)(le.Z,{startIcon:(0,K.jsx)(Je.Z,{children:"add"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(){J(c),n(),E(!1)},children:"Nuevo"}),(0,K.jsx)(le.Z,{startIcon:(0,K.jsx)(Je.Z,{children:"arrow_back"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:G,children:"Regresar"})]}),(0,K.jsx)(Zt.Z,{className:"mt-24",columns:U,dataSource:pe,size:"small",locale:{triggerDesc:"Ordenar descendente",triggerAsc:"Ordenar ascendente",cancelSort:"Cancelar",emptyText:(0,jt.Z)()},pagination:{pageSize:I,showSizeChanger:!1,className:"custom-pagination"}})]})]}),(0,K.jsxs)(re.Z,{in:t.mostrarAdd,children:[(0,K.jsx)($e.Z,{className:"mt-20",id:"alert-dialog-title",style:{backgroundImage:"url(https://i.ibb.co/sy9YsCk/ASIGNAR-LOTES.png)",backgroundSize:"cover",height:"130px",backgroundPosition:"center",color:"white",textAlign:"center"}}),(0,K.jsx)(et.Z,{children:(0,K.jsxs)(qe.ZP,{container:!0,spacing:2,className:"mt-24",children:[(0,K.jsx)(qe.ZP,{item:!0,xs:6,children:(0,K.jsx)(st.Qr,{name:"lote_Objeto",control:te,render:function(e){var t,n=e.field;return(0,K.jsxs)(Ge.Z,{error:!!ce.lote_CodigoLote,fullWidth:!0,children:[(0,K.jsx)(vt.Z,{children:"Lote"}),(0,K.jsx)(Xe.Z,(0,i.Z)((0,i.Z)({},n),{},{disablePortal:!0,isOptionEqualToValue:function(e,t){return e.value===t.value},id:"lote_Objeto",options:d,disableClearable:!0,value:null!==(t=ue.lote_Objeto)&&void 0!==t?t:null,onChange:function(e,t){ge(t)},renderInput:function(e){return(0,K.jsx)(ae.Z,(0,i.Z)((0,i.Z)({},e),{},{error:!!ce.lote_CodigoLote,InputLabelProps:{shrink:!0}}))}}))]})}})}),(0,K.jsxs)(qe.ZP,{item:!0,xs:6,children:[(0,K.jsx)(vt.Z,{error:!!ce.adet_Cantidad,children:"Cantidad"}),(0,K.jsx)(st.Qr,{render:function(e){var t=e.field;return(0,K.jsx)(ae.Z,(0,i.Z)((0,i.Z)({id:"adet_Cantidad",type:"number"},t),{},{fullWidth:!0,variant:"outlined",error:!!ce.adet_Cantidad}))},name:"adet_Cantidad",control:te})]}),(0,K.jsxs)(qe.ZP,{container:!0,display:"flex",className:"mt-20",justifyContent:"end",spacing:0,children:[(0,K.jsx)(qe.ZP,{item:!0,children:(0,K.jsxs)(le.Z,{startIcon:(0,K.jsx)(Je.Z,{children:"checked"}),variant:"contained",color:"primary",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(){Y(xe)()},children:["Guardar"," "]})}),(0,K.jsx)(qe.ZP,{item:!0,children:(0,K.jsxs)(le.Z,{startIcon:(0,K.jsx)(Je.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:function(){J(c),n()},children:["Cancelar"," "]})})]})]})}),(0,K.jsx)("div",{className:"flex sm:space-x-20 mb-10",children:(0,K.jsx)(qe.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"left",alignItems:"left"},style:{marginLeft:"115px"}})}),(0,K.jsx)("br",{})]})]}),(0,K.jsxs)(Ke.Z,{open:F,fullWidth:"md",onClose:V,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,K.jsx)($e.Z,{id:"alert-dialog-title",children:"Confirmaci\xf3n de Eliminaci\xf3n"}),(0,K.jsx)(et.Z,{children:(0,K.jsx)(tt.Z,{id:"alert-dialog-description",children:"\xbfEst\xe1 seguro(a) que desea eliminar este registro?"})}),(0,K.jsx)(nt.Z,{children:(0,K.jsxs)(qe.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,K.jsx)(le.Z,{startIcon:(0,K.jsx)(Je.Z,{children:"checked"}),variant:"contained",color:"error",style:{borderRadius:"10px",marginRight:"10px"},onClick:me,children:"Eliminar"}),(0,K.jsx)(le.Z,{startIcon:(0,K.jsx)(Je.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:V,children:"Cancelar"})]})})]}),(0,K.jsx)(dt.Ix,{})]})},Ct=[];var kt=function(e){var t,n=mt(),r=(0,L.Z)(),a=pt.Ry().shape({extendedProps:pt.Ry().shape({detallePO:pt.Ry().required("").test("valido","La PO y/o el \xedtem son inv\xe1lidos",(function(){return I})),cantidad:pt.Rx().required("").min(1,"Ingrese una cantidad v\xe1lida").max(1e6,"Ingrese una cantidad v\xe1lida"),empleadoencargado:pt.Ry().required("")}),start:pt.Z_().required(""),end:pt.Z_().required("")});(0,y.useEffect)((function(){bt(),ye()}),[]);var o=(0,y.useState)(""),s=(0,l.Z)(o,2),d=s[0],c=s[1],u=(0,y.useState)(!1),p=(0,l.Z)(u,2),x=p[0],h=p[1],f=(0,y.useState)([]),b=(0,l.Z)(f,2),v=(b[0],b[1],(0,y.useState)([])),Z=(0,l.Z)(v,2),j=Z[0],k=Z[1],P=(0,y.useState)(!0),w=(0,l.Z)(P,2),I=w[0],D=w[1],A=(0,y.useState)(""),O=(0,l.Z)(A,2),R=O[0],E=O[1],T=(0,y.useState)(""),W=(0,l.Z)(T,2),z=(W[0],W[1],(0,y.useState)([])),B=(0,l.Z)(z,2),M=(B[0],B[1],(0,y.useState)({})),V=(0,l.Z)(M,2),H=(V[0],V[1],(0,C.v9)(U)),q=y.useState(10),G=(0,l.Z)(q,2),Y=(G[0],G[1],(0,y.useState)(!1)),J=(0,l.Z)(Y,2),$=J[0],ne=J[1],re=(0,y.useState)(!0),ie=(0,l.Z)(re,2),oe=ie[0],se=ie[1],de=(0,y.useState)(!1),ce=(0,l.Z)(de,2),ue=ce[0],pe=ce[1],xe=(0,y.useState)(!1),he=(0,l.Z)(xe,2),fe=(he[0],he[1],(0,y.useState)([])),me=(0,l.Z)(fe,2),ge=me[0],be=me[1],ve=function(){ne(!$)},Ze=function(){h(!x)},je=function(){Ct.length<1?(c("edit"),pe(!0),se(!1)):(c("edit"),pe(!1),se(!0))},ye=function(){var e=(0,S.Z)((0,_.Z)().mark((function e(){var t;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.Lotes();case 3:t=e.sent,be(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,y.useEffect)((function(){ze("extendedProps.detallePO")}),[I]);var _e,Se=(0,C.I0)(),Ie=(0,C.v9)(Be),De=(0,C.v9)(Q),Ne=(0,st.cI)({defaultValues:n,mode:"onChange",resolver:(0,Ue.X)(a)}),Fe=Ne.handleSubmit,Le=Ne.reset,Ae=Ne.formState,Oe=Ne.watch,Re=Ne.control,Te=Ne.setValue,ze=(Ne.getValues,Ne.trigger),Me=Ae.isValid,Ve=(Ae.dirtyFields,Ae.errors),xt=Oe("start"),ht=Oe("end"),gt=(Oe("id"),Oe()),bt=function(){var e=(0,S.Z)((0,_.Z)().mark((function e(){var t,n,r,a;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={XApiKey:F.Z.extraerToken()},"https://practicaacademia.somee.com/api/",n=N().create({baseURL:"https://practicaacademia.somee.com/api/",headers:t}),r=JSON.parse(localStorage.getItem("user")),e.next=6,n.get("Empleados/Listar?empl_EsAduana=".concat(r.esAduana.toString()));case 6:a=e.sent,k(a.data.data.map((function(e){return{value:e.empl_Id,label:e.empl_Nombres+" "+e.empl_Apellidos}})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=(0,S.Z)((0,_.Z)().mark((function e(){var t,n;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=gt.extendedProps.detallePO)){e.next=19;break}return e.next=5,we("".concat(t.orco," - ").concat(t.code));case 5:return n=e.sent,e.next=8,r.ProcesosFiltrados(t.code);case 8:_e=e.sent,ot.Z.push("/Planificacion/Index",_e),_e=null,Te("extendedProps.color",n.colr_Nombre),Te("extendedProps.estilo",n.esti_Descripcion),Te("extendedProps.talla",n.tall_Nombre),E(n.clie_Nombre_O_Razon_Social),Te("extendedProps.descripcionDetalle","Cantidad de \xedtems: ".concat(n.cantidad_Items,"\nFecha de emisi\xf3n: ").concat(new Date(n.orco_FechaEmision).toLocaleString().split(",")[0],"\nFecha l\xedmite: ").concat(new Date(n.orco_FechaLimite).toLocaleString().split(",")[0])),D(!0),e.next=24;break;case 19:Te("extendedProps.color",""),Te("extendedProps.estilo",""),Te("extendedProps.talla",""),D(!1),E("");case 24:e.next=33;break;case 26:e.prev=26,e.t0=e.catch(0),Te("extendedProps.color",""),Te("extendedProps.estilo",""),Te("extendedProps.talla",""),E(""),D(!1);case 33:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}(),Zt=(0,y.useCallback)((function(){var e,t;"edit"===Ie.type&&Ie.data&&(Le((0,i.Z)({},Ie.data)),Ie.data.end||Te("end",Ie.data.extendedProps.fechalimite),Ct=null!==(e=Ie.data.extendedProps)&&void 0!==e&&e.detalles?null===(t=Ie.data.extendedProps)||void 0===t?void 0:t.detalles:[]);"new"===Ie.type&&Le((0,i.Z)((0,i.Z)((0,i.Z)({},n),Ie.data),{},{extendedProps:(0,i.Z)((0,i.Z)({},n.extendedProps),{},{label:De}),id:He.Z.generateGUID()}))}),[Ie.data,Ie.type,Le]);function jt(){return Ct=[],"edit"===Ie.type?Se(We()):Se(Ee())}function kt(){try{Me?(""!=R&&(gt.title="".concat(R," PO: ").concat(gt.extendedProps.detallePO.orco," C\xf3digo \xedtem: ").concat(gt.extendedProps.detallePO.code)),"new"===Ie.type?(Se(Ce(gt)),H.includes(gt.extendedProps.label)||Se(X(gt.extendedProps.label)),(0,ut.xO)()):(gt.allDay=!0,Te("fechalimite","end"),Se(ke((0,i.Z)((0,i.Z)({},Ie.formData),gt))),(0,ut.xO)()),jt()):(0,ut.KV)("Complete todos los campos")}catch(e){(0,ut.bW)("Error inesperado")}}(0,y.useEffect)((function(){Ie.props.open&&Zt()}),[Ie.props.open,Zt]);var Pt={VisibilidadTabla:function(){se(!oe),pe(!ue)},mostrarIndex:oe,mostrarAdd:ue,open:d,setOpen:c,handleOpen:je,detalles:Ct,updateDetalles:function(e){Te("extendedProps.detalles",Ct=e)},Lotes:ge,eventDialog:Ie};return(0,K.jsxs)(Qe.ZP,(0,i.Z)((0,i.Z)({},Ie.props),{},{anchorReference:"anchorPosition",anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"},onClose:jt,component:"form",children:[(0,K.jsx)(dt.Ix,{}),(0,K.jsx)("br",{}),(0,K.jsxs)("div",{className:"flex flex-col max-w-full p-24 pt-32 sm:pt-20 sm:p-32 w-480",children:[(0,K.jsx)("div",{className:"flex sm:space-x-20 mb-10",children:(0,K.jsxs)(qe.ZP,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center"},style:{marginTop:"10px"},children:[(0,K.jsx)(ee.Z,{className:"hidden sm:inline-flex mt-16",color:"action",style:{width:"50px"},children:"heroicons-outline:pencil-alt"}),(0,K.jsx)(st.Qr,{name:"extendedProps.detallePO.orco",defaultValue:"",control:Re,render:function(e){var t,n,r,a=e.field;return(0,K.jsx)(ae.Z,(0,i.Z)((0,i.Z)({},a),{},{error:!(null===(t=Ve.extendedProps)||void 0===t||!t.detallePO),helperText:null===Ve||void 0===Ve||null===(n=Ve.extendedProps)||void 0===n||null===(r=n.detallePO)||void 0===r?void 0:r.message,style:{borderRadius:"10px",width:"165px",marginRight:"15px"},onBlur:vt,autoFocus:"edit"!==Ie.type,variant:"outlined",label:"Orden de Compra"}))}}),(0,K.jsx)(st.Qr,{name:"extendedProps.detallePO.code",defaultValue:"",control:Re,render:function(e){var t,n=e.field;return(0,K.jsx)(ae.Z,(0,i.Z)((0,i.Z)({},n),{},{error:!(null===(t=Ve.extendedProps)||void 0===t||!t.detallePO),style:{borderRadius:"10px",width:"165px"},onBlur:vt,variant:"outlined",type:"number",label:"# Detalle de PO"}))}})]})}),(0,K.jsx)("div",{className:"flex sm:space-x-20 mb-10",children:(0,K.jsxs)(qe.ZP,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center"},style:{marginTop:"10px"},children:[(0,K.jsx)(ee.Z,{className:"hidden sm:inline-flex mt-16",color:"action",style:{width:"50px"},children:"material-outline:dry_cleaning"}),(0,K.jsx)(st.Qr,{name:"extendedProps.estilo",defaultValue:"",control:Re,render:function(e){var t=e.field;return(0,K.jsx)(ae.Z,(0,i.Z)((0,i.Z)({disabled:!0},t),{},{id:"estilo",style:{borderRadius:"10px",width:"100px"},label:"Estilo"}))}}),(0,K.jsx)(st.Qr,{name:"extendedProps.talla",defaultValue:"",control:Re,render:function(e){var t=e.field;return(0,K.jsx)(ae.Z,(0,i.Z)((0,i.Z)({disabled:!0},t),{},{name:"talla",style:{borderRadius:"10px",width:"75px",marginLeft:"15px"},label:"Talla"}))}}),(0,K.jsx)(st.Qr,{name:"extendedProps.color",defaultValue:"",control:Re,render:function(e){var t=e.field;return(0,K.jsx)(ae.Z,(0,i.Z)((0,i.Z)({disabled:!0},t),{},{name:"color",style:{borderRadius:"10px",width:"145px",marginLeft:"15px"},label:"Color"}))}})]})}),(0,K.jsx)("div",{className:"flex sm:space-x-20 mb-10",children:(0,K.jsxs)(qe.ZP,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center"},style:{marginTop:"10px"},children:[(0,K.jsx)(ee.Z,{className:"hidden sm:inline-flex mt-16",color:"action",style:{width:"50px"},children:"material-outline:calendar_today"}),(0,K.jsx)(qe.ZP,{item:!0,xs:6,children:(0,K.jsx)(st.Qr,{name:"start",control:Re,render:function(e){var t=e.field,n=t.onChange,r=t.value;t.onBlur;return(0,K.jsx)(lt.x,{variant:"outlined",dateFormat:"dd/MM/yyyy",value:r,onChange:n,renderInput:function(e){return(0,K.jsx)(ae.Z,(0,i.Z)({error:!!Ve.start,label:"Fecha de inicio",id:"start",style:{borderRadius:"10px",width:"168px"},className:"w-full"},e))},maxDate:ht,className:"w-full"})}})}),(0,K.jsx)(qe.ZP,{item:!0,xs:6,children:(0,K.jsx)(st.Qr,{name:"end",control:Re,render:function(e){var t=e.field,n=t.onChange,r=t.value;t.onBlur;return(0,K.jsx)(lt.x,{value:r,onChange:n,renderInput:function(e){return(0,K.jsx)(ae.Z,(0,i.Z)({error:!!Ve.end,label:"Fecha de fin",id:"end",style:{borderRadius:"10px",width:"168px",marginLeft:"15px"},className:"w-full"},e))},minDate:xt,className:"w-full"})}})})]})}),(0,K.jsx)("div",{className:"flex sm:space-x-20 mb-10",children:(0,K.jsxs)(qe.ZP,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center"},style:{marginTop:"10px"},children:[(0,K.jsx)(ee.Z,{className:"hidden sm:inline-flex mt-16",color:"action",style:{width:"50px"},children:"material-outline:settings"}),(0,K.jsx)(st.Qr,{name:"extendedProps.label",control:Re,render:function(e){var t=e.field;return(0,K.jsx)(ft,(0,i.Z)((0,i.Z)({className:"mt-8 mb-16"},t),{},{error:!!Ve.label}))}})]})}),(0,K.jsx)("div",{className:"flex sm:space-x-20 mb-10",children:(0,K.jsxs)(qe.ZP,{item:!0,xs:6,sx:{display:"flex",justifyContent:"center"},style:{marginTop:"10px"},children:[(0,K.jsx)(ee.Z,{className:"hidden sm:inline-flex mt-16",color:"action",style:{width:"50px"},children:"material-outline:volunteer_activism"}),(0,K.jsx)(st.Qr,{name:"extendedProps.empleadoencargado",control:Re,render:function(e){var t,n,r=e.field;return(0,K.jsx)(Ge.Z,{fullWidth:!0,error:!(null===(t=Ve.extendedProps)||void 0===t||!t.empleadoencargado),children:(0,K.jsx)(Xe.Z,(0,i.Z)((0,i.Z)({},r),{},{disablePortal:!0,isOptionEqualToValue:function(e,t){return e.value===t.value},style:{borderRadius:"4px",width:"200px"},id:"extendedProps.empleadoencargado",options:j,disableClearable:!0,value:null!==(n=gt.extendedProps.empleadoencargado)&&void 0!==n?n:null,onChange:function(e,t){Te("extendedProps.empleadoencargado",t)},renderInput:function(e){var t;return(0,K.jsx)(ae.Z,(0,i.Z)((0,i.Z)({},e),{},{error:!(null===(t=Ve.extendedProps)||void 0===t||!t.empleadoencargado),label:"Empleado encargado"}))}}))})}}),(0,K.jsx)(st.Qr,{name:"extendedProps.cantidad",control:Re,render:function(e){var t,n=e.field;return(0,K.jsx)(ae.Z,(0,i.Z)((0,i.Z)({},n),{},{error:!(null===(t=Ve.extendedProps)||void 0===t||!t.cantidad),type:"number",style:{borderRadius:"10px",width:"145px"},label:"Cantidad"}))}})]})}),(0,K.jsx)("div",{className:"flex sm:space-x-20 mb-10",children:(0,K.jsxs)(qe.ZP,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center"},style:{marginTop:"10px"},children:[(0,K.jsx)(ee.Z,{className:"hidden sm:inline-flex mt-16",color:"action",style:{width:"50px"},children:"material-outline:animation"}),(0,K.jsx)(Ge.Z,{children:(0,K.jsx)(ae.Z,{style:{borderRadius:"10px",width:"350px",position:"relative"},label:"Lotes Asignados",disabled:!0,InputProps:{startAdornment:(0,K.jsx)(Ye.Z,{position:"start",children:(0,K.jsx)("div",{style:{maxWidth:"78%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:Ct.length>0&&Ct[0].lote_Id>0?null===(t=gt.extendedProps)||void 0===t?void 0:t.detalles.map((function(e,t){return t<gt.extendedProps.detalles.length-1?e.lote_CodigoLote+", ":e.lote_CodigoLote})):null})}),endAdornment:(0,K.jsx)(Ye.Z,{position:"end",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"},children:Ct.length>0&&Ct.lote_Id>0?(0,K.jsx)(te.Z,{onClick:je,children:(0,K.jsx)(ee.Z,{color:"action",style:{width:"24px",height:"24px"},children:"heroicons-outline:eye"})}):(0,K.jsx)(te.Z,{onClick:je,children:(0,K.jsx)(ee.Z,{color:"action",style:{width:"24px",height:"24px"},children:"heroicons-outline:plus-circle"})})})}})})]})}),(0,K.jsx)("br",{}),(0,K.jsx)("div",{className:"flex sm:space-x-20 mb-10",children:(0,K.jsxs)(qe.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},style:{marginLeft:"100px"},children:["edit"==Ie.type?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(te.Z,{onClick:function(){return Ze()},size:"large",children:(0,K.jsx)(ee.Z,{children:"heroicons-outline:search"})}),(0,K.jsx)(te.Z,{onClick:function(){ve()},size:"large",children:(0,K.jsx)(ee.Z,{children:"heroicons-outline:trash"})})]}):null,(0,K.jsxs)(le.Z,{startIcon:(0,K.jsx)(Je.Z,{children:"checked"}),variant:"contained",color:"primary",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(){Fe(kt)()},children:["Guardar"," "]}),(0,K.jsxs)(le.Z,{startIcon:(0,K.jsx)(Je.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:jt,children:["Cancelar"," "]})]})})]}),(0,K.jsxs)(Ke.Z,{open:$,fullWidth:"md",onClose:ve,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,K.jsx)($e.Z,{id:"alert-dialog-title",children:"Confirmaci\xf3n de Eliminaci\xf3n"}),(0,K.jsx)(et.Z,{children:(0,K.jsx)(tt.Z,{id:"alert-dialog-description",children:"\xbfEst\xe1 seguro(a) que desea eliminar este registro?"})}),(0,K.jsx)(nt.Z,{children:(0,K.jsxs)(qe.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,K.jsx)(le.Z,{startIcon:(0,K.jsx)(Je.Z,{children:"checked"}),variant:"contained",color:"error",style:{borderRadius:"10px",marginRight:"10px"},onClick:function(){try{Se(Pe(gt.id)),(0,ut.xO)()}catch(e){(0,ut.bW)("Error inesperado")}ne(!1),jt()},children:"Eliminar"}),(0,K.jsx)(le.Z,{startIcon:(0,K.jsx)(Je.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:ve,children:"Cancelar"})]})})]}),(0,K.jsxs)(Ke.Z,{open:x,fullWidth:"md",onClose:Ze,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,K.jsx)($e.Z,{id:"alert-dialog-title"}),(0,K.jsx)(et.Z,{children:(0,K.jsx)(tt.Z,{id:"alert-dialog-description",children:(0,K.jsxs)(qe.ZP,{container:!0,spacing:3,children:[(0,K.jsx)(qe.ZP,{item:!0,xs:12,children:(0,K.jsx)(rt.Z,{style:{marginBottom:"10px"},children:(0,K.jsx)(at.Z,{label:"Auditor\xeda de la planificaci\xf3n"})})}),(0,K.jsx)(qe.ZP,{item:!0,xs:12,md:12,display:"flex",justifyContent:"center",alignContent:"center",children:(0,K.jsx)(m.Z,{sx:{textAlign:"center"},children:(0,K.jsxs)(it.Z,{htmlFor:"descripcion",children:[(0,K.jsx)(g.Z,{sx:{fontWeight:"bold",color:"#000000"},children:"Identificador de la asignaci\xf3n:"}),(0,K.jsx)(g.Z,{children:gt.id})]})})}),(0,K.jsx)(qe.ZP,{item:!0,xs:12,children:(0,K.jsxs)("table",{id:"detallesTabla",style:{width:"100%",borderCollapse:"collapse"},children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{children:[(0,K.jsxs)("th",{style:ct.Z.tableHeaderStyle,children:[(0,K.jsx)(Je.Z,{style:ct.Z.iconStyle,children:"edit"}),"Accion"]}),(0,K.jsxs)("th",{style:ct.Z.tableHeaderStyle,children:[(0,K.jsx)(Je.Z,{style:ct.Z.iconStyle,children:"person"}),"Usuario"]}),(0,K.jsxs)("th",{style:ct.Z.tableHeaderStyle,children:[(0,K.jsx)(Je.Z,{style:ct.Z.iconStyle,children:"date_range"}),"Fecha y hora"]})]})}),(0,K.jsxs)("tbody",{children:[(0,K.jsxs)("tr",{style:ct.Z.tableRowStyle,children:[(0,K.jsx)("td",{style:ct.Z.tableCellStyle,children:(0,K.jsx)("strong",{children:"Creaci\xf3n"})}),(0,K.jsx)("td",{style:ct.Z.tableCellStyle,children:gt.extendedProps.UsuarioCreacion}),(0,K.jsx)("td",{style:ct.Z.tableCellStyle,children:new Date(gt.extendedProps.FechaCreacion).toLocaleString()})]}),(0,K.jsxs)("tr",{style:ct.Z.tableRowStyle,children:[(0,K.jsx)("td",{style:ct.Z.tableCellStyle,children:(0,K.jsx)("strong",{children:"Modificaci\xf3n"})}),(0,K.jsx)("td",{style:ct.Z.tableCellStyle,children:gt.extendedProps.UsuarioModificacion}),(0,K.jsx)("td",{style:ct.Z.tableCellStyle,children:gt.extendedProps.FechaModificacion?new Date(gt.extendedProps.FechaModificacion).toLocaleString():""})]})]})]})})]})})}),(0,K.jsx)(nt.Z,{children:(0,K.jsx)(qe.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:(0,K.jsx)(le.Z,{startIcon:(0,K.jsx)(Je.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:Ze,children:"Cerrar"})})})]}),(0,K.jsx)(yt,{props:Pt}),(0,K.jsx)(dt.Ix,{})]}))},Pt=n(48310),wt=n(69649),_t=n(90206),St=n(56605),It=n(15202),Dt=pt.Ry().shape({title:pt.Z_().required("You must enter a label title")});var Nt=function(e){var t=e.label,n=e.isLast,r=(0,C.I0)(),a=(0,st.cI)({mode:"onChange",defaultValues:t,resolver:(0,Ue.X)(Dt)}),o=a.control,l=a.formState,s=(a.handleSubmit,a.reset),d=a.watch,c=(l.isValid,l.dirtyFields,l.errors),u=d();(0,y.useEffect)((function(){s(t)}),[t,s]);var p=(0,wt.Nr)((function(e,t){e&&u&&!h.Z.isEqual(t,e)&&r(T(t))}),300);function x(){r((0,It.G3)({children:(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)($e.Z,{id:"alert-dialog-title",children:"Are you sure?"}),(0,K.jsx)(et.Z,{children:(0,K.jsx)(tt.Z,{id:"alert-dialog-description",children:"All associated events will be removed."})}),(0,K.jsxs)(nt.Z,{children:[(0,K.jsx)(le.Z,{onClick:function(){return r((0,It.gk)())},color:"primary",children:"Disagree"}),(0,K.jsx)(le.Z,{onClick:function(){r(W(t.id)).then((function(){r(ye())})),r((0,It.gk)())},color:"primary",autoFocus:!0,children:"Agree"})]})]})}))}return(0,y.useEffect)((function(){p(t,u)}),[p,t,u]),(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(_t.ZP,{className:"p-0 mb-16",dense:!0,children:(0,K.jsx)(st.Qr,{name:"title",control:o,render:function(e){var t,r=e.field;return(0,K.jsx)(ae.Z,(0,i.Z)((0,i.Z)({},r),{},{className:(0,j.default)("flex flex-1"),error:!!c.title,helperText:null===c||void 0===c||null===(t=c.title)||void 0===t?void 0:t.message,placeholder:"Create new label",variant:"outlined",InputProps:{startAdornment:(0,K.jsx)(Ye.Z,{position:"start",children:(0,K.jsx)(st.Qr,{name:"color",control:o,render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,K.jsx)(vt.Z,{className:"w-16 h-16 shrink-0 rounded-full",sx:{backgroundColor:r},children:(0,K.jsx)(St.Z,{value:r,onChange:function(e){n(e.target.value)},type:"color",className:"opacity-0"})})}})}),endAdornment:!n&&(0,K.jsx)(Ye.Z,{position:"end",children:(0,K.jsx)(te.Z,{onClick:x,className:"w-32 h-32 p-0","aria-label":"Delete",size:"large",children:(0,K.jsx)(ee.Z,{color:"action",size:20,children:"heroicons-outline:trash"})})})}}))}})})})};var Ft=function(e){return e=e||{},h.Z.defaults(e,{title:"",color:"#e75931"})},Lt=Ft(),At=pt.Ry().shape({title:pt.Z_().required("Debe ingresar el detalle de P.O")});var Ot=function(e){var t=(0,C.I0)(),n=(0,st.cI)({mode:"onChange",defaultValues:Lt,resolver:(0,Ue.X)(At)}),r=n.control,a=n.formState,o=n.handleSubmit,l=n.reset,s=a.isValid,d=a.dirtyFields,c=a.errors;return(0,K.jsx)("form",{onSubmit:o((function(e){var n=Ft(e);t(E(n)),l(Lt)})),children:(0,K.jsx)(_t.ZP,{className:"p-0 mb-16",dense:!0,children:(0,K.jsx)(st.Qr,{name:"title",control:r,render:function(e){var t,n=e.field;return(0,K.jsx)(ae.Z,(0,i.Z)((0,i.Z)({},n),{},{className:(0,j.default)("flex flex-1"),error:!!c.title,helperText:null===c||void 0===c||null===(t=c.title)||void 0===t?void 0:t.message,placeholder:"Create new label",variant:"outlined",InputProps:{startAdornment:(0,K.jsx)(Ye.Z,{position:"start",children:(0,K.jsx)(st.Qr,{name:"color",control:r,render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,K.jsx)(vt.Z,{className:"w-16 h-16 shrink-0 rounded-full",sx:{backgroundColor:r},children:(0,K.jsx)(St.Z,{value:r,onChange:function(e){n(e.target.value)},type:"color",className:"opacity-0"})})}})}),endAdornment:(0,K.jsx)(Ye.Z,{position:"end",children:(0,K.jsx)(te.Z,{className:"w-32 h-32 p-0","aria-label":"Delete",disabled:h.Z.isEmpty(d)||!s,type:"submit",size:"large",children:(0,K.jsx)(ee.Z,{color:"action",size:20,children:"heroicons-outline:check"})})})}}))}})})})};var Rt=function(e){var t=(0,C.I0)(),n=(0,C.v9)(q),r=(0,C.v9)(M);return(0,K.jsxs)(Ke.Z,{classes:{paper:"w-full max-w-320 p-24 md:p-40 m-24"},onClose:function(e){return t(Y())},open:n,children:[(0,K.jsx)(g.Z,{className:"text-20 mb-24 font-semibold",children:"Edit Labels"}),(0,K.jsxs)(Pt.Z,{dense:!0,children:[(0,K.jsx)(Ot,{}),r.map((function(e){return(0,K.jsx)(Nt,{label:e,isLast:1===r.length},e.id)}))]})]})},Et=n(78041),Tt=(0,n(9038).UY)({events:Me,labels:J}),Wt=["className"],zt=(0,b.ZP)(p.Z)((function(e){var t=e.theme;return{"& a":{color:"".concat(t.palette.text.primary,"!important"),textDecoration:"none!important"},"&  .fc-media-screen":{minHeight:"100%",width:"100%"},"& .fc-scrollgrid, & .fc-theme-standard td, & .fc-theme-standard th":{borderColor:"".concat(t.palette.divider,"!important")},"&  .fc-scrollgrid-section > td":{border:0},"& .fc-daygrid-day":{"&:last-child":{borderRight:0}},"& .fc-col-header-cell":{borderWidth:"0 1px 0 1px",padding:"8px 0 0 0","& .fc-col-header-cell-cushion":{color:t.palette.text.secondary,fontWeight:500,fontSize:12,textTransform:"uppercase"}},"& .fc-view ":{"& > .fc-scrollgrid":{border:0}},"& .fc-daygrid-day.fc-day-today":{backgroundColor:"transparent!important","& .fc-daygrid-day-number":{borderRadius:"100%",backgroundColor:"".concat(t.palette.secondary.main,"!important"),color:"".concat(t.palette.secondary.contrastText,"!important")}},"& .fc-daygrid-day-top":{justifyContent:"center","& .fc-daygrid-day-number":{color:t.palette.text.secondary,fontWeight:500,fontSize:12,display:"inline-flex",alignItems:"center",justifyContent:"center",width:26,height:26,margin:"4px 0",borderRadius:"50%",float:"none",lineHeight:1}},"& .fc-h-event":{background:"initial"},"& .fc-event":{border:0,padding:"0 ",fontSize:12,margin:"0 6px 4px 6px!important"}}}));var Bt=(0,Z.Z)("calendarApp",Tt)((function(e){var t=(0,y.useState)(),n=(0,l.Z)(t,2),r=n[0],p=n[1],Z=(0,C.I0)(),k=(0,C.v9)(ze),P=(0,y.useRef)(),w=(0,x.Z)((function(e){return e.breakpoints.down("lg")})),_=(0,y.useState)(!w),S=(0,l.Z)(_,2),I=S[0],D=S[1],N=(0,v.Z)(),F=(0,C.v9)(M);return(0,y.useEffect)((function(){Z(ye()),Z(R())}),[Z]),(0,y.useEffect)((function(){D(!w)}),[w]),(0,y.useEffect)((function(){setTimeout((function(){var e,t;null===(e=P.current)||void 0===e||null===(t=e.getApi())||void 0===t||t.updateSize()}),300)}),[I]),(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(zt,{header:(0,K.jsx)(Ve,{calendarRef:P,currentDate:r,onToggleLeftSidebar:function(){D(!I)}}),content:(0,K.jsx)(s.ZPm,{plugins:[d.ZP,u.ZP,c.ZP],headerToolbar:!1,initialView:"dayGridMonth",locale:"es",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,datesSet:function(e){p(e)},select:function(e){e.start,e.end;Z(Re(e))},events:k,eventContent:function(e){var t=e.event.extendedProps.label,n=h.Z.find(F,{id:t}),r=(0,b.ZP)((function(e){var t=e.className,n=(0,o.Z)(e,Wt);return(0,K.jsx)(ne.Z,(0,i.Z)((0,i.Z)({},n),{},{arrow:!0,classes:{popper:t}}))}))((function(e){var t;e.theme;return t={},(0,a.Z)(t,"& .".concat(Et.Z.arrow),{color:"#6a2b85"}),(0,a.Z)(t,"& .".concat(Et.Z.tooltip),{backgroundColor:"#6a2b85",textAlign:"justify"}),t}));return(0,K.jsxs)(m.Z,{sx:{backgroundColor:null===n||void 0===n?void 0:n.color,color:n&&N.palette.getContrastText(null===n||void 0===n?void 0:n.color)},className:(0,j.default)("flex items-center w-full rounded-4 px-8 py-2 h-22 text-white"),children:[(0,K.jsx)(g.Z,{className:"text-12 font-semibold",children:e.timeText}),(0,K.jsx)(g.Z,{className:"text-12 px-4 truncate",children:e.event.title}),(0,K.jsx)(g.Z,{children:(0,K.jsx)(r,{title:"".concat(e.event.title," ").concat(e.event.extendedProps.descripcionDetalle),children:(0,K.jsx)("span",{style:{marginLeft:"auto"},children:(0,K.jsx)(f.Z,{sx:{fontSize:"11px"}})})})})]})},eventClick:function(e){Z(Te(e))},eventAdd:function(e){},eventChange:function(e){var t=e.event,n=t.id,r=t.title,a=(t.label,t.allDay,t.start),i=t.end,o=t.extendedProps;Z(ke({id:n,title:r,allDay:!0,start:a,end:i,extendedProps:o}))},eventRemove:function(e){},eventDrop:function(e){var t=e.event,n=t.id,r=t.title,a=(t.label,t.allDay,t.start),i=t.end,o=t.extendedProps;Z(ke({id:n,title:r,allDay:!0,start:a,end:i,extendedProps:o}))},initialDate:new Date,ref:P}),leftSidebarContent:(0,K.jsx)($,{}),leftSidebarOpen:I,leftSidebarOnClose:function(){return D(!1)},leftSidebarWidth:240,scroll:"content"}),(0,K.jsx)(kt,{}),(0,K.jsx)(Rt,{})]})}))},89145:function(e,t,n){n(47313);var r=n(85281),a=n(53191),i=n(46417);t.Z=function(e){var t=(0,i.jsxs)(a.Z,{container:!0,spacing:2,display:"flex",justifyContent:"center",alignContent:"center",marginY:"10px",children:[(0,i.jsx)(a.Z,{item:!0,xs:12,children:(0,i.jsx)(r.Z,{style:{color:"#634a9e"}})}),(0,i.jsx)(a.Z,{item:!0,xs:12,children:"Cargando..."})]});return null==e||e.length>0?null:t}}}]);