"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[7776],{17776:function(e,a,n){n.r(a),n.d(a,{default:function(){return ve}});var i=n(74165),r=n(45987),t=n(4942),o=n(1413),s=n(15861),c=n(29439),l=n(35898),u=n(24193),d=n(71263),h=n(82047),m=n(51405),x=n(73428),p=n(16957),f=n(65033),Z=n(93405),j=n(9019),v=n(61113),_=n(1550),b=n(88797),g=n(24631),y=n(41727),F=n(47131),C=n(19536),I=n(66212),S=n(5178),k=n(25298),w=n(94469),N=n(33604),q=n(96467),M=n(97762),E=n(4117),D=n(9506),P=n(15103),H=n(71528),A=n(70816),O=n.n(A),U=n(280),B=n(66106),R=n(57983),T=n(40894),W=n(47313),Y=n(93433),z=n(66244),L=n(78925),Q=n(48737),V=n(46417);var K=function(e){var a=e.data,n=e.handleCloseExportar;return(0,V.jsxs)(m.Z,{onClick:function(){!function(){var e=a.map((function(e){return[e.key,e.maquinaNumeroSerie,e.mahi_FechaInicio,e.mahi_FechaFin]})),n=Q.P6.aoa_to_sheet([["No.","No. Serie","Fecha Inicio","Fecha Fin"]].concat((0,Y.Z)(e))),i=Q.P6.book_new();Q.P6.book_append_sheet(i,n,"Sheet1");var r=Q.cW(i,{bookType:"xlsx",type:"array"}),t=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,L.saveAs)(t,"Historial_Maquinas.xlsx")}(),n()},style:{fontSize:"15px",marginTop:"5px",marginBottom:"5px"},children:[(0,V.jsx)(z.Z,{style:{fontSize:"20px"}}),"\xa0\xa0Archivo Excel"]})},G=n(76278),J=n(31881),X=n.n(J),$=n(39284),ee=n.n($),ae=n(11593),ne=n(9098);ee().vfs=ae.I.vfs;var ie=function(e){var a=e.data,n=e.handleCloseExportar,r=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,r,t,o,s,c,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="A4",r=[40,60,40,60],"https://i.ibb.co/MPn5hrr/Captura.png",t=ne.Z.formatFechaHora(new Date),o=JSON.parse(localStorage.getItem("user")),e.prev=5,e.next=8,X().get("https://i.ibb.co/MPn5hrr/Captura.png",{responseType:"blob"});case 8:s=e.sent,c=s.data,(l=new FileReader).onload=function(){var e={content:[{image:l.result,margin:[-40,-40],width:600,height:45},{text:"Historial de M\xe1quinas",style:"header",margin:[0,40,0,20]}],styles:{header:{fontSize:26,bold:!0,color:"black",alignment:"center",underline:!0},tableHeader:{fontSize:14,bold:!0,color:"black",alignment:"center",fillColor:"#E8D8FF"},footer:{fontSize:10,alignment:"center"}},pageBreakBefore:function(e,a,i,t){return e.y+e.height>n[1]-r[3]},defaultStyle:{fontSize:12},footer:function(e,a){return{columns:[{text:"Generado por: ".concat(o.data.displayName),style:"footer"},{text:"P\xe1gina ".concat(e.toString()," de ").concat(a),style:"footer"},{text:"Fecha: ".concat(t.toString().slice(0,10)),style:"footer"}],margin:[0,20]}}};e.content.push({table:{widths:["auto","*","*","*"],body:[[{text:"No.",style:"tableHeader"},{text:"No. de serie de M\xe1quina",style:"tableHeader"},{text:"Fecha Inicio",style:"tableHeader"},{text:"Fecha Fin",style:"tableHeader"}]].concat((0,Y.Z)(a.map((function(e){return[e.key,e.maquinaNumeroSerie,e.mahi_FechaInicio,e.mahi_FechaFin]})))),alignment:"center"}}),ee().createPdf(e).getDataUrl((function(e){window.open().document.write('<iframe src="'.concat(e,'" width="100%" height="100%"></iframe>'))}))},l.readAsDataURL(c),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(5);case 17:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}();return(0,V.jsx)("div",{children:(0,V.jsxs)(m.Z,{onClick:function(){r(),n()},style:{fontSize:"15px",marginTop:"5px",marginBottom:"5px"},children:[(0,V.jsx)(G.Z,{style:{fontSize:"20px"}}),"\xa0\xa0Archivo PDF"]})})},re=n(62563),te=n(75627),oe=n(3463),se=n(28155),ce=(n(77453),n(89145)),le=n(88477),ue=n(13251),de=n(68673),he=(n(88282),n(88564)),me=n(49709),xe=n(78041),pe=n(75265),fe=["className"],Ze={mahi_Id:"",maquina:null,mahi_FechaInicio:null,mahi_FechaFin:null,mahi_Observaciones:""},je=oe.Ry().shape({mahi_Id:oe.Z_(),maquina:oe.Ry().required(""),mahi_FechaInicio:oe.hT().required(""),mahi_FechaFin:oe.hT().required("").nullable().min(oe.iH("mahi_FechaInicio"),"Ingrese una fecha mayor a la fecha de Inicio"),mahi_Observaciones:oe.Z_().trim().required("")});var ve=function(){var e=(0,W.useState)([]),a=(0,c.Z)(e,2),n=a[0],A=a[1],Y=(0,de.Z)(),z=(0,ue.Z)(),L=(0,W.useState)([]),Q=(0,c.Z)(L,2),G=Q[0],J=Q[1];function X(){return(X=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,Y.Maquinas();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=(0,W.useState)(""),ee=(0,c.Z)($,2),ae=ee[0],ne=ee[1],oe=(0,W.useState)(!0),ve=(0,c.Z)(oe,2),_e=ve[0],be=ve[1],ge=(0,W.useState)(!1),ye=(0,c.Z)(ge,2),Fe=ye[0],Ce=ye[1],Ie=(0,W.useState)(!1),Se=(0,c.Z)(Ie,2),ke=Se[0],we=Se[1],Ne=(0,W.useState)({}),qe=(0,c.Z)(Ne,2),Me=qe[0],Ee=qe[1],De=(0,W.useState)(!1),Pe=(0,c.Z)(De,2),He=Pe[0],Ae=Pe[1],Oe=(0,W.useState)(!1),Ue=(0,c.Z)(Oe,2),Be=Ue[0],Re=Ue[1],Te=W.useState(10),We=(0,c.Z)(Te,2),Ye=We[0],ze=We[1],Le=(0,W.useState)({}),Qe=(0,c.Z)(Le,2),Ve=Qe[0],Ke=Qe[1],Ge=(0,W.useState)([]),Je=(0,c.Z)(Ge,2),Xe=Je[0],$e=Je[1],ea=function(){be(!_e),Ce(!Fe),ha(Ze)},aa=function(){Ae(!He)},na=function(){be(!_e),we(!ke)},ia=function(e){Ke((function(a){return(0,o.Z)((0,o.Z)({},a),{},(0,t.Z)({},e,null))}))},ra=(0,he.ZP)((function(e){var a=e.className,n=(0,r.Z)(e,fe);return(0,V.jsx)(me.Z,(0,o.Z)((0,o.Z)({},n),{},{arrow:!0,classes:{popper:a}}))}))((function(e){var a;e.theme;return a={},(0,t.Z)(a,"& .".concat(xe.Z.arrow),{color:"#6a2b85"}),(0,t.Z)(a,"& .".concat(xe.Z.tooltip),{backgroundColor:"#6a2b85",textAlign:"justify"}),a})),ta=[{title:"No.",dataIndex:"key",key:"key",sorter:function(e,a){return e.key-a.key}},{title:"No. de serie de M\xe1quina",dataIndex:"maquinaNumeroSerie",key:"maquinaNumeroSerie",sorter:function(e,a){return e.maquinaNumeroSerie.localeCompare(a.maquinaNumeroSerie)}},{title:"Fecha Inicio",dataIndex:"mahi_FechaInicio",key:"mahi_FechaInicio",sorter:function(e,a){return e.mahi_FechaInicio.localeCompare(a.mahi_FechaInicio)}},{title:"Fecha Fin",dataIndex:"mahi_FechaFin",key:"mahi_FechaFin",sorter:function(e,a){return e.mahi_FechaFin.localeCompare(a.mahi_FechaFin)}},{title:"Acciones",key:"operation",render:function(e){return(0,V.jsx)("div",{children:(0,V.jsxs)(l.Z,{direction:"row",spacing:1,children:[(0,V.jsx)(u.Z,{"aria-controls":"menu-".concat(e.mahi_Id),"aria-haspopup":"true",onClick:function(a){return n=a,i=e.mahi_Id,void Ke((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,t.Z)({},i,n.currentTarget))}));var n,i},variant:"contained",style:{borderRadius:"10px",backgroundColor:"#634A9E",color:"white"},startIcon:(0,V.jsx)(d.Z,{children:"menu"}),children:"Opciones"}),(0,V.jsxs)(h.Z,{id:"menu-".concat(e.mahi_Id),anchorEl:Ve[e.mahi_Id],keepMounted:!0,open:Boolean(Ve[e.mahi_Id]),onClose:function(){return ia(e.mahi_Id)},children:[(0,V.jsxs)(m.Z,{onClick:function(){return function(e){ea(),Re(!0),fa("mahi_Id",e.mahi_Id),fa("maquina",G.find((function(a){return a.value===e.maqu_Id})));var a=O()(e.mahi_FechaInicio,"DD/MM/YYYY, HH:mm:ss").format("MMMM DD, YYYY HH:mm:ss");fa("mahi_FechaInicio",a);var n=O()(e.mahi_FechaFin,"DD/MM/YYYY, HH:mm:ss").format("MMMM DD, YYYY HH:mm:ss");fa("mahi_FechaFin",n),fa("mahi_Observaciones",e.mahi_Observaciones),ia(e.mahi_Id)}(e)},children:[(0,V.jsx)(d.Z,{children:"edit"}),"\u3164Editar"]}),(0,V.jsxs)(m.Z,{onClick:function(){return Ee(a=e),na(),void ia(a.mahi_Id);var a},children:[(0,V.jsx)(d.Z,{children:"visibility"}),"\u3164Detalles"]}),(0,V.jsxs)(m.Z,{onClick:function(){return fa("mahi_Id",(a=e).mahi_Id),aa(),void ia(a.mahi_Id);var a},children:[(0,V.jsx)(d.Z,{children:"delete"}),"\u3164Eliminar"]})]})]})},e.mahi_Id)}}],oa={filename:"Historial_Maquinas",fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,useBom:!0,useKeysAsHeaders:!1,headers:[{label:"No."},{label:"No. de serie de M\xe1quina"},{label:"Fecha Inicio"},{label:"Fecha Fin"}].map((function(e){return e.label}))},sa=new T.ExportToCsv(oa),ca=["key","maquinaNumeroSerie","mahi_FechaInicio","mahi_FechaFin","mahi_Observaciones"],la=Xe.filter((function(e){if(""===ae)return!0;for(var a=0,n=Object.entries(e);a<n.length;a++){var i=(0,c.Z)(n[a],2),r=i[0],t=i[1];if(ca.includes(r)){var o="number"===typeof t?t.toString():t.toString().toLowerCase(),s="number"===typeof ae?ae.toString():ae.toLowerCase();if(o.includes(s))return!0}}return!1})),ua=(0,te.cI)({defaultValues:Ze,mode:"all",resolver:(0,re.X)(je)}),da=ua.handleSubmit,ha=(ua.register,ua.reset),ma=ua.control,xa=ua.watch,pa=ua.formState,fa=ua.setValue,Za=pa.isValid,ja=(pa.dirtyFields,pa.errors),va=xa(),_a=(0,W.useState)([]),ba=(0,c.Z)(_a,2),ga=ba[0],ya=ba[1],Fa=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ya([]),$e([]),e.next=5,z.listar();case 5:return a=e.sent,$e(a),a.length>0?ya(a):ya(null),e.t0=A,e.next=11,z.ExportData();case 11:e.t1=e.sent,(0,e.t0)(e.t1),e.next=18;break;case 15:e.prev=15,e.t2=e.catch(0),ya(null);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),Ca=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.crear(va);case 3:"1"==(a=e.sent).data.data.messageStatus?((0,pe.ys)(),Fa(),ha(Ze),ea()):a.data.data.messageStatus.includes("UNIQUE")&&(0,pe.d0)(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,pe.bW)();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ia=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.editar(va);case 3:"1"==(a=e.sent).data.data.messageStatus?((0,pe.fn)(),Fa(),ea(),ne(""),ha(Ze)):a.data.data.messageStatus.includes("UNIQUE")&&(0,pe.d0)(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,pe.bW)();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Sa=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.eliminar(va);case 3:"1"==(a=e.sent).data.data.messageStatus?(aa(),(0,pe.Pt)(),Fa(),ha(Ze)):a.data.data.messageStatus.includes("0")&&(aa(),(0,pe.tb)()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),aa(),(0,pe.bW)();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,W.useEffect)((function(){!function(){X.apply(this,arguments)}(),Fa()}),[]);var ka=function(){Ke((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,t.Z)({},"menu-exportar",null))}))};return(0,V.jsxs)(x.Z,{sx:{minWidth:275,margin:"40px"},children:[(0,V.jsx)(p.Z,{component:"img",height:"200",image:"https://i.ibb.co/x3Dpksj/HISTORIAL-DE-M-QUINA.png",alt:"Encabezado de la carta"}),(0,V.jsxs)(f.Z,{in:_e,children:[(0,V.jsx)(Z.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,V.jsxs)(j.ZP,{container:!0,spacing:1,children:[(0,V.jsx)(j.ZP,{item:!0,xs:12,sm:12,md:6,display:"flex",sx:{justifyContent:{xs:"center",sm:"center",md:"start"}},children:(0,V.jsxs)(l.Z,{direction:"row",spacing:1,children:[(0,V.jsx)(u.Z,{startIcon:(0,V.jsx)(d.Z,{children:"add"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(){ea(),Re(!1)},children:"Nuevo"}),(0,V.jsxs)(u.Z,{startIcon:(0,V.jsx)(d.Z,{children:"upload"}),onClick:function(e){return a=e,n="menu-exportar",void Ke((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,t.Z)({},n,a.currentTarget))}));var a,n},sx:{backgroundColor:"#dcc25a",color:"white","&:hover":{backgroundColor:"#dcc25a"}},style:{borderRadius:"10px"},children:[(0,V.jsx)(v.Z,{children:"Exportar"}),(0,V.jsx)(B.Z,{})]}),(0,V.jsx)("div",{children:(0,V.jsxs)(h.Z,{id:"menu-exportar",anchorEl:Ve["menu-exportar"],open:Boolean(Ve["menu-exportar"]),onClose:function(){return ka()},keepMounted:!0,children:[(0,V.jsxs)(m.Z,{onClick:function(){!function(){try{sa.generateCsv(n)}catch(e){}}(),ka()},style:{fontSize:"15px",marginTop:"5px",marginBottom:"5px"},children:[(0,V.jsx)(U.Z,{style:{fontSize:"20px"}}),"\xa0\xa0Archivo CSV"]}),(0,V.jsx)(ie,{data:n,handleCloseExportar:ka}),(0,V.jsx)(K,{data:n,handleCloseExportar:ka})]})},"menu-exportar")]})}),(0,V.jsxs)(j.ZP,{item:!0,xs:12,sm:6,md:3,display:"flex",sx:{justifyContent:{xs:"center",sm:"end",md:"end"}},children:[(0,V.jsx)("label",{className:"mt-8",children:"Filas por p\xe1gina:"}),(0,V.jsx)(_.Z,{sx:{minWidth:50},size:"small",children:(0,V.jsxs)(b.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:Ye,onChange:function(e){ze(e.target.value)},children:[(0,V.jsx)(m.Z,{value:10,children:"10"}),(0,V.jsx)(m.Z,{value:25,children:"25"}),(0,V.jsx)(m.Z,{value:50,children:"50"})]})})]}),(0,V.jsx)(j.ZP,{item:!0,xs:12,sm:6,md:3,display:"flex",sx:{justifyContent:{xs:"center",sm:"start",md:"center"}},children:(0,V.jsx)(g.Z,{style:{borderRadius:"10px"},placeholder:"Buscar",value:ae,onChange:function(e){ne(e.target.value)},size:"small",variant:"outlined",InputProps:{startAdornment:(0,V.jsx)(y.Z,{position:"start",children:(0,V.jsx)(F.Z,{edge:"start",children:(0,V.jsx)(R.Z,{})})})}})})]})}),(0,V.jsx)("div",{className:"center",style:{width:"95%",margin:"auto"},children:(0,V.jsx)(se.Z,{columns:ta,dataSource:la,scroll:{x:!0},size:"small",locale:{triggerDesc:"Ordenar descendente",triggerAsc:"Ordenar ascendente",cancelSort:"Cancelar",emptyText:(0,ce.Z)(ga)},pagination:{pageSize:Ye,showSizeChanger:!1,className:"custom-pagination"}})})]}),(0,V.jsx)("form",{onSubmit:da((function(e){})),children:(0,V.jsx)(f.Z,{in:Fe,children:(0,V.jsx)(Z.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,V.jsxs)(j.ZP,{container:!0,spacing:3,children:[(0,V.jsx)(j.ZP,{item:!0,xs:12,children:(0,V.jsx)(C.Z,{style:{marginTop:"0px",marginBottom:"0px"},children:(0,V.jsx)(I.Z,{label:Be?"Editar Maquina Historial":"Agregar Maquina Historial"})})}),(0,V.jsx)(j.ZP,{item:!0,xs:6,children:(0,V.jsxs)(_.Z,{fullWidth:!0,children:[(0,V.jsx)(S.Z,{error:!!ja.maquina,children:"No. de Serie Maquina:"}),(0,V.jsx)(te.Qr,{render:function(e){var a,n=e.field;return(0,V.jsx)(k.Z,(0,o.Z)((0,o.Z)({},n),{},{id:"maquina",isOptionEqualToValue:function(e,a){return e.value===(null===a||void 0===a?void 0:a.value)},options:G,disableClearable:!0,value:null!==(a=va.maquina)&&void 0!==a?a:null,onChange:function(e,a){fa("maquina",a)},renderInput:function(e){return(0,V.jsx)(g.Z,(0,o.Z)((0,o.Z)({},e),{},{error:!!ja.maquina}))}}))},name:"maquina",error:!!ja.maquina,control:ma})]})}),(0,V.jsx)(j.ZP,{item:!0,xs:6,children:(0,V.jsx)(te.Qr,{name:"mahi_FechaInicio",control:ma,render:function(e){var a=e.field;return(0,V.jsxs)(_.Z,{error:!!ja.mahi_FechaInicio,fullWidth:!0,children:[(0,V.jsx)(S.Z,{children:"Fecha Inicio:"}),(0,V.jsx)(H.x,{onChange:function(e){return a.onChange(e)},value:a.value||null,required:!0,renderInput:function(e){return(0,V.jsx)(g.Z,(0,o.Z)((0,o.Z)({className:"w-full"},e),{},{onBlur:a.onBlur,error:!!ja.mahi_FechaInicio}))},className:"w-full"})]})}})}),(0,V.jsx)(j.ZP,{item:!0,xs:6,children:(0,V.jsx)(te.Qr,{name:"mahi_FechaFin",control:ma,render:function(e){var a=e.field;return(0,V.jsxs)(_.Z,{error:!!ja.mahi_FechaFin,fullWidth:!0,children:[(0,V.jsx)(S.Z,{children:"Fecha Fin:"}),(0,V.jsx)(H.x,{onChange:function(e){return a.onChange(e)},value:a.value||null,required:!0,renderInput:function(e){var n,i,r,t;return(0,V.jsx)(g.Z,(0,o.Z)((0,o.Z)({className:"w-full"},e),{},{onBlur:a.onBlur,error:!!ja.mahi_FechaFin,helperText:null!==ja&&void 0!==ja&&null!==(n=ja.mahi_FechaFin)&&void 0!==n&&n.message.includes("NaN")?null:"mahi_FechaFin must be a `date` type, but the final value was: `Invalid Date`."==(null===ja||void 0===ja||null===(i=ja.mahi_FechaFin)||void 0===i?void 0:i.message)?" ":"mahi_FechaFin must be a `date` type, but the final value was: `Invalid Date` (cast from the value `Invalid Date`)."==(null===ja||void 0===ja||null===(r=ja.mahi_FechaFin)||void 0===r?void 0:r.message)?"Ingrese una fecha valida":null===ja||void 0===ja||null===(t=ja.mahi_FechaFin)||void 0===t?void 0:t.message}))},className:"w-full"})]})}})}),(0,V.jsx)(j.ZP,{item:!0,xs:6,children:(0,V.jsxs)(_.Z,{fullWidth:!0,children:[(0,V.jsx)(S.Z,{error:!!ja.mahi_Observaciones,children:"Observaciones:"}),(0,V.jsx)(te.Qr,{render:function(e){var a=e.field;return(0,V.jsx)(g.Z,(0,o.Z)((0,o.Z)({},a),{},{id:"outlined-disabled",inputProps:{maxLength:150},error:!!ja.mahi_Observaciones}))},name:"mahi_Observaciones",control:ma})]})}),(0,V.jsxs)(j.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,V.jsx)(u.Z,{type:"submit",startIcon:(0,V.jsx)(d.Z,{children:"checked"}),variant:"contained",color:"primary",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(){Za?Be?Ia():Ca():(0,pe.KV)("Completa todos los campos")},children:"Guardar"}),(0,V.jsx)(u.Z,{startIcon:(0,V.jsx)(d.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:ea,children:"Cancelar"})]})]})})})}),(0,V.jsxs)(w.Z,{open:He,fullWidth:"md",onClose:aa,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,V.jsx)(N.Z,{id:"alert-dialog-title",children:"Confirmaci\xf3n de Eliminaci\xf3n"}),(0,V.jsx)(q.Z,{children:(0,V.jsx)(M.Z,{id:"alert-dialog-description",children:"\xbfEst\xe1 seguro(a) que desea eliminar este registro?"})}),(0,V.jsx)(E.Z,{children:(0,V.jsxs)(j.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,V.jsx)(u.Z,{startIcon:(0,V.jsx)(d.Z,{children:"checked"}),variant:"contained",color:"error",style:{borderRadius:"10px",marginRight:"10px"},onClick:Sa,children:"Eliminar"}),(0,V.jsx)(u.Z,{startIcon:(0,V.jsx)(d.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:aa,children:"Cancelar"})]})})]}),(0,V.jsx)(f.Z,{in:ke,children:(0,V.jsx)(Z.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,V.jsxs)(j.ZP,{container:!0,spacing:3,children:[(0,V.jsx)(j.ZP,{item:!0,xs:12,children:(0,V.jsx)(C.Z,{style:{marginTop:"0px"},children:(0,V.jsx)(I.Z,{label:"Detalles de la Maquina Historial"})})}),(0,V.jsx)(j.ZP,{item:!0,xs:12,md:6,display:"flex",justifyContent:"center",alignContent:"center",children:(0,V.jsx)(D.Z,{sx:{textAlign:"center"},children:(0,V.jsxs)(P.Z,{htmlFor:"id",children:[(0,V.jsx)(v.Z,{sx:{fontWeight:"bold",color:"#000000"},children:"Id del Historial de Maquina:"}),(0,V.jsx)(v.Z,{children:Me.mahi_Id})]})})}),(0,V.jsx)(j.ZP,{item:!0,xs:12,md:6,display:"flex",justifyContent:"center",alignContent:"center",children:(0,V.jsx)(D.Z,{sx:{textAlign:"center"},children:(0,V.jsxs)(P.Z,{htmlFor:"descripcion",children:[(0,V.jsx)(v.Z,{sx:{fontWeight:"bold",color:"#000000"},children:"Numero de Serie de la Maquina:"}),(0,V.jsx)(v.Z,{children:Me.maquinaNumeroSerie})]})})}),(0,V.jsx)(j.ZP,{item:!0,xs:12,md:6,display:"flex",justifyContent:"center",alignContent:"center",children:(0,V.jsx)(D.Z,{sx:{textAlign:"center"},children:(0,V.jsxs)(P.Z,{htmlFor:"empl_DNI",children:[(0,V.jsx)(v.Z,{sx:{fontWeight:"bold",color:"#000000"},children:"Fecha de Inicio:"}),(0,V.jsx)(v.Z,{children:Me.mahi_FechaInicio})]})})}),(0,V.jsx)(j.ZP,{item:!0,xs:12,md:6,display:"flex",justifyContent:"center",alignContent:"center",children:(0,V.jsx)(D.Z,{sx:{textAlign:"center"},children:(0,V.jsxs)(P.Z,{htmlFor:"empl_Sexo",children:[(0,V.jsx)(v.Z,{sx:{fontWeight:"bold",color:"#000000"},children:"Fecha Final:"}),(0,V.jsx)(v.Z,{children:Me.mahi_FechaFin})]})})}),(0,V.jsx)(j.ZP,{item:!0,xs:12,md:6,display:"flex",justifyContent:"center",alignContent:"center",children:(0,V.jsx)(j.ZP,{xs:12,children:(0,V.jsx)(D.Z,{sx:{textAlign:"center"},children:(0,V.jsxs)(P.Z,{htmlFor:"escv_Nombre",children:[(0,V.jsx)(v.Z,{sx:{fontWeight:"bold",color:"#000000"},children:"Observaciones:"}),(0,V.jsx)(ra,{title:Me.mahi_Observaciones,children:(0,V.jsx)(v.Z,{noWrap:!0,children:Me.mahi_Observaciones})})]})})})}),(0,V.jsx)(j.ZP,{item:!0,xs:12,children:(0,V.jsxs)("table",{id:"detallesTabla",style:{width:"100%",borderCollapse:"collapse"},children:[(0,V.jsx)("thead",{children:(0,V.jsxs)("tr",{children:[(0,V.jsxs)("th",{style:le.Z.tableHeaderStyle,children:[(0,V.jsx)(d.Z,{style:le.Z.iconStyle,children:"edit"}),"Acci\xf3n"]}),(0,V.jsxs)("th",{style:le.Z.tableHeaderStyle,children:[(0,V.jsx)(d.Z,{style:le.Z.iconStyle,children:"person"}),"Usuario"]}),(0,V.jsxs)("th",{style:le.Z.tableHeaderStyle,children:[(0,V.jsx)(d.Z,{style:le.Z.iconStyle,children:"date_range"}),"Fecha y hora"]})]})}),(0,V.jsxs)("tbody",{children:[(0,V.jsxs)("tr",{style:le.Z.tableRowStyle,children:[(0,V.jsx)("td",{style:le.Z.tableCellStyle,children:(0,V.jsx)("strong",{children:"Creaci\xf3n"})}),(0,V.jsx)("td",{style:le.Z.tableCellStyle,children:Me.usuarioCreacionNombre}),(0,V.jsx)("td",{style:le.Z.tableCellStyle,children:Me.mahi_FechaCreacion?new Date(Me.mahi_FechaCreacion).toLocaleString():""})]}),(0,V.jsxs)("tr",{style:le.Z.tableRowStyle,children:[(0,V.jsx)("td",{style:le.Z.tableCellStyle,children:(0,V.jsx)("strong",{children:"Modificaci\xf3n"})}),(0,V.jsx)("td",{style:le.Z.tableCellStyle,children:Me.usuarioModificaNombre}),(0,V.jsx)("td",{style:le.Z.tableCellStyle,children:Me.mahi_FechaModificacion?new Date(Me.mahi_FechaModificacion).toLocaleString():""})]})]})]})}),(0,V.jsx)("br",{}),(0,V.jsx)(j.ZP,{item:!0,xs:12,children:(0,V.jsxs)("div",{className:"card-footer",children:[(0,V.jsx)(u.Z,{variant:"contained",style:{position:"fixed",top:"76%",right:"5%"},onClick:na,startIcon:(0,V.jsx)(d.Z,{children:"arrow_back"}),children:"Regresar"}),(0,V.jsx)("br",{})]})})]})})})]})}},13251:function(e,a,n){var i=n(74165),r=n(15861),t=n(31881),o=n.n(t),s=n(9098);a.Z=function(){var e={XApiKey:s.Z.extraerToken()},a=o().create({baseURL:"https://practicaacademia.somee.com/api/MaquinaHistorial/",headers:e}),n=JSON.parse(localStorage.getItem("user"));function t(){return(t=(0,r.Z)((0,i.Z)().mark((function e(){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.get("Listar");case 3:return n=e.sent,r=n.data.data.map((function(e,a){return{key:a+1,mahi_Id:e.mahi_Id,maqu_Id:e.maqu_Id,maquinaNumeroSerie:e.maquinaNumeroSerie,mahi_FechaInicio:new Date(e.mahi_FechaInicio).toLocaleString(),mahi_FechaFin:new Date(e.mahi_FechaFin).toLocaleString(),mahi_Observaciones:e.mahi_Observaciones,usua_UsuarioCreacion:e.usua_UsuarioCreacion,usuarioCreacionNombre:e.usuarioCreacionNombre,mahi_FechaCreacion:e.mahi_FechaCreacion,usua_UsuarioModificacion:e.usua_UsuarioModificacion,usuarioModificaNombre:e.usuarioModificaNombre,mahi_FechaModificacion:e.mahi_FechaModificacion,usua_UsuarioEliminacion:e.usua_UsuarioEliminacion,usuarioEliminaNombre:e.usuarioEliminaNombre,mahi_FechaEliminacion:e.mahi_FechaEliminacion,mahi_Estado:e.mahi_Estado}})),e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function c(){return(c=(0,r.Z)((0,i.Z)().mark((function e(){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.get("Listar");case 3:return n=e.sent,r=n.data.data.map((function(e,a){return{key:a+1,maquinaNumeroSerie:e.maquinaNumeroSerie,mahi_FechaInicio:new Date(e.mahi_FechaInicio).toLocaleString(),mahi_FechaFin:new Date(e.mahi_FechaFin).toLocaleString()}})),e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function l(){return(l=(0,r.Z)((0,i.Z)().mark((function e(n){var r,t,o,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.get("Listar");case 3:return r=e.sent,t=r.data.data,o=t.filter((function(e){return e.maquinaNumeroSerie===n})),s=o.map((function(e,a){return{key:a+1,mahi_Id:e.mahi_Id,maqu_Id:e.maqu_Id,maquinaNumeroSerie:e.maquinaNumeroSerie,mahi_FechaInicio:e.mahi_FechaInicio,mahi_FechaFin:e.mahi_FechaFin,mahi_Observaciones:e.mahi_Observaciones,usua_UsuarioCreacion:e.usua_UsuarioCreacion,usuarioCreacionNombre:e.usuarioCreacionNombre,mahi_FechaCreacion:e.mahi_FechaCreacion,usua_UsuarioModificacion:e.usua_UsuarioModificacion,usuarioModificaNombre:e.usuarioModificaNombre,mahi_FechaModificacion:e.mahi_FechaModificacion,usua_UsuarioEliminacion:e.usua_UsuarioEliminacion,usuarioEliminaNombre:e.usuarioEliminaNombre,mahi_FechaEliminacion:e.mahi_FechaEliminacion,mahi_Estado:e.mahi_Estado}})),e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function u(){return(u=(0,r.Z)((0,i.Z)().mark((function e(r){var t,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={maqu_Id:r.maquina.value,mahi_FechaInicio:r.mahi_FechaInicio,mahi_FechaFin:r.mahi_FechaFin,mahi_Observaciones:r.mahi_Observaciones.trim(),usua_UsuarioCreacion:n.uuid,mahi_FechaCreacion:s.Z.formatFechaHora(new Date)},e.next=4,a.post("Insertar",t);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function d(){return(d=(0,r.Z)((0,i.Z)().mark((function e(r){var t,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={mahi_Id:r.mahi_Id,maqu_Id:r.maquina.value,mahi_FechaInicio:s.Z.formatFechaHora(new Date(r.mahi_FechaInicio)),mahi_FechaFin:s.Z.formatFechaHora(new Date(r.mahi_FechaFin)),mahi_Observaciones:r.mahi_Observaciones.trim(),usua_UsuarioModificacion:n.uuid,mahi_FechaModificacion:s.Z.formatFechaHora(new Date)},e.next=4,a.post("Editar",t);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(){return(h=(0,r.Z)((0,i.Z)().mark((function e(r){var t,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={mahi_Id:r.mahi_Id,usua_UsuarioEliminacion:n.uuid,mahi_FechaEliminacion:s.Z.formatFechaHora(new Date)},e.next=4,a.post("Eliminar",t);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return{listar:function(){return t.apply(this,arguments)},crear:function(e){return u.apply(this,arguments)},editar:function(e){return d.apply(this,arguments)},eliminar:function(e){return h.apply(this,arguments)},listarPorNumeroDeSerie:function(e){return l.apply(this,arguments)},ExportData:function(){return c.apply(this,arguments)}}}},89145:function(e,a,n){n(47313);var i=n(85281),r=n(53191),t=n(46417);a.Z=function(e){var a=(0,t.jsxs)(r.Z,{container:!0,spacing:2,display:"flex",justifyContent:"center",alignContent:"center",marginY:"10px",children:[(0,t.jsx)(r.Z,{item:!0,xs:12,children:(0,t.jsx)(i.Z,{style:{color:"#634a9e"}})}),(0,t.jsx)(r.Z,{item:!0,xs:12,children:"Cargando..."})]});return null==e||e.length>0?null:a}}}]);