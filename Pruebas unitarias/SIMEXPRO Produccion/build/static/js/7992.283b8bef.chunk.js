"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[7992],{44811:function(e,r,t){t.r(r);var n=t(74165),a=t(15861),o=t(4942),i=t(29439),s=t(1413),c=t(45987),d=t(62563),l=t(57983),p=t(9506),u=t(61113),h=t(35898),x=t(24193),m=t(71263),_=t(82047),f=t(51405),Z=t(73428),v=t(16957),g=t(9019),b=t(1550),C=t(5178),j=t(24631),I=t(15480),y=t(25298),k=t(41727),P=t(88797),w=t(47131),E=t(94469),D=t(33604),S=t(96467),L=t(97762),F=t(4117),M=t(75908),N=t(65280),A=t(33141),O=t(19860),R=t(22324),B=t(28155),W=t(47313),z=t(75627),T=t(12547),q=(t(88282),t(521)),U=t(89145),V=t(3463),K=t(75265),Q=t(45998),H=t(68673),J=t(34136),X=t(46417),G=["children","value","index"];function Y(e){var r=e.children,t=e.value,n=e.index,a=(0,c.Z)(e,G);return(0,X.jsx)("div",(0,s.Z)((0,s.Z)({role:"tabpanel",hidden:t!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},a),{},{children:t===n&&(0,X.jsx)(p.Z,{sx:{p:3},children:(0,X.jsx)(u.Z,{children:r})})}))}function $(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}r.default=function(){var e=(0,H.Z)(),r=(0,O.Z)(),t=W.useState(0),c=(0,i.Z)(t,2),G=c[0],ee=c[1],re=(0,W.useState)(""),te=(0,i.Z)(re,2),ne=te[0],ae=te[1],oe=(0,W.useState)([]),ie=(0,i.Z)(oe,2),se=ie[0],ce=ie[1],de=(0,W.useState)([]),le=(0,i.Z)(de,2),pe=le[0],ue=le[1],he=new J.Z,xe=(0,W.useState)([]),me=(0,i.Z)(xe,2),_e=(me[0],me[1],W.useState(10)),fe=(0,i.Z)(_e,2),Ze=fe[0],ve=fe[1],ge=(0,W.useState)([]),be=(0,i.Z)(ge,2),Ce=be[0],je=be[1],Ie=(0,W.useState)({}),ye=(0,i.Z)(Ie,2),ke=ye[0],Pe=ye[1],we=(0,W.useState)(0),Ee=(0,i.Z)(we,2),De=Ee[0],Se=Ee[1],Le=(0,W.useState)(!0),Fe=(0,i.Z)(Le,2),Me=Fe[0],Ne=Fe[1],Ae=(0,W.useState)(!0),Oe=(0,i.Z)(Ae,2),Re=Oe[0],Be=Oe[1],We=(0,W.useState)(!1),ze=(0,i.Z)(We,2),Te=ze[0],qe=ze[1],Ue=(0,W.useState)(!1),Ve=(0,i.Z)(Ue,2),Ke=Ve[0],Qe=Ve[1],He=(0,W.useState)(!1),Je=(0,i.Z)(He,2),Xe=Je[0],Ge=Je[1],Ye=(0,W.useState)(!1),$e=(0,i.Z)(Ye,2),er=$e[0],rr=$e[1],tr=(0,W.useState)(0),nr=(0,i.Z)(tr,2),ar=nr[0],or=nr[1],ir=(0,W.useState)(0),sr=(0,i.Z)(ir,2),cr=sr[0],dr=sr[1],lr=V.Ry().shape({ppro_Id:V.Z_(),Empleado:V.Ry().required(""),ppro_Fecha:V.hT("").required("Ingrese una fecha valida").max(new Date).min(new Date(1900,0,1)),ppro_Estados:V.Z_().trim().required(""),ppro_Observaciones:V.Z_().trim().required("")}),pr=V.Ry().shape({id:V.Z_(),ppro_Id:V.Z_(),lote_Id:V.Z_().trim(),lote_Codigo:V.Z_().trim().required(""),Material:V.Ry().required(),ppde_Cantidad:V.Z_().trim().required("")}),ur=(0,W.useState)({tab1:!0,tab2:!0}),hr=(0,i.Z)(ur,2),xr=hr[0],mr=(hr[1],function(){Qe(!Ke)}),_r=function(){qe(!Te)},fr=function(e){Pe((function(r){return(0,s.Z)((0,s.Z)({},r),{},(0,o.Z)({},e,null))}))},Zr=[{title:"No.",dataIndex:"key",key:"key",sorter:function(e,r){return e.key-r.key}},{title:"Lote",dataIndex:"lote_CodigoLote",key:"lote_CodigoLote",sorter:function(e,r){return e.lote_CodigoLote.localeCompare(r.lote_CodigoLote)}},{title:"Material",dataIndex:"mate_Descripcion",key:"mate_Descripcion",sorter:function(e,r){return e.mate_Descripcion.localeCompare(r.mate_Descripcion)}},{title:"Cantidad",dataIndex:"ppde_Cantidad",key:"ppde_Cantidad",sorter:function(e,r){return e.ppde_Cantidad-r.ppde_Cantidad}},{title:"Acciones",key:"operation",render:function(e){return(0,X.jsx)("div",{children:(0,X.jsxs)(h.Z,{direction:"row",spacing:1,children:[(0,X.jsx)(x.Z,{"aria-controls":"menu-".concat(e.ppde_Id),"aria-haspopup":"true",onClick:function(r){return t=r,n=e.ppde_Id,void Pe((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,o.Z)({},n,t.currentTarget))}));var t,n},variant:"contained",style:{borderRadius:"10px",backgroundColor:"#634A9E",color:"white"},startIcon:(0,X.jsx)(m.Z,{children:"menu"}),children:"Opciones"}),(0,X.jsxs)(_.Z,{id:"menu-".concat(e.ppde_Id),anchorEl:ke[e.ppde_Id],keepMounted:!0,open:Boolean(ke[e.ppde_Id]),onClose:function(){return fr(e.ppde_Id)},children:[(0,X.jsxs)(f.Z,{onClick:function(){!function(e){try{Lr("id",e.ppde_Id),Lr("lote_Id",e.lote_Id),Lr("lote_Codigo",e.lote_CodigoLote),Lr("Material",{value:e.lote_CodigoLote,label:"".concat(e.mate_Descripcion," - ").concat(e.colr_Nombre?"".concat(e.colr_Nombre," - ").concat(e.lote_CodigoLote):"".concat(e.lote_CodigoLote))}),Lr("ppde_Cantidad",e.ppde_Cantidad),Ne(!1),qr(e.lote_CodigoLote),rr(!0),or(parseInt(e.ppde_Cantidad)),dr(e.lote_Id),fr(e.ppde_Id),Be(!1)}catch(r){(0,K.bW)()}finally{setTimeout((function(){Fr()}),200)}}(e)},children:[(0,X.jsx)(m.Z,{children:"edit"}),"\u3164Editar"]}),(0,X.jsxs)(f.Z,{onClick:function(){return Lr("id",(r=e).ppde_Id),_r(),void fr(r.ppde_Id);var r},children:[(0,X.jsx)(m.Z,{children:"delete"}),"\u3164Eliminar"]})]})]})},e.ppde_Id)}}],vr=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.Empleados();case 3:t=r.sent,ce(t),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),(0,K.bW)();case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(){return r.apply(this,arguments)}}(),gr=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(){var t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.Lotes();case 3:t=r.sent,ue(t),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),(0,K.bW)();case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(){return r.apply(this,arguments)}}();(0,W.useEffect)((function(){vr(),gr()}),[]);var br=(0,z.cI)({tab1Fields:{ppro_Id:"",Empleado:null,ppro_Fecha:"",ppro_Estados:"",ppro_Observaciones:""},mode:"all",resolver:(0,d.X)(lr)}),Cr=br.handleSubmit,jr=(br.register,br.reset,br.control),Ir=br.formState,yr=br.watch,kr=br.setValue,Pr=(0,z.cI)({tab2Fields:{id:"",ppro_Id:"",lote_Id:"",lote_Codigo:"",Material:null,ppde_Cantidad:""},mode:"all",resolver:(0,d.X)(pr)}),wr=Pr.handleSubmit,Er=(Pr.reset,Pr.control),Dr=Pr.formState,Sr=Pr.watch,Lr=Pr.setValue,Fr=Pr.trigger,Mr=Ir.isValid,Nr=(Ir.dirtyFields,Ir.errors),Ar=(Dr.isValid,Dr.dirtyFields,Dr.errors);1;var Or=yr(),Rr=Sr(),Br=["key","lote_CodigoLote","mate_Descripcion","ppde_Cantidad"],Wr=Ce.filter((function(e){if(""===ne)return!0;for(var r=0,t=Object.entries(e);r<t.length;r++){var n=(0,i.Z)(t[r],2),a=n[0],o=n[1];if(Br.includes(a)){var s="number"===typeof o?o.toString():o.toString().toLowerCase(),c="number"===typeof ne?ne.toString():ne.toLowerCase();if(s.includes(c))return!0}}return!1})),zr=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=je,e.next=4,he.ListarPedidosProduccionDetalle(r);case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),(0,K.bW)();case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),Tr=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Xe){e.next=8;break}return e.next=4,he.EditarPedidosProduccion(Or);case 4:"1"==e.sent.data.data.messageStatus&&((0,K.fn)(),ee(1)),e.next=12;break;case 8:return e.next=10,he.InsertarPedidosProduccion(Or);case 10:null!=(r=e.sent).data.data.messageStatus&&((0,K.ys)(),Ge(!0),Lr("ppro_Id",r.data.data.messageStatus),kr("ppro_Id",r.data.data.messageStatus),Be(!1),xr.tab1=!1,ee(1));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),(0,K.bW)();case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),qr=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===r||""===r||null===r){e.next=8;break}return e.next=4,he.LoteMarial(r);case 4:(t=e.sent).length<=0?(Lr("Material",""),Lr("lote_Id",""),Ne(!0)):(Lr("Material",{value:t[0].lote_CodigoLote,label:"".concat(t[0].mate_Descripcion," - ").concat(t[0].colr_Nombre?"".concat(t[0].colr_Nombre," - ").concat(t[0].lote_CodigoLote):"".concat(t[0].lote_CodigoLote))}),Se(t[0].lote_Stock),Lr("lote_Id",t[0].lote_Id),Lr("lote_Codigo",t[0].lote_CodigoLote),Ne(!1)),e.next=13;break;case 8:Se(0),Lr("Material",""),Lr("lote_Id",""),Lr("ppde_Cantidad",""),Ne(!0);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),(0,K.bW)();case 18:return e.prev=18,setTimeout((function(){Fr()}),200),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(r){return e.apply(this,arguments)}}(),Ur=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!er){e.next=8;break}return e.next=4,he.EditarPedidosProduccionDetalle(Rr);case 4:null!=e.sent.data.data.messageStatus&&(zr(Rr.ppro_Id),Lr("ppde_Cantidad",""),Lr("Material",void 0),Lr("lote_Id",""),Lr("lote_Codigo",""),Ne(!0),Se(0),or(0),rr(!1),(0,K.fn)()),e.next=12;break;case 8:return e.next=10,he.InsertarPedidosProduccionDetalle(Rr);case 10:null!=e.sent.data.data.messageStatus&&(zr(Rr.ppro_Id),Lr("ppde_Cantidad",""),Lr("Material",void 0),Lr("lote_Id",""),Lr("lote_Codigo",""),Ne(!0),Se(0),or(0),(0,K.ys)("El registro se ha insertado exitosamente"));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),(0,K.bW)();case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),Vr=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.EliminarPedidosProduccionDetalles(Rr);case 3:"1"==(r=e.sent).data.data.messageStatus?((0,K.Pt)(),zr(Rr.ppro_Id),_r(),ae(""),Lr("ppde_Cantidad",""),Lr("Material"),Lr("lote_Id",""),Lr("lote_Codigo",""),Ne(!0),Se(0),rr(!1),delete Rr.Material):"0"==r.data.data.messageStatus&&(_r(),(0,K.KV)("El registro est\xe1 en uso")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,K.bW)();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Kr=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.FinalizarPedidoProduccion(Rr);case 3:"1"==e.sent.data.data.messageStatus&&((0,K.ys)(),q.Z.push("/PedidosProduccion/index")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,K.bW)();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,X.jsxs)(Z.Z,{sx:{minWidth:275,margin:"40px"},children:[(0,X.jsx)(v.Z,{component:"img",height:"200",image:"https://i.ibb.co/ZVVTwPz/PEDIDOS-DE-PRODUCCI-N.png",alt:"Encabezado de la carta"}),(0,X.jsxs)(p.Z,{sx:{bgcolor:"background.paper",width:"100%"},children:[(0,X.jsx)(M.Z,{position:"static",children:(0,X.jsxs)(A.Z,{value:G,onChange:function(e,r){ee(r)},indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",sx:{backgroundColor:"#e5e1fa",color:Q.black},children:[(0,X.jsx)(N.Z,(0,s.Z)({label:"I. Pedido de producci\xf3n Datos generales"},$(0))),(0,X.jsx)(N.Z,(0,s.Z)((0,s.Z)({label:"II. Pedido de producci\xf3n Detalles"},$(1)),{},{disabled:xr.tab1}))]})}),(0,X.jsxs)(T.ZP,{axis:"rtl"===r.direction?"x-reverse":"x",index:G,onChangeIndex:function(e){ee(e)},children:[(0,X.jsx)("form",{onSubmit:Cr((function(e){})),children:(0,X.jsxs)(Y,{value:G,index:0,dir:r.direction,children:[(0,X.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,X.jsx)(g.ZP,{item:!0,xs:6,children:(0,X.jsx)(z.Qr,{name:"ppro_Fecha",control:jr,render:function(e){var r=e.field;return(0,X.jsxs)(b.Z,{error:!!Nr.ppro_Fecha,fullWidth:!0,children:[(0,X.jsx)(C.Z,{children:"Fecha de Creaci\xf3n:"}),(0,X.jsx)(R.M,{onChange:function(e){return r.onChange(e)},value:r.value||null,required:!0,disableFuture:!0,maxDate:new Date,minDate:new Date(1900,0,1),renderInput:function(e){return(0,X.jsx)(j.Z,(0,s.Z)((0,s.Z)({className:"w-full"},e),{},{onBlur:r.onBlur,error:!!Nr.ppro_Fecha}))},className:"w-full"}),(0,X.jsxs)(I.Z,{children:[Nr.ppro_Fecha?"Ingrese una fecha valida":""," "]})]})}})}),(0,X.jsx)(g.ZP,{item:!0,xs:6,children:(0,X.jsx)("div",{className:" mb-16",children:(0,X.jsx)(z.Qr,{name:"Empleado",control:jr,render:function(e){var r,t=e.field;return(0,X.jsxs)(b.Z,{error:!!Nr.Empleado,fullWidth:!0,children:[(0,X.jsx)(C.Z,{error:!!Nr.Empleado,children:"Empleados:"}),(0,X.jsx)(y.Z,(0,s.Z)((0,s.Z)({},t),{},{disablePortal:!0,isOptionEqualToValue:function(e,r){return e.value===r.value},id:"Empleado",options:se,value:null!==(r=Or.Empleado)&&void 0!==r?r:null,onChange:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kr("Empleado",t),kr("ppro_Estados","Pendiente");case 2:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),renderInput:function(e){return(0,X.jsx)(j.Z,(0,s.Z)((0,s.Z)({},e),{},{error:!!Nr.Empleado,InputLabelProps:{shrink:!0}}))}}))]})}})})}),(0,X.jsx)(g.ZP,{item:!0,xs:12,children:(0,X.jsx)("div",{className:" mb-16",children:(0,X.jsx)(z.Qr,{render:function(e){var r=e.field;return(0,X.jsxs)(b.Z,{error:!!Nr.ppro_Observaciones,fullWidth:!0,children:[(0,X.jsx)(C.Z,{children:"Observaciones:"}),(0,X.jsx)(j.Z,(0,s.Z)((0,s.Z)({type:"text"},r),{},{error:!!Nr.ppro_Observaciones,variant:"outlined",multiline:!0,rows:8,inputprops:{startAdornment:(0,X.jsx)(k.Z,{position:"start"})}}))]})},name:"ppro_Observaciones",control:jr})})})]}),(0,X.jsxs)(g.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,X.jsx)(x.Z,{startIcon:(0,X.jsx)(m.Z,{children:"checked"}),variant:"contained",color:"primary",type:"submit",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(){Mr?Tr():(0,K.KV)()},children:Xe?"Editar":"Guardar"}),(0,X.jsx)(x.Z,{startIcon:(0,X.jsx)(m.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:function(){q.Z.push("/PedidosProduccion/index")},children:"Cancelar"})]})]})}),(0,X.jsxs)(Y,{value:G,index:1,dir:r.direction,children:[(0,X.jsx)("form",{onSubmit:wr((function(e){})),children:(0,X.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,X.jsx)(g.ZP,{item:!0,xs:3,children:(0,X.jsx)(z.Qr,{name:"lote_Codigo",control:Er,render:function(e){var r=e.field;return(0,X.jsxs)(b.Z,{error:!!Ar.lote_Codigo,fullWidth:!0,children:[(0,X.jsx)(C.Z,{children:"Codig\xf3 del Lote:"}),(0,X.jsx)(j.Z,(0,s.Z)((0,s.Z)({},r),{},{error:!!Ar.lote_Codigo,variant:"outlined",type:"text",value:Rr.lote_Codigo,onKeyUp:function(){qr(r.value)},InputProps:{inputProps:{step:1,min:0},startAdornment:(0,X.jsx)(k.Z,{position:"start"})}})),(0,X.jsx)(I.Z,{style:{color:"red"},children:Rr.Material||void 0===Rr.Material?"":"El lote No Existe"})]})}})}),(0,X.jsxs)(g.ZP,{item:!0,xs:3,children:[(0,X.jsx)(C.Z,{children:"Stock:"}),(0,X.jsx)("div",{className:"col-span-2 flex flex-col items-center justify-center py-12 px-4 rounded-2xl bg-blue-50 text-blue-800",children:(0,X.jsx)(u.Z,{className:"mt-3 text-sm sm:text-lg font-medium",children:cr==Rr.lote_Id?De+ar:De})})]}),(0,X.jsx)(g.ZP,{item:!0,xs:6,children:(0,X.jsx)("div",{className:" mb-16",children:(0,X.jsx)(z.Qr,{name:"Material",control:Er,render:function(e){var r,t=e.field;return(0,X.jsxs)(b.Z,{error:!!Ar.Material,fullWidth:!0,children:[(0,X.jsx)(C.Z,{children:"Material:"}),(0,X.jsx)(y.Z,(0,s.Z)((0,s.Z)({},t),{},{disablePortal:!0,isOptionEqualToValue:function(e,r){return e.value===r.value},id:"Material",options:pe,disableClearable:!0,value:null!==(r=Rr.Material)&&void 0!==r?r:null,onChange:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qr(t.value),Lr("ppde_Cantidad",""),Lr("lote_Codigo",t.value);case 3:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),renderInput:function(e){return(0,X.jsx)(j.Z,(0,s.Z)((0,s.Z)({},e),{},{error:!!Ar.Material,InputLabelProps:{shrink:!0}}))}}))]})}})})}),(0,X.jsx)(g.ZP,{item:!0,xs:6,children:(0,X.jsx)(z.Qr,{name:"ppde_Cantidad",control:Er,render:function(e){var r=e.field;return(0,X.jsxs)(b.Z,{error:!!Ar.ppde_Cantidad,fullWidth:!0,children:[(0,X.jsx)(C.Z,{children:"Cantidad:"}),(0,X.jsx)(j.Z,(0,s.Z)((0,s.Z)({disabled:Me},r),{},{error:!!Ar.ppde_Cantidad,variant:"outlined",type:"text",onKeyUp:function(){var e;null!==(e=r.value)&&""!==e&&void 0!==e&&(er?cr==Rr.lote_Id?parseInt(e)>parseInt(ar)+parseInt(De)?(Be(!0),(0,K.go)("La Cantidad Sobrepasa el Stock \n Actualmente contamos con ".concat(parseInt(ar)+parseInt(De)," items en este lote!"))):(Be(!1),0==e&&Be(!0)):(or(0),e>De?(Be(!0),(0,K.go)("La Cantidad Sobrepasa el Stock \n Actualmente contamos con ".concat(De," items en este lote!"))):(Be(!1),0==e&&Be(!0))):e>De?(Be(!0),(0,K.go)("La Cantidad Sobrepasa el Stock \n Actualmente contamos con ".concat(De," items en este lote!"))):(Be(!1),0==e&&Be(!0)))},InputProps:{inputProps:{step:1,min:0},startAdornment:(0,X.jsx)(k.Z,{position:"start"})},onKeyPress:function(e){/[0-9]/.test(e.key)||e.preventDefault()}}))]})}})}),(0,X.jsxs)(g.ZP,{item:!0,xs:6,style:{marginTop:"10px"},children:[(0,X.jsx)(x.Z,{startIcon:(0,X.jsx)(m.Z,{children:"add"}),variant:"contained",color:"primary",style:{borderRadius:"10px",marginRight:"10px",marginTop:"15px"},sx:{backgroundColor:"#d1af3c",color:"white","&:hover":{backgroundColor:"#B99B36"}},type:"submit",disabled:Re,onClick:function(){""!==Rr.ppro_Id&&""!==Rr.ppde_Cantidad&&""!==Rr.lote_Id?Ur():(0,K.KV)()},children:er?"Editar":"Agregar"}),(0,X.jsx)(x.Z,{startIcon:(0,X.jsx)(m.Z,{children:"close"}),variant:"contained",color:"primary",visible:er,style:{borderRadius:"10px",marginTop:"10px",backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"},visibility:er?"visible":"hidden"},onClick:function(){rr(!1),Lr("ppde_Cantidad",""),Lr("Material"),Lr("lote_Id",""),Lr("lote_Codigo",""),dr(0),or(0),Ne(!0),Se(0),delete Rr.Material},children:"Cancelar"})]})]})}),(0,X.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,X.jsx)(g.ZP,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,X.jsxs)(h.Z,{direction:"row",spacing:1,justifyContent:"flex-end",children:[(0,X.jsx)("label",{className:"mt-8",children:"Filas por p\xe1gina:"}),(0,X.jsx)(b.Z,{sx:{minWidth:50},size:"small",children:(0,X.jsxs)(P.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:Ze,onChange:function(e){ve(e.target.value)},children:[(0,X.jsx)(f.Z,{value:10,children:"10"}),(0,X.jsx)(f.Z,{value:25,children:"25"}),(0,X.jsx)(f.Z,{value:50,children:"50"})]})}),(0,X.jsx)(j.Z,{style:{borderRadius:"10px"},placeholder:"Buscar",value:ne,onChange:function(e){ae(e.target.value)},size:"small",variant:"outlined",InputProps:{startAdornment:(0,X.jsx)(k.Z,{position:"start",children:(0,X.jsx)(w.Z,{edge:"start",children:(0,X.jsx)(l.Z,{})})})}})]})}),(0,X.jsx)("div",{className:"center",style:{width:"95%",margin:"auto",marginTop:"10px"},children:(0,X.jsx)(B.Z,{columns:Zr,dataSource:Wr,size:"small",locale:{triggerDesc:"Ordenar descendente",triggerAsc:"Ordenar ascendente",cancelSort:"Cancelar",emptyText:(0,U.Z)()},pagination:{pageSize:Ze,showSizeChanger:!1,className:"custom-pagination"}})})]}),(0,X.jsxs)(g.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right",marginTop:"10px"},children:[(0,X.jsx)(x.Z,{startIcon:(0,X.jsx)(m.Z,{children:"checked"}),variant:"contained",color:"primary",type:"submit",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:function(){q.Z.push("/PedidosProduccion/index")},children:"Guardar"}),(0,X.jsx)(x.Z,{startIcon:(0,X.jsx)(m.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:function(){q.Z.push("/PedidosProduccion/index")},children:"Cancelar"})]}),(0,X.jsxs)(E.Z,{open:Te,fullWidth:!0,onClose:_r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,X.jsx)(D.Z,{id:"alert-dialog-title",children:"Confirmaci\xf3n de Eliminaci\xf3n"}),(0,X.jsx)(S.Z,{children:(0,X.jsx)(L.Z,{id:"alert-dialog-description",children:"\xbfEst\xe1 seguro(a) que desea eliminar este registro?"})}),(0,X.jsx)(F.Z,{children:(0,X.jsxs)(g.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,X.jsx)(x.Z,{startIcon:(0,X.jsx)(m.Z,{children:"checked"}),variant:"contained",color:"error",style:{borderRadius:"10px",marginRight:"10px"},onClick:Vr,children:"Eliminar"}),(0,X.jsx)(x.Z,{startIcon:(0,X.jsx)(m.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:_r,children:"Cancelar"})]})})]}),(0,X.jsxs)(E.Z,{open:Ke,fullWidth:!0,onClose:mr,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,X.jsx)(D.Z,{id:"alert-dialog-title",children:"Confirmaci\xf3n de Finalizaci\xf3n"}),(0,X.jsx)(S.Z,{children:(0,X.jsxs)(L.Z,{id:"alert-dialog-description",children:["\xbfEst\xe1 seguro(a) de que desea finalizar el pedido? ",(0,X.jsx)("br",{}),"Le recordamos que una vez que el pedido sea finalizado, no ser\xe1 posible realizar modificaciones en el mismo."]})}),(0,X.jsx)(F.Z,{children:(0,X.jsxs)(g.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,X.jsx)(x.Z,{startIcon:(0,X.jsx)(m.Z,{children:"checked"}),variant:"contained",color:"primary",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:Kr,children:"Finalizar"}),(0,X.jsx)(x.Z,{startIcon:(0,X.jsx)(m.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:mr,children:"Cancelar"})]})})]})]})]})]})]})}},34136:function(e,r,t){var n=t(74165),a=t(15861),o=t(31881),i=t.n(o),s=t(9098);r.Z=function(){var e={XApiKey:s.Z.extraerToken()},r=i().create({baseURL:"https://practicaacademia.somee.com/api/PedidosProduccion/",headers:e}),t=i().create({baseURL:"https://practicaacademia.somee.com/api/PedidosProduccionDetalles/",headers:e}),o=i().create({baseURL:"https://practicaacademia.somee.com/api/Lotes/",headers:e}),c=JSON.parse(localStorage.getItem("user"));function d(){return(d=(0,a.Z)((0,n.Z)().mark((function e(){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.get("Listar");case 3:return t=e.sent,a=t.data.data.map((function(e,r){var t=JSON.parse(e.detalles),n=null;return t&&(n=t.map((function(e,r){return{key:r+1,ppde_Id:e.ppde_Id,lote_Id:e.lote_Id,lote_CodigoLote:e.lote_CodigoLote,ppde_Cantidad:e.ppde_Cantidad,mate_Descripcion:e.mate_Descripcion,tipa_area:e.tipa_area}}))),{key:r+1,ppro_Id:e.ppro_Id,empl_Id:e.empl_Id,empl_NombreCompleto:e.empl_NombreCompleto,ppro_Fecha:e.ppro_Fecha,ppro_Estados:e.ppro_Estados,ppro_Observaciones:e.ppro_Observaciones,ppro_Finalizado:e.ppro_Finalizado,detalles:n,usua_UsuarioCreacion:e.usua_UsuarioCreacion,usuarioCreacionNombre:e.usuarioCreacionNombre,ppro_FechaCreacion:e.ppro_FechaCreacion,usua_UsuarioModificacion:e.usua_UsuarioModificacion,usuModificacion:e.usuarioModificacionNombre,ppro_FechaModificacion:e.ppro_FechaModificacion,ppro_Estado:e.ppro_Estado}})),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function l(){return(l=(0,a.Z)((0,n.Z)().mark((function e(){var t,a,o,i,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.get("Listar");case 3:for(t=e.sent,a=t.data.data.map((function(e,r){var t=JSON.parse(e.detalles),n=null;return t&&(n=t.map((function(e,r){return{key:r+1,ppro_Id:e.ppro_Id,ppde_Id:e.ppde_Id,lote_Id:e.lote_Id,lote_CodigoLote:e.lote_CodigoLote,ppde_Cantidad:e.ppde_Cantidad,mate_Descripcion:e.mate_Descripcion,tipa_area:e.tipa_area}}))),{key:r+1,empl_NombreCompleto:e.empl_NombreCompleto,ppro_Estados:e.ppro_Estados,ppro_Observaciones:e.ppro_Observaciones,ppro_Id:e.ppro_Id,detalles:n}})),o=[],i=0;i<a.length;i++){if(a[i].detalles)for(s=0;s<a[i].detalles.length;s++)a[i].ppro_Id==a[i].detalles[s].ppro_Id&&(o[i]+=" {No.: ".concat(s+1,", Lote: ").concat(a[i].detalles[s].lote_CodigoLote,", Cantidad: ").concat(a[i].detalles[s].ppde_Cantidad,", Meterial: ").concat(a[i].detalles[s].mate_Descripcion,"} "));else o.push("");a[i].detalles=o[i].toString().replace("undefined","")}return e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function p(){return(p=(0,a.Z)((0,n.Z)().mark((function e(t){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={empl_Id:t.Empleado.value,ppro_Fecha:t.ppro_Fecha,ppro_Estados:t.ppro_Estados.trim(),ppro_Observaciones:t.ppro_Observaciones.trim(),usua_UsuarioCreacion:c.uuid,ppro_FechaCreacion:s.Z.formatFechaHora(new Date)},e.next=4,r.post("Insertar",a);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(){return(u=(0,a.Z)((0,n.Z)().mark((function e(t){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={ppro_Id:t.ppro_Id,empl_Id:t.Empleado.value,ppro_Fecha:t.ppro_Fecha,ppro_Estados:t.ppro_Estados.trim(),ppro_Observaciones:t.ppro_Observaciones.trim(),usua_UsuarioModificacion:c.uuid,ppro_FechaModificacion:s.Z.formatFechaHora(new Date)},e.next=4,r.post("Editar",a);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(){return(h=(0,a.Z)((0,n.Z)().mark((function e(t){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={ppro_Id:t.id},e.next=4,r.post("Eliminar",a);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function x(){return(x=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.get("LotesMateriales?lote_CodigoLote="+r);case 3:return t=e.sent,a=t.data.data.map((function(e,r){return{lote_Id:e.lote_Id,mate_Id:e.mate_Id,lote_CodigoLote:e.lote_CodigoLote,colr_Codigo:e.colr_Codigo,colr_Nombre:e.colr_Nombre,lote_Stock:e.lote_Stock,mate_Descripcion:e.mate_Descripcion}})),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m(){return(m=(0,a.Z)((0,n.Z)().mark((function e(r){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("Filtrar?ppro_Id="+r);case 3:return a=e.sent,o=a.data.data.map((function(e,r){return{key:r+1,ppde_Id:e.ppde_Id,ppro_Id:e.ppro_Id,lote_Id:e.lote_Id,lote_CodigoLote:e.lote_CodigoLote,colr_Codigo:e.colr_Codigo,colr_Nombre:e.colr_Nombre,mate_Descripcion:e.mate_Descripcion,ppde_Cantidad:e.ppde_Cantidad}})),e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function _(){return(_=(0,a.Z)((0,n.Z)().mark((function e(r){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={ppro_Id:r.ppro_Id,lote_Id:r.lote_Id,ppde_Cantidad:r.ppde_Cantidad,usua_UsuarioCreacion:c.uuid,ppde_FechaCreacion:s.Z.formatFechaHora(new Date)},e.next=4,t.post("Insertar",a);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function f(){return(f=(0,a.Z)((0,n.Z)().mark((function e(r){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={ppde_Id:r.id,ppro_Id:r.ppro_Id,lote_Id:r.lote_Id,ppde_Cantidad:r.ppde_Cantidad,usua_UsuarioModificacion:c.uuid,ppde_FechaModificacion:s.Z.formatFechaHora(new Date)},e.next=4,t.post("Editar",a);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Z(){return(Z=(0,a.Z)((0,n.Z)().mark((function e(r){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={ppde_Id:r.id},e.next=4,t.post("Eliminar",a);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(){return(v=(0,a.Z)((0,n.Z)().mark((function e(t){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={ppro_Id:t.ppro_Id},e.next=4,r.post("FinalizarPedidoProduccion",a);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return{ListarPedidosProduccion:function(){return d.apply(this,arguments)},InsertarPedidosProduccion:function(e){return p.apply(this,arguments)},EditarPedidosProduccion:function(e){return u.apply(this,arguments)},EliminarPedidosProduccion:function(e){return h.apply(this,arguments)},ListarPedidosProduccionDetalle:function(e){return m.apply(this,arguments)},LoteMarial:function(e){return x.apply(this,arguments)},InsertarPedidosProduccionDetalle:function(e){return _.apply(this,arguments)},EditarPedidosProduccionDetalle:function(e){return f.apply(this,arguments)},EliminarPedidosProduccionDetalles:function(e){return Z.apply(this,arguments)},FinalizarPedidoProduccion:function(e){return v.apply(this,arguments)},ExportData:function(){return l.apply(this,arguments)}}}},89145:function(e,r,t){t(47313);var n=t(85281),a=t(53191),o=t(46417);r.Z=function(e){var r=(0,o.jsxs)(a.Z,{container:!0,spacing:2,display:"flex",justifyContent:"center",alignContent:"center",marginY:"10px",children:[(0,o.jsx)(a.Z,{item:!0,xs:12,children:(0,o.jsx)(n.Z,{style:{color:"#634a9e"}})}),(0,o.jsx)(a.Z,{item:!0,xs:12,children:"Cargando..."})]});return null==e||e.length>0?null:r}}}]);