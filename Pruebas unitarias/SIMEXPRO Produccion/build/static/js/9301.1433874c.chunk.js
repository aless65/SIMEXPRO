"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[9301],{9301:function(r,e,o){o.r(e);var n=o(1413),a=o(74165),t=o(15861),i=o(29439),s=o(19536),c=o(66212),u=o(1550),p=o(24631),l=o(41727),d=o(15480),v=o(25298),m=o(24193),x=o(71263),f=o(73428),_=o(93405),h=o(16957),Z=o(5178),C=o(9019),b=o(47313),j=o(58467),N=o(521),P=o(62563),E=o(75627),g=o(3463),k=(o(77453),o(30210)),I=o(68673),y=o(51111),w=o.n(y),F=(o(88282),o(75265)),T=o(46417);e.default=function(){var r=(0,I.Z)(),e=new k.Z,o=(0,b.useState)([]),y=(0,i.Z)(o,2),D=y[0],W=y[1],A=(0,b.useState)([]),U=(0,i.Z)(A,2),q=U[0],Q=U[1],S=(0,b.useState)([]),R=(0,i.Z)(S,2),V=R[0],M=R[1],B=(0,j.TH)().state,L=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(){var o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.paises();case 3:o=e.sent,W(o),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(o){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=8;break}return e.next=4,r.ProvinciasPorPais(parseInt(o));case 4:n=e.sent,Q(n),e.next=9;break;case 8:Q([]);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),z=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(o){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=9;break}return e.next=4,r.CiudadesPorProvincia(parseInt(o));case 4:n=e.sent,rr(),M(n),e.next=10;break;case 9:M([]);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}(),H={id:B.prov_Id,prov_NombreCompania:B.prov_NombreCompania,prov_NombreContacto:B.prov_NombreContacto,prov_Telefono:B.prov_Telefono,prov_CodigoPostal:B.prov_CodigoPostal,Pais:null,provincia:null,Ciudad:null,prov_DireccionExacta:B.prov_DireccionExacta,prov_CorreoElectronico:B.prov_CorreoElectronico,prov_Fax:null==B.prov_Fax?"":B.prov_Fax};(0,b.useEffect)((function(){L(),rr("Pais",{value:parseInt(B.pais_Id),label:"".concat(B.pais_Codigo," - ").concat(B.pais_Nombre)}),O(parseInt(B.pais_Id)),rr("provincia",{value:parseInt(B.pvin_Id),label:B.pvin_Nombre}),z(parseInt(B.pvin_Id)),rr("Ciudad",{value:parseInt(B.prov_Ciudad),label:B.ciud_Nombre})}),[]);var K=g.Ry().shape({id:g.Z_(),prov_NombreCompania:g.Z_().trim().required(""),prov_NombreContacto:g.Z_().trim().required(""),prov_Telefono:g.Z_().trim().required("").test("formato","N\xfamero de tel\xe9fono incompleto",(function(r){return!!/^\+504 \d{4}-\d{4}$/.test(r)})),prov_CodigoPostal:g.Z_().trim().required(""),Pais:g.Ry().required(""),provincia:g.Ry().required(""),Ciudad:g.Ry().required(""),prov_DireccionExacta:g.Z_().trim().required(""),prov_CorreoElectronico:g.Z_().trim().required("").test("formato","Correo Electr\xf3nico Incorrecto",(function(r){return!!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r)})),prov_Fax:g.Z_().trim()}),X=(0,E.cI)({defaultValues:H,mode:"all",resolver:(0,P.X)(K)}),$=X.handleSubmit,J=(X.register,X.reset,X.control),G=X.watch,Y=X.formState,rr=X.setValue,er=Y.isValid,or=(Y.dirtyFields,Y.errors),nr=(Y.touchedFields,G()),ar=function(){var r=(0,t.Z)((0,a.Z)().mark((function r(){var o;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.editar(nr);case 3:"1"==(o=r.sent).data.data.messageStatus?(N.Z.push("/Proveedores/index"),(0,F.fn)()):o.data.data.messageStatus.includes("UNIQUE")&&(0,F.d0)(),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),(0,F.bW)();case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(){return r.apply(this,arguments)}}(),tr=function(){var r=(0,t.Z)((0,a.Z)().mark((function r(){return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:er?ar():(0,F.KV)();case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,T.jsx)("form",{onSubmit:$((function(r){})),children:(0,T.jsxs)(f.Z,{sx:{minWidth:275,margin:"40px"},children:[(0,T.jsx)(h.Z,{component:"img",height:"200",image:"https://i.ibb.co/sVPNb5T/PROVEEDORES.png",alt:"Encabezado de la carta"}),(0,T.jsx)(_.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,T.jsxs)(C.ZP,{container:!0,spacing:3,children:[(0,T.jsx)(C.ZP,{item:!0,xs:12,style:{marginBottom:"30px"},children:(0,T.jsx)(s.Z,{style:{marginTop:"0px"},children:(0,T.jsx)(c.Z,{label:"Editar Proveedor"})})}),(0,T.jsx)(C.ZP,{item:!0,xs:6,children:(0,T.jsx)("div",{className:" mb-16",children:(0,T.jsx)(E.Qr,{render:function(r){var e=r.field;return(0,T.jsxs)(u.Z,{error:!!or.prov_NombreCompania,fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Nombre de la Compa\xf1\xeda:"}),(0,T.jsx)(p.Z,(0,n.Z)((0,n.Z)({},e),{},{error:!!or.prov_NombreCompania,variant:"outlined",fullWidth:!0,inputprops:{startAdornment:(0,T.jsx)(l.Z,{position:"start"})}}))]})},name:"prov_NombreCompania",control:J})})}),(0,T.jsx)(C.ZP,{item:!0,xs:6,children:(0,T.jsx)("div",{className:" mb-16",children:(0,T.jsx)(E.Qr,{render:function(r){var e=r.field;return(0,T.jsxs)(u.Z,{error:!!or.prov_NombreContacto,fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Nombre del Contacto:"}),(0,T.jsx)(p.Z,(0,n.Z)((0,n.Z)({},e),{},{error:!!or.prov_NombreContacto,variant:"outlined",fullWidth:!0,inputprops:{startAdornment:(0,T.jsx)(l.Z,{position:"start"})}}))]})},name:"prov_NombreContacto",control:J})})}),(0,T.jsx)(C.ZP,{item:!0,xs:6,children:(0,T.jsx)("div",{className:" mb-16",children:(0,T.jsx)(E.Qr,{render:function(r){var e=r.field;return(0,T.jsx)(w(),{mask:"+504 9999-9999",value:nr.prov_Telefono,onChange:e.onChange,onBlur:e.onBlur,maskChar:"",children:function(){return(0,T.jsxs)(u.Z,{error:!!or.prov_Telefono,fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Tel\xe9fono o Celular:"}),(0,T.jsx)(p.Z,(0,n.Z)((0,n.Z)({},e),{},{variant:"outlined",error:!!or.prov_Telefono,fullWidth:!0,inputprops:{startAdornment:(0,T.jsx)(l.Z,{position:"start"})}})),(0,T.jsxs)(d.Z,{children:[or.prov_Telefono?"Ingrese todo el n\xfamero de tel\xe9fono":""," "]})]})}})},name:"prov_Telefono",control:J})})}),(0,T.jsx)(C.ZP,{item:!0,xs:6,children:(0,T.jsx)("div",{className:" mb-16",children:(0,T.jsx)(E.Qr,{render:function(r){var e=r.field;return(0,T.jsxs)(u.Z,{error:!!or.prov_CodigoPostal,fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"C\xf3digo Postal:"}),(0,T.jsx)(p.Z,(0,n.Z)((0,n.Z)({},e),{},{type:"number",error:!!or.prov_CodigoPostal,variant:"outlined",fullWidth:!0,inputprops:{startAdornment:(0,T.jsx)(l.Z,{position:"start"})}}))]})},name:"prov_CodigoPostal",control:J})})}),(0,T.jsx)(C.ZP,{item:!0,xs:6,children:(0,T.jsx)("div",{className:" mb-16",children:(0,T.jsx)(E.Qr,{render:function(r){var e=r.field;return(0,T.jsxs)(u.Z,{error:!!or.prov_CorreoElectronico,fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Correo Electr\xf3nico:"}),(0,T.jsx)(p.Z,(0,n.Z)((0,n.Z)({},e),{},{error:!!or.prov_CorreoElectronico,variant:"outlined",fullWidth:!0,inputprops:{startAdornment:(0,T.jsx)(l.Z,{position:"start"})}})),(0,T.jsxs)(d.Z,{children:[or.prov_CorreoElectronico?"Ingres\xe9 Un Correo Electr\xf3nico Valido":""," "]})]})},name:"prov_CorreoElectronico",control:J})})}),(0,T.jsx)(C.ZP,{item:!0,xs:6,children:(0,T.jsx)("div",{className:" mb-16",children:(0,T.jsx)(E.Qr,{render:function(r){var e=r.field;return(0,T.jsxs)(u.Z,{error:!!or.prov_Fax,fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Fax:"}),(0,T.jsx)(p.Z,(0,n.Z)((0,n.Z)({type:"number"},e),{},{error:!!or.prov_Fax,variant:"outlined",fullWidth:!0,inputprops:{startAdornment:(0,T.jsx)(l.Z,{position:"start"})}}))]})},name:"prov_Fax",control:J})})}),(0,T.jsx)(C.ZP,{item:!0,xs:6,children:(0,T.jsx)("div",{className:" mb-16",children:(0,T.jsx)(E.Qr,{name:"Pais",control:J,render:function(r){var e,o=r.field;return(0,T.jsxs)(u.Z,{error:!!or.Pais,fullWidth:!0,children:[(0,T.jsx)(Z.Z,{error:!!or.Pais,children:"Pa\xeds:"}),(0,T.jsx)(v.Z,(0,n.Z)((0,n.Z)({},o),{},{disablePortal:!0,isOptionEqualToValue:function(r,e){return r.value===e.value},disableClearable:!0,id:"Pais",options:D,value:null!==(e=nr.Pais)&&void 0!==e?e:null,onChange:function(){var r=(0,t.Z)((0,a.Z)().mark((function r(e,o){return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:rr("Pais",o),rr("provincia",null),rr("Ciudad",null),O(null===o||void 0===o?void 0:o.value),o||rr("pvin_Id",[]);case 5:case"end":return r.stop()}}),r)})));return function(e,o){return r.apply(this,arguments)}}(),renderInput:function(r){return(0,T.jsx)(p.Z,(0,n.Z)((0,n.Z)({},r),{},{error:!!or.Pais,InputLabelProps:{shrink:!0}}))}}))]})}})})}),(0,T.jsx)(C.ZP,{item:!0,xs:6,children:(0,T.jsx)("div",{className:"mb-16",children:(0,T.jsx)(E.Qr,{name:"provincia",control:J,render:function(r){var e=r.field;return(0,T.jsxs)(u.Z,{fullWidth:!0,children:[(0,T.jsx)(Z.Z,{error:!!or.provincia,children:"Provincia:"}),(0,T.jsx)(v.Z,(0,n.Z)((0,n.Z)({disableClearable:!0},e),{},{disablePortal:!0,id:"provincia",isOptionEqualToValue:function(r,e){return r.value===e.value},options:q,value:nr.provincia,onChange:function(r,e){rr("provincia",e),rr("Ciudad",""),z(null===e||void 0===e?void 0:e.value)},renderInput:function(r){return(0,T.jsx)(p.Z,(0,n.Z)((0,n.Z)({},r),{},{error:!!or.provincia,InputLabelProps:{shrink:!0}}))}}))]})}})})}),(0,T.jsx)(C.ZP,{item:!0,xs:6,children:(0,T.jsx)("div",{className:"mb-16",children:(0,T.jsx)(E.Qr,{name:"Ciudad",control:J,render:function(r){var e=r.field;return(0,T.jsxs)(u.Z,{fullWidth:!0,children:[(0,T.jsx)(Z.Z,{error:!!or.Ciudad,children:"Ciudad:"}),(0,T.jsx)(v.Z,(0,n.Z)((0,n.Z)({disableClearable:!0},e),{},{disablePortal:!0,id:"Ciudad",isOptionEqualToValue:function(r,e){return r.value===e.value},options:V,value:nr.Ciudad,onChange:function(r,e){rr("Ciudad",e)},renderInput:function(r){return(0,T.jsx)(p.Z,(0,n.Z)((0,n.Z)({},r),{},{error:!!or.Ciudad,InputLabelProps:{shrink:!0}}))}}))]})}})})}),(0,T.jsx)(C.ZP,{item:!0,xs:12,children:(0,T.jsx)("div",{className:" mb-16",children:(0,T.jsx)(E.Qr,{render:function(r){var e=r.field;return(0,T.jsxs)(u.Z,{error:!!or.prov_DireccionExacta,fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Direcci\xf3n Exacta:"}),(0,T.jsx)(p.Z,(0,n.Z)((0,n.Z)({},e),{},{error:!!or.prov_DireccionExacta,variant:"outlined",inputprops:{startAdornment:(0,T.jsx)(l.Z,{position:"start"})}}))]})},name:"prov_DireccionExacta",control:J})})}),(0,T.jsxs)(C.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"right",alignItems:"right"},children:[(0,T.jsx)(m.Z,{startIcon:(0,T.jsx)(x.Z,{children:"checked"}),variant:"contained",color:"primary",type:"submit",style:{borderRadius:"10px",marginRight:"10px"},sx:{backgroundColor:"#634A9E",color:"white","&:hover":{backgroundColor:"#6e52ae"}},onClick:tr,children:"Editar"}),(0,T.jsx)(m.Z,{startIcon:(0,T.jsx)(x.Z,{children:"close"}),variant:"contained",color:"primary",style:{borderRadius:"10px"},sx:{backgroundColor:"#DAD8D8",color:"black","&:hover":{backgroundColor:"#BFBABA"}},onClick:function(){N.Z.push("/Proveedores/Index")},children:"Cancelar"})]})]})})]})})}},30210:function(r,e,o){var n=o(74165),a=o(15861),t=o(31881),i=o.n(t),s=o(9098);e.Z=function(){var r={XApiKey:s.Z.extraerToken()},e=i().create({baseURL:"https://practicaacademia.somee.com/api/Proveedores/",headers:r}),o=JSON.parse(localStorage.getItem("user"));function t(){return(t=(0,a.Z)((0,n.Z)().mark((function r(){var o,a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.get("Listar");case 3:return o=r.sent,a=o.data.data.map((function(r,e){return{key:e+1,prov_Id:r.prov_Id,prov_NombreCompania:r.prov_NombreCompania,prov_NombreContacto:r.prov_NombreContacto,prov_Telefono:r.prov_Telefono,prov_CodigoPostal:r.prov_CodigoPostal,prov_Ciudad:r.prov_Ciudad,ciud_Nombre:r.ciud_Nombre,pvin_Id:r.pvin_Id,pvin_Nombre:r.pvin_Nombre,pais_Id:r.pais_Id,pais_Codigo:r.pais_Codigo,pais_Nombre:r.pais_Nombre,prov_DireccionExacta:r.prov_DireccionExacta,prov_CorreoElectronico:r.prov_CorreoElectronico,prov_Fax:r.prov_Fax,usua_UsuarioCreacion:r.usua_UsuarioCreacion,prov_FechaCreacion:r.prov_FechaCreacion,usuarioCreacionNombre:r.usuarioCreacionNombre,usua_UsuarioModificacion:r.usua_UsuarioModificacion,prov_FechaModificacion:r.prov_FechaModificacion,usuarioModificadorNombre:r.usuarioModificadorNombre,usua_UsuarioEliminacion:r.usua_UsuarioEliminacion,prov_FechaEliminacion:r.prov_FechaEliminacion,usuarioEliminacionNombre:r.usuarioEliminacionNombre,prov_Estado:r.prov_Estado}})),r.abrupt("return",a);case 8:r.prev=8,r.t0=r.catch(0);case 10:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}function c(){return(c=(0,a.Z)((0,n.Z)().mark((function r(){var o,a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.get("Listar");case 3:return o=r.sent,a=o.data.data.map((function(r,e){return{key:e+1,prov_NombreCompania:r.prov_NombreCompania,prov_NombreContacto:r.prov_NombreContacto,prov_Telefono:r.prov_Telefono}})),r.abrupt("return",a);case 8:r.prev=8,r.t0=r.catch(0);case 10:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}function u(){return(u=(0,a.Z)((0,n.Z)().mark((function r(a){var t,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t={prov_NombreCompania:a.prov_NombreCompania.trim(),prov_NombreContacto:a.prov_NombreContacto.trim(),prov_Telefono:a.prov_Telefono.trim(),prov_CodigoPostal:a.prov_CodigoPostal.trim(),prov_Ciudad:a.Ciudad.value,prov_DireccionExacta:a.prov_DireccionExacta.trim(),prov_CorreoElectronico:a.prov_CorreoElectronico.trim(),prov_Fax:a.prov_Fax.trim(),usua_UsuarioCreacion:o.uuid,prov_FechaCreacion:s.Z.formatFechaHora(new Date)},r.next=4,e.post("Insertar",t);case 4:return i=r.sent,r.abrupt("return",i);case 8:r.prev=8,r.t0=r.catch(0);case 10:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}function p(){return(p=(0,a.Z)((0,n.Z)().mark((function r(a){var t,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t={prov_Id:a.id,prov_NombreCompania:a.prov_NombreCompania.trim(),prov_NombreContacto:a.prov_NombreContacto.trim(),prov_Telefono:a.prov_Telefono.trim(),prov_CodigoPostal:a.prov_CodigoPostal.trim(),prov_Ciudad:a.Ciudad.value,prov_DireccionExacta:a.prov_DireccionExacta.trim(),prov_CorreoElectronico:a.prov_CorreoElectronico.trim(),prov_Fax:a.prov_Fax.trim(),usua_UsuarioModificacion:o.uuid,prov_FechaModificacion:s.Z.formatFechaHora(new Date)},r.next=4,e.post("Editar",t);case 4:return i=r.sent,r.abrupt("return",i);case 8:r.prev=8,r.t0=r.catch(0);case 10:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}function l(){return(l=(0,a.Z)((0,n.Z)().mark((function r(a){var t,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t={prov_Id:a.id,usua_UsuarioEliminacion:o.uuid,prov_FechaEliminacion:s.Z.formatFechaHora(new Date)},r.next=4,e.post("Eliminar",t);case 4:return i=r.sent,r.abrupt("return",i);case 8:r.prev=8,r.t0=r.catch(0);case 10:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}return{listar:function(){return t.apply(this,arguments)},crear:function(r){return u.apply(this,arguments)},editar:function(r){return p.apply(this,arguments)},eliminar:function(r){return l.apply(this,arguments)},ExportData:function(){return c.apply(this,arguments)}}}}}]);